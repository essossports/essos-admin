var gx=Object.defineProperty,yx=Object.defineProperties;var vx=Object.getOwnPropertyDescriptors;var sI=Object.getOwnPropertySymbols,_x=Object.getPrototypeOf,wx=Object.prototype.hasOwnProperty,Ix=Object.prototype.propertyIsEnumerable,Ex=Reflect.get;var aI=(t,e,n)=>e in t?gx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||={})wx.call(e,n)&&aI(t,n,e[n]);if(sI)for(var n of sI(e))Ix.call(e,n)&&aI(t,n,e[n]);return t},fe=(t,e)=>yx(t,vx(e));var Lr=(t,e,n)=>Ex(_x(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var cI=null;var If=1,Ef=Symbol("SIGNAL");function ae(t){let e=cI;return cI=t,e}var uI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Dx(t){if(!(Cf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===If)){if(!t.producerMustRecompute(t)&&!Df(t)){t.dirty=!1,t.lastCleanEpoch=If;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=If}}function lI(t){return t&&(t.nextProducerIndex=0),ae(t)}function dI(t,e){if(ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Cf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)bf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Df(t){au(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Dx(n),r!==n.version))return!0}return!1}function hI(t){if(au(t),Cf(t))for(let e=0;e<t.producerNode.length;e++)bf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bf(t,e){if(bx(t),au(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)bf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];au(i),i.producerIndexOfThis[r]=e}}function Cf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function au(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function bx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Cx(){throw new Error}var Tx=Cx;function fI(t){Tx=t}function B(t){return typeof t=="function"}function Po(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cu=Po(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ei(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(B(r))try{r()}catch(o){e=o instanceof cu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{pI(o)}catch(s){e=e??[],s instanceof cu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new cu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)pI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ei(n,e)}remove(e){let{_finalizers:n}=this;n&&Ei(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var Tf=Ue.EMPTY;function uu(t){return t instanceof Ue||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function pI(t){B(t)?t():t.unsubscribe()}var vn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ko={setTimeout(t,e,...n){let{delegate:r}=ko;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ko;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function lu(t){ko.setTimeout(()=>{let{onUnhandledError:e}=vn;if(e)e(t);else throw t})}function ra(){}var mI=Sf("C",void 0,void 0);function gI(t){return Sf("E",void 0,t)}function yI(t){return Sf("N",t,void 0)}function Sf(t,e,n){return{kind:t,value:e,error:n}}var Di=null;function Oo(t){if(vn.useDeprecatedSynchronousErrorHandling){let e=!Di;if(e&&(Di={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Di;if(Di=null,n)throw r}}else t()}function vI(t){vn.useDeprecatedSynchronousErrorHandling&&Di&&(Di.errorThrown=!0,Di.error=t)}var bi=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uu(e)&&e.add(this)):this.destination=Mx}static create(e,n,r){return new Fo(e,n,r)}next(e){this.isStopped?Mf(yI(e),this):this._next(e)}error(e){this.isStopped?Mf(gI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mf(mI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Sx=Function.prototype.bind;function Af(t,e){return Sx.call(t,e)}var xf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){du(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){du(r)}else du(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){du(n)}}},Fo=class extends bi{constructor(e,n,r){super();let i;if(B(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&vn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Af(e.next,o),error:e.error&&Af(e.error,o),complete:e.complete&&Af(e.complete,o)}):i=e}this.destination=new xf(i)}};function du(t){vn.useDeprecatedSynchronousErrorHandling?vI(t):lu(t)}function Ax(t){throw t}function Mf(t,e){let{onStoppedNotification:n}=vn;n&&ko.setTimeout(()=>n(t,e))}var Mx={closed:!0,next:ra,error:Ax,complete:ra};var Vo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vt(t){return t}function Rf(...t){return Nf(t)}function Nf(t){return t.length===0?Vt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Rx(n)?n:new Fo(n,r,i);return Oo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=_I(r),new r((i,o)=>{let s=new Fo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vo](){return this}pipe(...n){return Nf(n)(this)}toPromise(n){return n=_I(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function _I(t){var e;return(e=t??vn.Promise)!==null&&e!==void 0?e:Promise}function xx(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function Rx(t){return t&&t instanceof bi||xx(t)&&uu(t)}function Pf(t){return B(t?.lift)}function ie(t){return e=>{if(Pf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(t,e,n,r,i){return new kf(t,e,n,r,i)}var kf=class extends bi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Lo(){return ie((t,e)=>{let n=null;t._refCount++;let r=Z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Uo=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(Z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return Lo()(this)}};var wI=Po(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pt=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new hu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new wI}next(n){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tf:(this.currentObservers=null,o.push(n),new Ue(()=>{this.currentObservers=null,Ei(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new hu(e,n),t})(),hu=class extends pt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Tf}};var ot=class extends pt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Of={now(){return(Of.delegate||Date).now()},delegate:void 0};var fu=class extends Ue{constructor(e,n){super()}schedule(e,n=0){return this}};var ia={setInterval(t,e,...n){let{delegate:r}=ia;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ia;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var jo=class extends fu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ia.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ia.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ei(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Bo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Bo.now=Of.now;var $o=class extends Bo{constructor(e,n=Bo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ff=new $o(jo);var pu=class extends jo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var mu=class extends $o{};var Vf=new mu(pu);var Lt=new re(t=>t.complete());function II(t){return t&&B(t.schedule)}function EI(t){return t[t.length-1]}function gu(t){return B(EI(t))?t.pop():void 0}function Ur(t){return II(EI(t))?t.pop():void 0}function Lf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function DI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ci(t){return this instanceof Ci?(this.v=t,this):new Ci(t)}function CI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(p){return new Promise(function(v,E){o.push([h,p,v,E])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(v){d(o[0][3],v)}}function c(h){h.value instanceof Ci?Promise.resolve(h.value.v).then(u,l):d(o[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function TI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof DI=="function"?DI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var yu=t=>t&&typeof t.length=="number"&&typeof t!="function";function vu(t){return B(t?.then)}function _u(t){return B(t[Vo])}function wu(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function Iu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Nx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Eu=Nx();function Du(t){return B(t?.[Eu])}function bu(t){return CI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ci(n.read());if(i)return yield Ci(void 0);yield yield Ci(r)}}finally{n.releaseLock()}})}function Cu(t){return B(t?.getReader)}function Be(t){if(t instanceof re)return t;if(t!=null){if(_u(t))return Px(t);if(yu(t))return kx(t);if(vu(t))return Ox(t);if(wu(t))return SI(t);if(Du(t))return Fx(t);if(Cu(t))return Vx(t)}throw Iu(t)}function Px(t){return new re(e=>{let n=t[Vo]();if(B(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kx(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Ox(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lu)})}function Fx(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function SI(t){return new re(e=>{Lx(t,e).catch(n=>e.error(n))})}function Vx(t){return SI(bu(t))}function Lx(t,e){var n,r,i,o;return bI(this,void 0,void 0,function*(){try{for(n=TI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Mt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function jr(t,e=0){return ie((n,r)=>{n.subscribe(Z(r,i=>Mt(r,t,()=>r.next(i),e),()=>Mt(r,t,()=>r.complete(),e),i=>Mt(r,t,()=>r.error(i),e)))})}function Br(t,e=0){return ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function AI(t,e){return Be(t).pipe(Br(e),jr(e))}function MI(t,e){return Be(t).pipe(Br(e),jr(e))}function xI(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function RI(t,e){return new re(n=>{let r;return Mt(n,e,()=>{r=t[Eu](),Mt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}function Tu(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{Mt(n,e,()=>{let r=t[Symbol.asyncIterator]();Mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function NI(t,e){return Tu(bu(t),e)}function PI(t,e){if(t!=null){if(_u(t))return AI(t,e);if(yu(t))return xI(t,e);if(vu(t))return MI(t,e);if(wu(t))return Tu(t,e);if(Du(t))return RI(t,e);if(Cu(t))return NI(t,e)}throw Iu(t)}function Re(t,e){return e?PI(t,e):Be(t)}function q(...t){let e=Ur(t);return Re(t,e)}function Ho(t,e){let n=B(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function Uf(t){return!!t&&(t instanceof re||B(t.lift)&&B(t.subscribe))}var mr=Po(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t,e){return ie((n,r)=>{let i=0;n.subscribe(Z(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Ux}=Array;function jx(t,e){return Ux(e)?t(...e):t(e)}function Su(t){return X(e=>jx(t,e))}var{isArray:Bx}=Array,{getPrototypeOf:$x,prototype:Hx,keys:qx}=Object;function Au(t){if(t.length===1){let e=t[0];if(Bx(e))return{args:e,keys:null};if(Gx(e)){let n=qx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Gx(t){return t&&typeof t=="object"&&$x(t)===Hx}function Mu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function xu(...t){let e=Ur(t),n=gu(t),{args:r,keys:i}=Au(t);if(r.length===0)return Re([],e);let o=new re(zx(r,e,i?s=>Mu(i,s):Vt));return n?o.pipe(Su(n)):o}function zx(t,e,n=Vt){return r=>{kI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)kI(e,()=>{let u=Re(t[c],e),l=!1;u.subscribe(Z(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function kI(t,e,n){t?Mt(n,t,e):e()}function OI(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=E=>u<r?v(E):c.push(E),v=E=>{o&&e.next(E),u++;let D=!1;Be(n(E,l++)).subscribe(Z(e,x=>{i?.(x),o?p(x):e.next(x)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<r;){let x=c.shift();s?Mt(e,s,()=>v(x)):v(x)}h()}catch(x){e.error(x)}}))};return t.subscribe(Z(e,p,()=>{d=!0,h()})),()=>{a?.()}}function Ke(t,e,n=1/0){return B(e)?Ke((r,i)=>X((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),ie((r,i)=>OI(r,i,t,n)))}function jf(t=1/0){return Ke(Vt,t)}function FI(){return jf(1)}function qo(...t){return FI()(Re(t,Ur(t)))}function Ru(t){return new re(e=>{Be(t()).subscribe(e)})}function Bf(...t){let e=gu(t),{args:n,keys:r}=Au(t),i=new re(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Be(n[l]).subscribe(Z(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?Mu(r,a):a),o.complete())}))}});return e?i.pipe(Su(e)):i}function _n(t,e){return ie((n,r)=>{let i=0;n.subscribe(Z(r,o=>t.call(e,o,i++)&&r.next(o)))})}function $r(t){return ie((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Z(n,void 0,void 0,s=>{o=Be(t(s,$r(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function VI(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(Z(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Go(t,e){return B(e)?Ke(t,e,1):Ke(t,1)}function Hr(t){return ie((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function gr(t){return t<=0?()=>Lt:ie((e,n)=>{let r=0;e.subscribe(Z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $f(t){return X(()=>t)}function Nu(t=Wx){return ie((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Wx(){return new mr}function oa(t){return ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Un(t,e){let n=arguments.length>=2;return r=>r.pipe(t?_n((i,o)=>t(i,o,r)):Vt,gr(1),n?Hr(e):Nu(()=>new mr))}function zo(t){return t<=0?()=>Lt:ie((e,n)=>{let r=[];e.subscribe(Z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?_n((i,o)=>t(i,o,r)):Vt,zo(1),n?Hr(e):Nu(()=>new mr))}function qf(t,e){return ie(VI(t,e,arguments.length>=2,!0))}function Gf(...t){let e=Ur(t);return ie((n,r)=>{(e?qo(t,n,e):qo(t,n)).subscribe(r)})}function wn(t,e){return ie((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Z(r,c=>{i?.unsubscribe();let u=0,l=o++;Be(t(c,l)).subscribe(i=Z(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function zf(t){return ie((e,n)=>{Be(t).subscribe(Z(n,()=>n.complete(),ra)),!n.closed&&e.subscribe(n)})}function Qe(t,e,n){let r=B(t)||e||n?{next:t,error:e,complete:n}:t;return r?ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Z(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Vt}var EE="https://g.co/ng/security#xss",N=class extends Error{constructor(e,n){super(nm(e,n)),this.code=e}};function nm(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function va(t){return{toString:t}.toString()}var Pu="__parameters__";function Kx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function DE(t,e,n){return va(()=>{let r=Kx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Pu)?c[Pu]:Object.defineProperty(c,Pu,{value:[]})[Pu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var En=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function Qx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function LI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Yx=Ie({__forward_ref__:Ie});function jt(t){return t.__forward_ref__=jt,t.toString=function(){return Dt(this())},t}function Et(t){return bE(t)?t():t}function bE(t){return typeof t=="function"&&t.hasOwnProperty(Yx)&&t.__forward_ref__===jt}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function ul(t){return UI(t,TE)||UI(t,SE)}function CE(t){return ul(t)!==null}function UI(t,e){return t.hasOwnProperty(e)?t[e]:null}function Jx(t){let e=t&&(t[TE]||t[SE]);return e||null}function jI(t){return t&&(t.hasOwnProperty(BI)||t.hasOwnProperty(Zx))?t[BI]:null}var TE=Ie({\u0275prov:Ie}),BI=Ie({\u0275inj:Ie}),SE=Ie({ngInjectableDef:Ie}),Zx=Ie({ngInjectorDef:Ie}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AE(t){return t&&!!t.\u0275providers}var Xx=Ie({\u0275cmp:Ie}),eR=Ie({\u0275dir:Ie}),tR=Ie({\u0275pipe:Ie}),nR=Ie({\u0275mod:Ie}),Hu=Ie({\u0275fac:Ie}),sa=Ie({__NG_ELEMENT_ID__:Ie}),$I=Ie({__NG_ENV_ID__:Ie});function Zo(t){return typeof t=="string"?t:t==null?"":String(t)}function rR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Zo(t)}function iR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new N(-200,t)}function rm(t,e){throw new N(-201,!1)}var Q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Q||{}),up;function ME(){return up}function xt(t){let e=up;return up=t,e}function xE(t,e,n){let r=ul(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Q.Optional)return null;if(e!==void 0)return e;rm(t,"Injector")}var oR={},aa=oR,lp="__NG_DI_FLAG__",qu="ngTempTokenPath",sR="ngTokenPath",aR=/\n/gm,cR="\u0275",HI="__source",Yo;function uR(){return Yo}function qr(t){let e=Yo;return Yo=t,e}function lR(t,e=Q.Default){if(Yo===void 0)throw new N(-203,!1);return Yo===null?xE(t,void 0,e):Yo.get(t,e&Q.Optional?null:void 0,e)}function Y(t,e=Q.Default){return(ME()||lR)(Et(t),e)}function w(t,e=Q.Default){return Y(t,ll(e))}function ll(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dp(t){let e=[];for(let n=0;n<t.length;n++){let r=Et(t[n]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let i,o=Q.Default;for(let s=0;s<r.length;s++){let a=r[s],c=dR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function RE(t,e){return t[lp]=e,t.prototype[lp]=e,t}function dR(t){return t[lp]}function hR(t,e,n,r){let i=t[qu];throw e[HI]&&i.unshift(e[HI]),t.message=fR(`
`+t.message,i,n,r),t[sR]=i,t[qu]=null,t}function fR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==cR?t.slice(2):t;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Dt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(aR,`
  `)}`}var Gn=RE(DE("Optional"),8);var NE=RE(DE("SkipSelf"),4);function Mi(t,e){let n=t.hasOwnProperty(Hu);return n?t[Hu]:null}function pR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function mR(t){return t.flat(Number.POSITIVE_INFINITY)}function im(t,e){t.forEach(n=>Array.isArray(n)?im(n,e):e(n))}function PE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Gu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function yR(t,e,n){let r=_a(t,e);return r>=0?t[r|1]=n:(r=~r,gR(t,r,e,n)),r}function Wf(t,e){let n=_a(t,e);if(n>=0)return t[n|1]}function _a(t,e){return vR(t,e,1)}function vR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Xo={},Zt=[],es=new V(""),kE=new V("",-1),OE=new V(""),zu=class{get(e,n=aa){if(n===aa){let r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return n}},FE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(FE||{}),$n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($n||{}),$e=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}($e||{});function _R(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function hp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];wR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function VE(t){return t===3||t===4||t===6}function wR(t){return t.charCodeAt(0)===64}function ca(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?qI(t,n,i,null,e[++r]):qI(t,n,i,null,null))}}return t}function qI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var LE="ng-template";function IR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&_R(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(om(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function om(t){return t.type===4&&t.value!==LE}function ER(t,e,n){let r=t.type===4&&!n?LE:t.value;return e===r}function DR(t,e,n){let r=4,i=t.attrs,o=i!==null?TR(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!In(r)&&!In(c))return!1;if(s&&In(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!ER(t,c,n)||c===""&&e.length===1){if(In(r))return!1;s=!0}}else if(r&8){if(i===null||!IR(t,i,c,n)){if(In(r))return!1;s=!0}}else{let u=e[++a],l=bR(c,i,om(t),n);if(l===-1){if(In(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(In(r))return!1;s=!0}}}}return In(r)||s}function In(t){return(t&1)===0}function bR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return SR(e,t)}function CR(t,e,n=!1){for(let r=0;r<e.length;r++)if(DR(t,e[r],n))return!0;return!1}function TR(t){for(let e=0;e<t.length;e++){let n=t[e];if(VE(n))return e}return t.length}function SR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function GI(t,e){return t?":not("+e.trim()+")":e}function AR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!In(s)&&(e+=GI(o,i),i=""),r=s,o=o||!In(r);n++}return i!==""&&(e+=GI(o,i)),e}function MR(t){return t.map(AR).join(",")}function xR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!In(i))break;i=o}r++}return{attrs:e,classes:n}}function ve(t){return va(()=>{let e=qE(t),n=fe(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===FE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$n.Emulated,styles:t.styles||Zt,_:null,schemas:t.schemas||null,tView:null,id:""});GE(n);let r=t.dependencies;return n.directiveDefs=WI(r,!1),n.pipeDefs=WI(r,!0),n.id=PR(n),n})}function RR(t){return xi(t)||jE(t)}function NR(t){return t!==null}function tn(t){return va(()=>({type:t.type,bootstrap:t.bootstrap||Zt,declarations:t.declarations||Zt,imports:t.imports||Zt,exports:t.exports||Zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zI(t,e){if(t==null)return Xo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=$e.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==$e.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Se(t){return va(()=>{let e=qE(t);return GE(e),e})}function UE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function xi(t){return t[Xx]||null}function jE(t){return t[eR]||null}function BE(t){return t[tR]||null}function $E(t){let e=xi(t)||jE(t)||BE(t);return e!==null?e.standalone:!1}function HE(t,e){let n=t[nR]||null;if(!n&&e===!0)throw new Error(`Type ${Dt(t)} does not have '\u0275mod' property.`);return n}function qE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zI(t.inputs,e),outputs:zI(t.outputs),debugInfo:null}}function GE(t){t.features?.forEach(e=>e(t))}function WI(t,e){if(!t)return null;let n=e?BE:RR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(NR)}function PR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function dl(t){return{\u0275providers:t}}function sm(...t){return{\u0275providers:zE(!0,t),\u0275fromNgModule:!0}}function zE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return im(e,s=>{let a=s;fp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&WE(i,o),n}function WE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];am(i,o=>{e(o,r)})}}function fp(t,e,n,r){if(t=Et(t),!t)return!1;let i=null,o=jI(t),s=!o&&xi(t);if(!o&&!s){let c=t.ngModule;if(o=jI(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)fp(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{im(o.imports,l=>{fp(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&WE(u,e)}if(!a){let u=Mi(i)||(()=>new i);e({provide:i,useFactory:u,deps:Zt},i),e({provide:OE,useValue:i,multi:!0},i),e({provide:es,useValue:()=>Y(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;am(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function am(t,e){for(let n of t)AE(n)&&(n=n.\u0275providers),Array.isArray(n)?am(n,e):e(n)}var kR=Ie({provide:String,useValue:Ie});function KE(t){return t!==null&&typeof t=="object"&&kR in t}function OR(t){return!!(t&&t.useExisting)}function FR(t){return!!(t&&t.useFactory)}function ts(t){return typeof t=="function"}function VR(t){return!!t.useClass}var hl=new V(""),Vu={},LR={},Kf;function cm(){return Kf===void 0&&(Kf=new zu),Kf}var Xt=class{},ua=class extends Xt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mp(e,s=>this.processProvider(s)),this.records.set(kE,Wo(void 0,this)),i.has("environment")&&this.records.set(Xt,Wo(void 0,this));let o=this.records.get(hl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(OE,Zt,Q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=qr(this),r=xt(void 0),i;try{return e()}finally{qr(n),xt(r)}}get(e,n=aa,r=Q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty($I))return e[$I](this);r=ll(r);let i,o=qr(this),s=xt(void 0);try{if(!(r&Q.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=HR(e)&&ul(e);u&&this.injectableDefInScope(u)?c=Wo(pp(e),Vu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Q.Self?cm():this.parent;return n=r&Q.Optional&&n===aa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[qu]=a[qu]||[]).unshift(Dt(e)),o)throw a;return hR(a,e,"R3InjectorError",this.source)}else throw a}finally{xt(s),qr(o)}}resolveInjectorInitializers(){let e=ae(null),n=qr(this),r=xt(void 0),i;try{let o=this.get(es,Zt,Q.Self);for(let s of o)s()}finally{qr(n),xt(r),ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(e){e=Et(e);let n=ts(e)?e:Et(e&&e.provide),r=jR(e);if(!ts(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Wo(void 0,Vu,!0),i.factory=()=>dp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ae(null);try{return n.value===Vu&&(n.value=LR,n.value=n.factory()),typeof n.value=="object"&&n.value&&$R(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Et(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function pp(t){let e=ul(t),n=e!==null?e.factory:Mi(t);if(n!==null)return n;if(t instanceof V)throw new N(204,!1);if(t instanceof Function)return UR(t);throw new N(204,!1)}function UR(t){if(t.length>0)throw new N(204,!1);let n=Jx(t);return n!==null?()=>n.factory(t):()=>new t}function jR(t){if(KE(t))return Wo(void 0,t.useValue);{let e=QE(t);return Wo(e,Vu)}}function QE(t,e,n){let r;if(ts(t)){let i=Et(t);return Mi(i)||pp(i)}else if(KE(t))r=()=>Et(t.useValue);else if(FR(t))r=()=>t.useFactory(...dp(t.deps||[]));else if(OR(t))r=()=>Y(Et(t.useExisting));else{let i=Et(t&&(t.useClass||t.provide));if(BR(t))r=()=>new i(...dp(t.deps));else return Mi(i)||pp(i)}return r}function Wo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function BR(t){return!!t.deps}function $R(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function HR(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function mp(t,e){for(let n of t)Array.isArray(n)?mp(n,e):n&&AE(n)?mp(n.\u0275providers,e):e(n)}function Bi(t,e){t instanceof ua&&t.assertNotDestroyed();let n,r=qr(t),i=xt(void 0);try{return e()}finally{qr(r),xt(i)}}function qR(){return ME()!==void 0||uR()!=null}function GR(t){return typeof t=="function"}var Ir=0,W=1,F=2,st=3,Dn=4,Sn=5,Wu=6,la=7,bn=8,ns=9,Cn=10,He=11,da=12,KI=13,os=14,Hn=15,wa=16,Ko=17,yr=18,fl=19,YE=20,Gr=21,Qf=22,Ri=23,Tn=25,JE=1;var Ni=7,Ku=8,rs=9,Ut=10,um=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(um||{});function Si(t){return Array.isArray(t)&&typeof t[JE]=="object"}function Er(t){return Array.isArray(t)&&t[JE]===!0}function ZE(t){return(t.flags&4)!==0}function pl(t){return t.componentOffset>-1}function lm(t){return(t.flags&1)===1}function zr(t){return!!t.template}function zR(t){return(t[F]&512)!==0}var gp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function XE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function nn(){return e0}function e0(t){return t.type.prototype.ngOnChanges&&(t.setInput=KR),WR}nn.ngInherit=!0;function WR(){let t=n0(this),e=t?.current;if(e){let n=t.previous;if(n===Xo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function KR(t,e,n,r,i){let o=this.declaredInputs[r],s=n0(t)||QR(t,{previous:Xo,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new gp(u&&u.currentValue,n,c===Xo),XE(t,e,i,n)}var t0="__ngSimpleChanges__";function n0(t){return t[t0]||null}function QR(t,e){return t[t0]=e}var QI=null;var jn=function(t,e,n){QI?.(t,e,n)},YR="svg",JR="math",ZR=!1;function XR(){return ZR}function qn(t){for(;Array.isArray(t);)t=t[Ir];return t}function r0(t,e){return qn(e[t])}function rn(t,e){return qn(e[t.index])}function i0(t,e){return t.data[e]}function o0(t,e){return t[e]}function Kr(t,e){let n=e[t];return Si(n)?n:n[Ir]}function eN(t){return(t[F]&4)===4}function dm(t){return(t[F]&128)===128}function tN(t){return Er(t[st])}function Qu(t,e){return e==null?null:t[e]}function s0(t){t[Ko]=0}function nN(t){t[F]&1024||(t[F]|=1024,dm(t)&&ha(t))}function rN(t,e){for(;t>0;)e=e[os],t--;return e}function hm(t){return!!(t[F]&9216||t[Ri]?.dirty)}function yp(t){t[Cn].changeDetectionScheduler?.notify(1),hm(t)?ha(t):t[F]&64&&(XR()?(t[F]|=1024,ha(t)):t[Cn].changeDetectionScheduler?.notify())}function ha(t){t[Cn].changeDetectionScheduler?.notify();let e=fa(t);for(;e!==null&&!(e[F]&8192||(e[F]|=8192,!dm(e)));)e=fa(e)}function a0(t,e){if((t[F]&256)===256)throw new N(911,!1);t[Gr]===null&&(t[Gr]=[]),t[Gr].push(e)}function iN(t,e){if(t[Gr]===null)return;let n=t[Gr].indexOf(e);n!==-1&&t[Gr].splice(n,1)}function fa(t){let e=t[st];return Er(e)?e[st]:e}var K={lFrame:m0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function oN(){return K.lFrame.elementDepthCount}function sN(){K.lFrame.elementDepthCount++}function aN(){K.lFrame.elementDepthCount--}function c0(){return K.bindingsEnabled}function cN(){return K.skipHydrationRootTNode!==null}function uN(t){return K.skipHydrationRootTNode===t}function lN(){K.skipHydrationRootTNode=null}function se(){return K.lFrame.lView}function at(){return K.lFrame.tView}function Ae(t){return K.lFrame.contextLView=t,t[bn]}function Me(t){return K.lFrame.contextLView=null,t}function Rt(){let t=u0();for(;t!==null&&t.type===64;)t=t.parent;return t}function u0(){return K.lFrame.currentTNode}function dN(){let t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ia(t,e){let n=K.lFrame;n.currentTNode=t,n.isParent=e}function l0(){return K.lFrame.isParent}function hN(){K.lFrame.isParent=!1}function fN(){return K.lFrame.contextLView}function pN(){let t=K.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mN(){return K.lFrame.bindingIndex}function gN(t){return K.lFrame.bindingIndex=t}function ml(){return K.lFrame.bindingIndex++}function d0(t){let e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function yN(){return K.lFrame.inI18n}function vN(t,e){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,vp(e)}function _N(){return K.lFrame.currentDirectiveIndex}function vp(t){K.lFrame.currentDirectiveIndex=t}function wN(t){let e=K.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function h0(){return K.lFrame.currentQueryIndex}function fm(t){K.lFrame.currentQueryIndex=t}function IN(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[Sn]:null}function f0(t,e,n){if(n&Q.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Q.Host);)if(i=IN(o),i===null||(o=o[os],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=K.lFrame=p0();return r.currentTNode=e,r.lView=t,!0}function pm(t){let e=p0(),n=t[W];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function p0(){let t=K.lFrame,e=t===null?null:t.child;return e===null?m0(t):e}function m0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function g0(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var y0=g0;function mm(){let t=g0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function EN(t){return(K.lFrame.contextLView=rN(t,K.lFrame.contextLView))[bn]}function $i(){return K.lFrame.selectedIndex}function Pi(t){K.lFrame.selectedIndex=t}function gl(){let t=K.lFrame;return i0(t.tView,t.selectedIndex)}function DN(){return K.lFrame.currentNamespace}var v0=!0;function gm(){return v0}function ym(t){v0=t}function bN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=e0(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function vm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Lu(t,e,n){_0(t,e,3,n)}function Uu(t,e,n,r){(t[F]&3)===n&&_0(t,e,n,r)}function Yf(t,e){let n=t[F];(n&3)===e&&(n&=16383,n+=1,t[F]=n)}function _0(t,e,n,r){let i=r!==void 0?t[Ko]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ko]+=65536),(a<o||o==-1)&&(CN(t,n,e,c),t[Ko]=(t[Ko]&4294901760)+c+2),c++}function YI(t,e){jn(4,t,e);let n=ae(null);try{e.call(t)}finally{ae(n),jn(5,t,e)}}function CN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[F]>>14<t[Ko]>>16&&(t[F]&3)===e&&(t[F]+=16384,YI(a,o)):YI(a,o)}var Jo=-1,ki=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function TN(t){return t instanceof ki}function SN(t){return(t.flags&8)!==0}function AN(t){return(t.flags&16)!==0}function w0(t){return t!==Jo}function Yu(t){return t&32767}function MN(t){return t>>16}function Ju(t,e){let n=MN(t),r=e;for(;n>0;)r=r[os],n--;return r}var _p=!0;function Zu(t){let e=_p;return _p=t,e}var xN=256,I0=xN-1,E0=5,RN=0,Bn={};function NN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(sa)&&(r=n[sa]),r==null&&(r=n[sa]=RN++);let i=r&I0,o=1<<i;e.data[t+(i>>E0)]|=o}function Xu(t,e){let n=D0(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,Jf(r.data,t),Jf(e,null),Jf(r.blueprint,null));let i=_m(t,e),o=t.injectorIndex;if(w0(i)){let s=Yu(i),a=Ju(i,e),c=a[W].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Jf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function D0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _m(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=A0(i),r===null)return Jo;if(n++,i=i[os],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Jo}function wp(t,e,n){NN(t,e,n)}function PN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(VE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function b0(t,e,n){if(n&Q.Optional||t!==void 0)return t;rm(e,"NodeInjector")}function C0(t,e,n,r){if(n&Q.Optional&&r===void 0&&(r=null),!(n&(Q.Self|Q.Host))){let i=t[ns],o=xt(void 0);try{return i?i.get(e,r,n&Q.Optional):xE(e,r,n&Q.Optional)}finally{xt(o)}}return b0(r,e,n)}function T0(t,e,n,r=Q.Default,i){if(t!==null){if(e[F]&2048&&!(r&Q.Self)){let s=VN(t,e,n,r,Bn);if(s!==Bn)return s}let o=S0(t,e,n,r,Bn);if(o!==Bn)return o}return C0(e,n,r,i)}function S0(t,e,n,r,i){let o=ON(n);if(typeof o=="function"){if(!f0(e,t,r))return r&Q.Host?b0(i,n,r):C0(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Q.Optional))rm(n);else return s}finally{y0()}}else if(typeof o=="number"){let s=null,a=D0(t,e),c=Jo,u=r&Q.Host?e[Hn][Sn]:null;for((a===-1||r&Q.SkipSelf)&&(c=a===-1?_m(t,e):e[a+8],c===Jo||!ZI(r,!1)?a=-1:(s=e[W],a=Yu(c),e=Ju(c,e)));a!==-1;){let l=e[W];if(JI(o,a,l.data)){let d=kN(a,e,n,s,r,u);if(d!==Bn)return d}c=e[a+8],c!==Jo&&ZI(r,e[W].data[a+8]===u)&&JI(o,a,e)?(s=l,a=Yu(c),e=Ju(c,e)):a=-1}}return i}function kN(t,e,n,r,i,o){let s=e[W],a=s.data[t+8],c=r==null?pl(a)&&_p:r!=s&&(a.type&3)!==0,u=i&Q.Host&&o===a,l=ju(a,s,n,c,u);return l!==null?Oi(e,s,l,a):Bn}function ju(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let v=s[p];if(p<c&&n===v||p>=c&&v.type===n)return p}if(i){let p=s[c];if(p&&zr(p)&&p.type===n)return c}return null}function Oi(t,e,n,r){let i=t[n],o=e.data;if(TN(i)){let s=i;s.resolving&&iR(rR(o[n]));let a=Zu(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?xt(s.injectImpl):null,l=f0(t,r,Q.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&bN(n,o[n],e)}finally{u!==null&&xt(u),Zu(a),s.resolving=!1,y0()}}return i}function ON(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(sa)?t[sa]:void 0;return typeof e=="number"?e>=0?e&I0:FN:e}function JI(t,e,n){let r=1<<t;return!!(n[e+(t>>E0)]&r)}function ZI(t,e){return!(t&Q.Self)&&!(t&Q.Host&&e)}var Ai=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return T0(this._tNode,this._lView,e,ll(r),n)}};function FN(){return new Ai(Rt(),se())}function Dr(t){return va(()=>{let e=t.prototype.constructor,n=e[Hu]||Ip(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Hu]||Ip(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ip(t){return bE(t)?()=>{let e=Ip(Et(t));return e&&e()}:Mi(t)}function VN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[F]&2048&&!(s[F]&512);){let a=S0(o,s,n,r|Q.Self,Bn);if(a!==Bn)return a;let c=o.parent;if(!c){let u=s[YE];if(u){let l=u.get(n,Bn,r);if(l!==Bn)return l}c=A0(s),s=s[os]}o=c}return i}function A0(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[Sn]:null}function wm(t){return PN(Rt(),t)}function XI(t,e=null,n=null,r){let i=M0(t,e,n,r);return i.resolveInjectorInitializers(),i}function M0(t,e=null,n=null,r,i=new Set){let o=[n||Zt,sm(t)];return r=r||(typeof t=="object"?void 0:Dt(t)),new ua(o,e||cm(),r||null,i)}var An=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return XI({name:""},i,r,"");{let o=r.name??"";return XI({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=aa,e.NULL=new zu,e.\u0275prov=P({token:e,providedIn:"any",factory:()=>Y(kE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var LN="ngOriginalError";function Zf(t){return t[LN]}var vr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zf(e);for(;n&&Zf(n);)n=Zf(n);return n||null}},x0=new V("",{providedIn:"root",factory:()=>w(vr).handleError.bind(void 0)}),R0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ep=class extends R0{constructor(e){super(),this._lView=e}onDestroy(e){return a0(this._lView,e),()=>iN(this._lView,e)}};function UN(){return new Ep(se())}function jN(){return ss(Rt(),se())}function ss(t,e){return new Nt(rn(t,e))}var Nt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=jN;let t=e;return t})();function BN(t){return t instanceof Nt?t.nativeElement:t}var Dp=class extends pt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,qR()&&(this.destroyRef=w(R0,{optional:!0})??void 0)}emit(e){let n=ae(null);try{super.next(e)}finally{ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Xf(o),i&&(i=Xf(i)),s&&(s=Xf(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ue&&e.add(a),a}};function Xf(t){return e=>{setTimeout(t,void 0,e)}}var Ye=Dp;function $N(){return this._results[Symbol.iterator]()}var bp=class t{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=$N)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=mR(e);(this._changesDetected=!pR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function N0(t){return(t.flags&128)===128}var P0=new Map,HN=0;function qN(){return HN++}function GN(t){P0.set(t[fl],t)}function zN(t){P0.delete(t[fl])}var eE="__ngContext__";function Fi(t,e){Si(e)?(t[eE]=e[fl],GN(e)):t[eE]=e}function k0(t){return F0(t[da])}function O0(t){return F0(t[Dn])}function F0(t){for(;t!==null&&!Er(t);)t=t[Dn];return t}var Cp;function V0(t){Cp=t}function WN(){if(Cp!==void 0)return Cp;if(typeof document<"u")return document;throw new N(210,!1)}var Im=new V("",{providedIn:"root",factory:()=>KN}),KN="ng",Em=new V(""),Qr=new V("",{providedIn:"platform",factory:()=>"unknown"});var Dm=new V("",{providedIn:"root",factory:()=>WN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QN="h",YN="b";var JN=()=>null;function bm(t,e,n=!1){return JN(t,e,n)}var L0=!1,ZN=new V("",{providedIn:"root",factory:()=>L0});var ku;function XN(){if(ku===void 0&&(ku=null,En.trustedTypes))try{ku=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ku}function tE(t){return XN()?.createScriptURL(t)||t}var el=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${EE})`}};function Ea(t){return t instanceof el?t.changingThisBreaksApplicationSecurity:t}function Cm(t,e){let n=eP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${EE})`)}return n===e}function eP(t){return t instanceof el&&t.getTypeName()||null}var tP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function U0(t){return t=String(t),t.match(tP)?t:"unsafe:"+t}var yl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yl||{});function nP(t){let e=B0();return e?e.sanitize(yl.URL,t)||"":Cm(t,"URL")?Ea(t):U0(Zo(t))}function rP(t){let e=B0();if(e)return tE(e.sanitize(yl.RESOURCE_URL,t)||"");if(Cm(t,"ResourceURL"))return tE(Ea(t));throw new N(904,!1)}function iP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?rP:nP}function j0(t,e,n){return iP(e,n)(t)}function B0(){let t=se();return t&&t[Cn].sanitizer}function $0(t){return t instanceof Function?t():t}var _r=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_r||{}),oP;function Tm(t,e){return oP(t,e)}function Qo(t,e,n,r,i){if(r!=null){let o,s=!1;Er(r)?o=r:Si(r)&&(s=!0,r=r[Ir]);let a=qn(r);t===0&&n!==null?i==null?W0(e,n,a):tl(e,n,a,i||null,!0):t===1&&n!==null?tl(e,n,a,i||null,!0):t===2?EP(e,a,s):t===3&&e.destroyNode(a),o!=null&&bP(e,t,o,n,i)}}function sP(t,e){return t.createText(e)}function aP(t,e,n){t.setValue(e,n)}function H0(t,e,n){return t.createElement(e,n)}function cP(t,e){q0(t,e),e[Ir]=null,e[Sn]=null}function uP(t,e,n,r,i,o){r[Ir]=i,r[Sn]=e,vl(t,r,n,1,i,o)}function q0(t,e){e[Cn].changeDetectionScheduler?.notify(1),vl(t,e,e[He],2,null,null)}function lP(t){let e=t[da];if(!e)return ep(t[W],t);for(;e;){let n=null;if(Si(e))n=e[da];else{let r=e[Ut];r&&(n=r)}if(!n){for(;e&&!e[Dn]&&e!==t;)Si(e)&&ep(e[W],e),e=e[st];e===null&&(e=t),Si(e)&&ep(e[W],e),n=e&&e[Dn]}e=n}}function dP(t,e,n,r){let i=Ut+r,o=n.length;r>0&&(n[i-1][Dn]=e),r<o-Ut?(e[Dn]=n[i],PE(n,Ut+r,e)):(n.push(e),e[Dn]=null),e[st]=n;let s=e[wa];s!==null&&n!==s&&hP(s,e);let a=e[yr];a!==null&&a.insertView(t),yp(e),e[F]|=128}function hP(t,e){let n=t[rs],i=e[st][st][Hn];e[Hn]!==i&&(t[F]|=um.HasTransplantedViews),n===null?t[rs]=[e]:n.push(e)}function G0(t,e){let n=t[rs],r=n.indexOf(e);n.splice(r,1)}function Tp(t,e){if(t.length<=Ut)return;let n=Ut+e,r=t[n];if(r){let i=r[wa];i!==null&&i!==t&&G0(i,r),e>0&&(t[n-1][Dn]=r[Dn]);let o=Gu(t,Ut+e);cP(r[W],r);let s=o[yr];s!==null&&s.detachView(o[W]),r[st]=null,r[Dn]=null,r[F]&=-129}return r}function z0(t,e){if(!(e[F]&256)){let n=e[He];n.destroyNode&&vl(t,e,n,3,null,null),lP(e)}}function ep(t,e){if(e[F]&256)return;let n=ae(null);try{e[F]&=-129,e[F]|=256,e[Ri]&&hI(e[Ri]),pP(t,e),fP(t,e),e[W].type===1&&e[He].destroy();let r=e[wa];if(r!==null&&Er(e[st])){r!==e[st]&&G0(r,e);let i=e[yr];i!==null&&i.detachView(t)}zN(e)}finally{ae(n)}}function fP(t,e){let n=t.cleanup,r=e[la];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[la]=null);let i=e[Gr];if(i!==null){e[Gr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function pP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ki)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];jn(4,a,c);try{c.call(a)}finally{jn(5,a,c)}}else{jn(4,i,o);try{o.call(i)}finally{jn(5,i,o)}}}}}function mP(t,e,n){return gP(t,e.parent,n)}function gP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Ir];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===$n.None||o===$n.Emulated)return null}return rn(r,n)}}function tl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function W0(t,e,n){t.appendChild(e,n)}function nE(t,e,n,r,i){r!==null?tl(t,e,n,r,i):W0(t,e,n)}function yP(t,e,n,r){t.removeChild(e,n,r)}function Sm(t,e){return t.parentNode(e)}function vP(t,e){return t.nextSibling(e)}function _P(t,e,n){return IP(t,e,n)}function wP(t,e,n){return t.type&40?rn(t,n):null}var IP=wP,rE;function Am(t,e,n,r){let i=mP(t,r,e),o=e[He],s=r.parent||e[Sn],a=_P(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)nE(o,i,n[c],a,!1);else nE(o,i,n,a,!1);rE!==void 0&&rE(o,r,e,n,i)}function Bu(t,e){if(e!==null){let n=e.type;if(n&3)return rn(e,t);if(n&4)return Sp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Bu(t,r);{let i=t[e.index];return Er(i)?Sp(-1,i):qn(i)}}else{if(n&32)return Tm(e,t)()||qn(t[e.index]);{let r=K0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fa(t[Hn]);return Bu(i,r)}else return Bu(t,e.next)}}}return null}function K0(t,e){if(e!==null){let r=t[Hn][Sn],i=e.projection;return r.projection[i]}return null}function Sp(t,e){let n=Ut+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return Bu(r,i)}return e[Ni]}function EP(t,e,n){let r=Sm(t,e);r&&yP(t,r,e,n)}function Mm(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Fi(qn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Mm(t,e,n.child,r,i,o,!1),Qo(e,t,i,a,o);else if(c&32){let u=Tm(n,r),l;for(;l=u();)Qo(e,t,i,l,o);Qo(e,t,i,a,o)}else c&16?DP(t,e,r,n,i,o):Qo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function vl(t,e,n,r,i,o){Mm(n,r,t.firstChild,e,i,o,!1)}function DP(t,e,n,r,i,o){let s=n[Hn],c=s[Sn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Qo(e,t,i,l,o)}else{let u=c,l=s[st];N0(r)&&(u.flags|=128),Mm(t,e,u,l,i,o,!0)}}function bP(t,e,n,r,i){let o=n[Ni],s=qn(n);o!==s&&Qo(e,t,r,o,i);for(let a=Ut;a<n.length;a++){let c=n[a];vl(c[W],c,t,e,r,o)}}function CP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:_r.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=_r.Important),t.setStyle(n,r,i,o))}}function TP(t,e,n){t.setAttribute(e,"style",n)}function Q0(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Y0(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&hp(t,e,r),i!==null&&Q0(t,e,i),o!==null&&TP(t,e,o)}var zn={};function A(t=1){J0(at(),se(),$i()+t,!1)}function J0(t,e,n,r){if(!r)if((e[F]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Lu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Uu(e,o,0,n)}Pi(n)}function M(t,e=Q.Default){let n=se();if(n===null)return Y(t,e);let r=Rt();return T0(r,n,Et(t),e)}function Z0(t,e,n,r,i,o){let s=ae(null);try{let a=null;i&$e.SignalBased&&(a=e[r][Ef]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&$e.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):XE(e,a,r,o)}finally{ae(s)}}function SP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Pi(~i);else{let o=i,s=n[++r],a=n[++r];vN(s,o);let c=e[o];a(2,c)}}}finally{Pi(-1)}}function _l(t,e,n,r,i,o,s,a,c,u,l){let d=e.blueprint.slice();return d[Ir]=i,d[F]=r|4|128|8|64,(u!==null||t&&t[F]&2048)&&(d[F]|=2048),s0(d),d[st]=d[os]=t,d[bn]=n,d[Cn]=s||t&&t[Cn],d[He]=a||t&&t[He],d[ns]=c||t&&t[ns]||null,d[Sn]=o,d[fl]=qN(),d[Wu]=l,d[YE]=u,d[Hn]=e.type==2?t[Hn]:d,d}function wl(t,e,n,r,i){let o=t.data[e];if(o===null)o=AP(t,e,n,r,i),yN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=dN();o.injectorIndex=s===null?-1:s.injectorIndex}return Ia(o,!0),o}function AP(t,e,n,r,i){let o=u0(),s=l0(),a=s?o:o&&o.parent,c=t.data[e]=kP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function X0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function eD(t,e,n,r,i){let o=$i(),s=r&2;try{Pi(-1),s&&e.length>Tn&&J0(t,e,Tn,!1),jn(s?2:0,i),n(r,i)}finally{Pi(o),jn(s?3:1,i)}}function tD(t,e,n){if(ZE(e)){let r=ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{ae(r)}}}function nD(t,e,n){c0()&&(jP(t,e,n,rn(n,e)),(n.flags&64)===64&&aD(t,e,n))}function rD(t,e,n=rn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function iD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=xm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function xm(t,e,n,r,i,o,s,a,c,u,l){let d=Tn+r,h=d+i,p=MP(d,h),v=typeof u=="function"?u():u;return p[W]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:l}}function MP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:zn);return n}function xP(t,e,n,r){let o=r.get(ZN,L0)||n===$n.ShadowDom,s=t.selectRootElement(e,o);return RP(s),s}function RP(t){NP(t)}var NP=()=>null;function PP(t,e,n,r){let i=lD(e);i.push(n),t.firstCreatePass&&dD(t).push(r,i.length-1)}function kP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return cN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function iE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=$e.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?oE(r,n,u,a,c):oE(r,n,u,a)}return r}function oE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function OP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,p=h?h.inputs:null,v=h?h.outputs:null;c=iE(0,d.inputs,l,c,p),u=iE(1,d.outputs,l,u,v);let E=c!==null&&s!==null&&!om(e)?JP(c,l,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function FP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Rm(t,e,n,r,i,o,s,a){let c=rn(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Nm(t,n,l,r,i),pl(e)&&VP(n,e.index)):e.type&3?(r=FP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function VP(t,e){let n=Kr(e,t);n[F]&16||(n[F]|=64)}function oD(t,e,n,r){if(c0()){let i=r===null?null:{"":-1},o=$P(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&sD(t,e,n,s,i,a),i&&HP(n,r,i)}n.mergedAttrs=ca(n.mergedAttrs,n.attrs)}function sD(t,e,n,r,i,o){for(let u=0;u<r.length;u++)wp(Xu(n,e),t,r[u].type);GP(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=X0(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=ca(n.mergedAttrs,l.hostAttrs),zP(t,n,e,c,l),qP(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}OP(t,n,o)}function LP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;UP(s)!=a&&s.push(a),s.push(n,r,o)}}function UP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function jP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;pl(n)&&WP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Xu(n,e),Fi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],u=Oi(e,t,a,n);if(Fi(u,e),s!==null&&YP(e,a-i,u,c,n,s),zr(c)){let l=Kr(n.index,e);l[bn]=Oi(e,t,a,n)}}}function aD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=_N();try{Pi(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];vp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&BP(c,u)}}finally{Pi(-1),vp(s)}}function BP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function $P(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(CR(e,s.selectors,!1))if(r||(r=[]),zr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Ap(t,e,c)}else r.unshift(s),Ap(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ap(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function HP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new N(-301,!1);r.push(e[i],o)}}}function qP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zr(e)&&(n[""]=t)}}function GP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Mi(i.type,!0)),s=new ki(o,zr(i),M);t.blueprint[r]=s,n[r]=s,LP(t,e,r,X0(t,n,i.hostVars,zn),i)}function WP(t,e,n){let r=rn(e,t),i=iD(n),o=t[Cn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Il(t,_l(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function KP(t,e,n,r,i,o){let s=rn(t,e);QP(e[He],s,o,t.value,n,r,i)}function QP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Zo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function YP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];Z0(r,n,c,u,l,d)}}function JP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function cD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function uD(t,e){let n=t.contentQueries;if(n!==null){let r=ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];fm(o),a.contentQueries(2,e[s],s)}}}finally{ae(r)}}}function Il(t,e){return t[da]?t[KI][Dn]=e:t[da]=e,t[KI]=e,e}function Mp(t,e,n){fm(0);let r=ae(null);try{e(t,n)}finally{ae(r)}}function lD(t){return t[la]||(t[la]=[])}function dD(t){return t.cleanup||(t.cleanup=[])}function hD(t,e){let n=t[ns],r=n?n.get(vr,null):null;r&&r.handleError(e)}function Nm(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],l=t.data[s];Z0(l,u,r,a,c,i)}}function fD(t,e,n){let r=r0(e,t);aP(t[He],r,n)}function ZP(t,e){let n=Kr(e,t),r=n[W];XP(r,n);let i=n[Ir];i!==null&&n[Wu]===null&&(n[Wu]=bm(i,n[ns])),Pm(r,n,n[bn])}function XP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Pm(t,e,n){pm(e);try{let r=t.viewQuery;r!==null&&Mp(1,r,n);let i=t.template;i!==null&&eD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[yr]?.finishViewCreation(t),t.staticContentQueries&&uD(t,e),t.staticViewQueries&&Mp(2,t.viewQuery,n);let o=t.components;o!==null&&e1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[F]&=-5,mm()}}function e1(t,e){for(let n=0;n<e.length;n++)ZP(t,e[n])}function t1(t,e,n,r){let i=ae(null);try{let o=e.tView,a=t[F]&4096?4096:16,c=_l(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[wa]=u;let l=t[yr];return l!==null&&(c[yr]=l.createEmbeddedView(o)),Pm(o,c,n),c}finally{ae(i)}}function sE(t,e){return!e||e.firstChild===null||N0(t)}function n1(t,e,n,r=!0){let i=e[W];if(dP(i,e,t,n),r){let s=Sp(n,t),a=e[He],c=Sm(a,t[Ni]);c!==null&&uP(i,t[Sn],a,e,c,s)}let o=e[Wu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function nl(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(qn(o)),Er(o)&&r1(o,r);let s=n.type;if(s&8)nl(t,e,n.child,r);else if(s&32){let a=Tm(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=K0(e,n);if(Array.isArray(a))r.push(...a);else{let c=fa(e[Hn]);nl(c[W],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function r1(t,e){for(let n=Ut;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&nl(r[W],r,i,e)}t[Ni]!==t[Ir]&&e.push(t[Ni])}var pD=[];function i1(t){return t[Ri]??o1(t)}function o1(t){let e=pD.pop()??Object.create(a1);return e.lView=t,e}function s1(t){t.lView[Ri]!==t&&(t.lView=null,pD.push(t))}var a1=fe(T({},uI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ha(t.lView)},consumerOnSignalRead(){this.lView[Ri]=this}}),mD=100;function gD(t,e=!0,n=0){let r=t[Cn],i=r.rendererFactory,o=!1;o||i.begin?.();try{c1(t,n)}catch(s){throw e&&hD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function c1(t,e){xp(t,e);let n=0;for(;hm(t);){if(n===mD)throw new N(103,!1);n++,xp(t,1)}}function u1(t,e,n,r){let i=e[F];if((i&256)===256)return;let o=!1;!o&&e[Cn].inlineEffectRunner?.flush(),pm(e);let s=null,a=null;!o&&l1(t)&&(a=i1(e),s=lI(a));try{s0(e),gN(t.bindingStartIndex),n!==null&&eD(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Lu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Uu(e,d,0,null),Yf(e,0)}if(d1(e),yD(e,0),t.contentQueries!==null&&uD(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Lu(e,d)}else{let d=t.contentHooks;d!==null&&Uu(e,d,1),Yf(e,1)}SP(t,e);let u=t.components;u!==null&&_D(e,u,0);let l=t.viewQuery;if(l!==null&&Mp(2,l,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Lu(e,d)}else{let d=t.viewHooks;d!==null&&Uu(e,d,2),Yf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qf]){for(let d of e[Qf])d();e[Qf]=null}o||(e[F]&=-73)}catch(c){throw ha(e),c}finally{a!==null&&(dI(a,s),s1(a)),mm()}}function l1(t){return t.type!==2}function yD(t,e){for(let n=k0(t);n!==null;n=O0(n))for(let r=Ut;r<n.length;r++){let i=n[r];vD(i,e)}}function d1(t){for(let e=k0(t);e!==null;e=O0(e)){if(!(e[F]&um.HasTransplantedViews))continue;let n=e[rs];for(let r=0;r<n.length;r++){let i=n[r],o=i[st];nN(i)}}}function h1(t,e,n){let r=Kr(e,t);vD(r,n)}function vD(t,e){dm(t)&&xp(t,e)}function xp(t,e){let r=t[W],i=t[F],o=t[Ri],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Df(o)),o&&(o.dirty=!1),t[F]&=-9217,s)u1(r,t,r.template,t[bn]);else if(i&8192){yD(t,1);let a=r.components;a!==null&&_D(t,a,1)}}function _D(t,e,n){for(let r=0;r<e.length;r++)h1(t,e[r],n)}function km(t){for(t[Cn].changeDetectionScheduler?.notify();t;){t[F]|=64;let e=fa(t);if(zR(t)&&!e)return t;t=e}return null}var Vi=class{get rootNodes(){let e=this._lView,n=e[W];return nl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bn]}set context(e){this._lView[bn]=e}get destroyed(){return(this._lView[F]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(Er(e)){let n=e[Ku],r=n?n.indexOf(this):-1;r>-1&&(Tp(e,r),Gu(n,r))}this._attachedToViewContainer=!1}z0(this._lView[W],this._lView)}onDestroy(e){a0(this._lView,e)}markForCheck(){km(this._cdRefInjectingView||this._lView)}detach(){this._lView[F]&=-129}reattach(){yp(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,gD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,q0(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e,yp(this._lView)}},Li=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=m1;let t=e;return t})(),f1=Li,p1=class extends f1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=t1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Vi(i)}};function m1(){return Om(Rt(),se())}function Om(t,e){return t.type&4?new p1(e,t,ss(t,e)):null}var h6=new RegExp(`^(\\d+)*(${YN}|${QN})*(.*)`);var g1=()=>null;function aE(t,e){return g1(t,e)}var Rp=class{},Np=class{},rl=class{};function y1(t){let e=Error(`No component factory found for ${Dt(t)}.`);return e[v1]=t,e}var v1="ngComponent";var Pp=class{resolveComponentFactory(e){throw y1(e)}},El=(()=>{let e=class e{};e.NULL=new Pp;let t=e;return t})(),pa=class{},Wn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>_1();let t=e;return t})();function _1(){let t=se(),e=Rt(),n=Kr(e.index,t);return(Si(n)?n:t)[He]}var w1=(()=>{let e=class e{};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),tp={};var cE=new Set;function wD(t){cE.has(t)||(cE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function uE(...t){}function I1(){let t=typeof En.requestAnimationFrame=="function",e=En[t?"requestAnimationFrame":"setTimeout"],n=En[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var be=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=I1().nativeRequestAnimationFrame,b1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new N(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,E1,uE,uE);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},E1={};function Fm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function D1(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(En,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,kp(t),t.isCheckStableRunning=!0,Fm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),kp(t))}function b1(t){let e=()=>{D1(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(C1(a))return n.invokeTask(i,o,s,a);try{return lE(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),dE(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return lE(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),dE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,kp(t),Fm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function kp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function lE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dE(t){t._nesting--,Fm(t)}function C1(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ID=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Op(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=LI(i,a);else if(o==2){let c=a,u=e[++s];r=LI(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var il=class extends El{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=xi(e);return new ma(n,this.ngModule)}};function hE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function T1(t){let e=t.toLowerCase();return e==="svg"?YR:e==="math"?JR:null}var Fp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ll(r);let i=this.injector.get(e,tp,r);return i!==tp||n===tp?i:this.parentInjector.get(e,n,r)}},ma=class extends rl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=hE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return hE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=MR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ae(null);try{i=i||this.ngModule;let s=i instanceof Xt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Fp(e,s):e,c=a.get(pa,null);if(c===null)throw new N(407,!1);let u=a.get(w1,null),l=a.get(ID,null),d=a.get(Rp,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",E=r?xP(p,r,this.componentDef.encapsulation,a):H0(p,v,T1(v)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let x=null;E!==null&&(x=bm(E,a,!0));let ne=xm(0,null,null,1,0,null,null,null,null,null,null),J=_l(null,ne,null,D,null,null,h,p,a,null,x);pm(J);let De,it;try{let he=this.componentDef,ft,Ln=null;he.findHostDirectiveDefs?(ft=[],Ln=new Map,he.findHostDirectiveDefs(he,ft,Ln),ft.push(he)):ft=[he];let Ii=S1(J,E),No=A1(Ii,E,he,ft,J,h,p);it=i0(ne,Tn),E&&R1(p,he,E,r),n!==void 0&&N1(it,this.ngContentSelectors,n),De=x1(No,he,ft,Ln,J,[P1]),Pm(ne,J,null)}finally{mm()}return new Vp(this.componentType,De,ss(it,J),J,it)}finally{ae(o)}}},Vp=class extends Np{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Vi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Nm(o[W],o,i,e,n),this.previousInputValues.set(e,n);let s=Kr(this._tNode.index,o);km(s)}}get injector(){return new Ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function S1(t,e){let n=t[W],r=Tn;return t[r]=e,wl(n,r,2,"#host",null)}function A1(t,e,n,r,i,o,s){let a=i[W];M1(r,t,e,s);let c=null;e!==null&&(c=bm(e,i[ns]));let u=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=_l(i,iD(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&Ap(a,t,r.length-1),Il(i,d),i[t.index]=d}function M1(t,e,n,r){for(let i of t)e.mergedAttrs=ca(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Op(e,e.mergedAttrs,!0),n!==null&&Y0(r,n,e))}function x1(t,e,n,r,i,o){let s=Rt(),a=i[W],c=rn(s,i);sD(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=Oi(i,a,d,s);Fi(h,i)}aD(a,i,s),c&&Fi(c,i);let u=Oi(i,a,s.directiveStart+s.componentOffset,s);if(t[bn]=i[bn]=u,o!==null)for(let l of o)l(u,e);return tD(a,s,i),u}function R1(t,e,n,r){if(r)hp(t,n,["ng-version","17.3.4"]);else{let{attrs:i,classes:o}=xR(e.selectors[0]);i&&hp(t,n,i),o&&o.length>0&&Q0(t,n,o.join(" "))}}function N1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function P1(){let t=Rt();vm(se()[W],t)}var Yr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=k1;let t=e;return t})();function k1(){let t=Rt();return DD(t,se())}var O1=Yr,ED=class extends O1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ss(this._hostTNode,this._hostLView)}get injector(){return new Ai(this._hostTNode,this._hostLView)}get parentInjector(){let e=_m(this._hostTNode,this._hostLView);if(w0(e)){let n=Ju(e,this._hostLView),r=Yu(e),i=n[W].data[r+8];return new Ai(i,n)}else return new Ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=fE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=aE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,sE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!GR(e),a;if(s)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new ma(xi(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?u:this.parentInjector).get(Xt,null);E&&(o=E)}let l=xi(c.componentType??{}),d=aE(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,o);return this.insertImpl(p.hostView,a,sE(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(tN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[st],u=new ED(c,c[Sn],c[st]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return n1(s,i,o,r),e.attachToViewContainerRef(),PE(np(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=fE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Tp(this._lContainer,n);r&&(Gu(np(this._lContainer),n),z0(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=Tp(this._lContainer,n);return r&&Gu(np(this._lContainer),n)!=null?new Vi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function fE(t){return t[Ku]}function np(t){return t[Ku]||(t[Ku]=[])}function DD(t,e){let n,r=e[t.index];return Er(r)?n=r:(n=cD(r,e,null,t),e[t.index]=n,Il(e,n)),V1(n,e,t,r),new ED(n,t,e)}function F1(t,e){let n=t[He],r=n.createComment(""),i=rn(e,t),o=Sm(n,i);return tl(n,o,r,vP(n,i),!1),r}var V1=j1,L1=()=>!1;function U1(t,e,n){return L1(t,e,n)}function j1(t,e,n,r){if(t[Ni])return;let i;n.type&8?i=qn(r):i=F1(e,n),t[Ni]=i}var Lp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Up=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Vm(e,n).matches!==null&&this.queries[n].setDirty()}},jp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=K1(e):this.predicate=e}},Bp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$p=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,B1(n,o)),this.matchTNodeWithReadOption(e,n,ju(n,e,o,!1,!1))}else r===Li?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ju(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Nt||i===Yr||i===Li&&n.type&4)this.addMatch(n.index,-2);else{let o=ju(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function B1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function $1(t,e){return t.type&11?ss(t,e):t.type&4?Om(t,e):null}function H1(t,e,n,r){return n===-1?$1(e,t):n===-2?q1(t,e,r):Oi(t,t[W],n,e)}function q1(t,e,n){if(n===Nt)return ss(e,t);if(n===Li)return Om(e,t);if(n===Yr)return DD(e,t)}function bD(t,e,n,r){let i=e[yr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=o[u];a.push(H1(e,l,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Hp(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=bD(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],l=e[-c];for(let d=Ut;d<l.length;d++){let h=l[d];h[wa]===h[st]&&Hp(h[W],h,u,r)}if(l[rs]!==null){let d=l[rs];for(let h=0;h<d.length;h++){let p=d[h];Hp(p[W],p,u,r)}}}}}return r}function G1(t,e){return t[yr].queries[e].queryList}function z1(t,e,n){let r=new bp((n&4)===4);return PP(t,e,r,r.destroy),(e[yr]??=new Up).queries.push(new Lp(r))-1}function W1(t,e,n){let r=at();return r.firstCreatePass&&(Q1(r,new jp(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),z1(r,se(),e)}function K1(t){return t.split(",").map(e=>e.trim())}function Q1(t,e,n){t.queries===null&&(t.queries=new Bp),t.queries.track(new $p(e,n))}function Vm(t,e){return t.queries.getByIndex(e)}function Y1(t,e){let n=t[W],r=Vm(n,e);return r.crossesNgTemplate?Hp(n,t,e,[]):bD(n,t,r,e)}function J1(t){return typeof t=="function"&&t[Ef]!==void 0}function CD(t){return J1(t)&&typeof t.set=="function"}function Z1(t){return Object.getPrototypeOf(t.prototype).constructor}function bt(t){let e=Z1(t.type),n=!0,r=[t];for(;e;){let i;if(zr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new N(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ou(t.inputs),s.inputTransforms=Ou(t.inputTransforms),s.declaredInputs=Ou(t.declaredInputs),s.outputs=Ou(t.outputs);let a=i.hostBindings;a&&rk(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&tk(t,c),u&&nk(t,u),X1(t,i),Qx(t.outputs,i.outputs),zr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===bt&&(n=!1)}}e=Object.getPrototypeOf(e)}ek(r)}function X1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ek(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ca(i.hostAttrs,n=ca(n,i.hostAttrs))}}function Ou(t){return t===Xo?{}:t===Zt?[]:t}function tk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function nk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function rk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Lm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Wr=class{},ga=class{};var qp=class extends Wr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new il(this);let i=HE(e);this._bootstrapComponents=$0(i.bootstrap),this._r3Injector=M0(e,n,[{provide:Wr,useValue:this},{provide:El,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gp=class extends ga{constructor(e){super(),this.moduleType=e}create(e){return new qp(this.moduleType,e,[])}};var ol=class extends Wr{constructor(e){super(),this.componentFactoryResolver=new il(this),this.instance=null;let n=new ua([...e.providers,{provide:Wr,useValue:this},{provide:El,useValue:this.componentFactoryResolver}],e.parent||cm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Um(t,e,n=null){return new ol({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Dl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TD(t){return ok(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ik(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ok(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function sk(t,e,n){return t[e]=n}function Ui(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function SD(t,e,n,r){let i=Ui(t,e,n);return Ui(t,e+1,r)||i}function ak(t){return(t.flags&32)===32}function ck(t,e,n,r,i,o,s,a,c){let u=e.consts,l=wl(e,t,4,s||null,Qu(u,a));oD(e,n,l,Qu(u,c)),vm(e,l);let d=l.tView=xm(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Ne(t,e,n,r,i,o,s,a){let c=se(),u=at(),l=t+Tn,d=u.firstCreatePass?ck(l,u,c,e,n,r,i,o,s):u.data[l];Ia(d,!1);let h=uk(u,c,d,t);gm()&&Am(u,c,h,d),Fi(h,c);let p=cD(h,c,h,d);return c[l]=p,Il(c,p),U1(p,d,c),lm(d)&&nD(u,c,d),s!=null&&rD(c,d,a),Ne}var uk=lk;function lk(t,e,n,r){return ym(!0),e[He].createComment("")}function Da(t,e,n,r){let i=se(),o=ml();if(Ui(i,o,e)){let s=at(),a=gl();KP(a,i,t,e,n,r)}return Da}function AD(t,e,n,r){return Ui(t,ml(),n)?e+Zo(n)+r:zn}function dk(t,e,n,r,i,o){let s=mN(),a=SD(t,s,n,i);return d0(2),a?e+Zo(n)+r+Zo(i)+o:zn}function Fu(t,e){return t<<17|e<<2}function ji(t){return t>>17&32767}function hk(t){return(t&2)==2}function fk(t,e){return t&131071|e<<17}function zp(t){return t|2}function is(t){return(t&131068)>>2}function rp(t,e){return t&-131069|e<<2}function pk(t){return(t&1)===1}function Wp(t){return t|1}function mk(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ji(s),c=is(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||_a(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=ji(t[a+1]);t[r+1]=Fu(h,a),h!==0&&(t[h+1]=rp(t[h+1],r)),t[a+1]=fk(t[a+1],r)}else t[r+1]=Fu(a,0),a!==0&&(t[a+1]=rp(t[a+1],r)),a=r;else t[r+1]=Fu(c,0),a===0?a=r:t[c+1]=rp(t[c+1],r),c=r;u&&(t[r+1]=zp(t[r+1])),pE(t,l,r,!0),pE(t,l,r,!1),gk(e,l,t,r,o),s=Fu(a,c),o?e.classBindings=s:e.styleBindings=s}function gk(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&_a(o,e)>=0&&(n[r+1]=Wp(n[r+1]))}function pE(t,e,n,r){let i=t[n+1],o=e===null,s=r?ji(i):is(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];yk(c,e)&&(a=!0,t[s+1]=r?Wp(u):zp(u)),s=r?ji(u):is(u)}a&&(t[n+1]=r?zp(i):Wp(i))}function yk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?_a(t,e)>=0:!1}function $(t,e,n){let r=se(),i=ml();if(Ui(r,i,e)){let o=at(),s=gl();Rm(o,s,r,t,e,r[He],n,!1)}return $}function mE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Nm(t,n,o[s],s,r)}function bl(t,e){return vk(t,e,null,!0),bl}function vk(t,e,n,r){let i=se(),o=at(),s=d0(2);if(o.firstUpdatePass&&wk(o,t,s,r),e!==zn&&Ui(i,s,e)){let a=o.data[$i()];Ck(o,a,i,i[He],t,i[s+1]=Tk(e,n),r,s)}}function _k(t,e){return e>=t.expandoStartIndex}function wk(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[$i()],s=_k(t,n);Sk(o,r)&&e===null&&!s&&(e=!1),e=Ik(i,o,e,r),mk(i,o,e,n,s,r)}}function Ik(t,e,n,r){let i=wN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ip(null,t,e,n,r),n=ya(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ip(i,t,e,n,r),o===null){let c=Ek(t,e,r);c!==void 0&&Array.isArray(c)&&(c=ip(null,t,e,c[1],r),c=ya(c,e.attrs,r),Dk(t,e,r,c))}else o=bk(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Ek(t,e,n){let r=n?e.classBindings:e.styleBindings;if(is(r)!==0)return t[ji(r)]}function Dk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ji(i)]=r}function bk(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ya(r,s,n)}return ya(r,e.attrs,n)}function ip(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ya(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ya(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Ck(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=pk(u)?gE(c,e,n,i,is(u),s):void 0;if(!sl(l)){sl(o)||hk(u)&&(o=gE(c,null,n,i,a,s));let d=r0($i(),n);CP(r,s,d,i,o)}}function gE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===zn&&(h=d?Zt:void 0);let p=d?Wf(h,r):l===r?h:void 0;if(u&&!sl(p)&&(p=Wf(c,r)),sl(p)&&(a=p,s))return a;let v=t[i+1];i=s?ji(v):is(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Wf(c,r))}return a}function sl(t){return t!==void 0}function Tk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Dt(Ea(t)))),t}function Sk(t,e){return(t.flags&(e?8:16))!==0}function Ak(t,e,n,r,i,o){let s=e.consts,a=Qu(s,i),c=wl(e,t,2,r,a);return oD(e,n,c,Qu(s,o)),c.attrs!==null&&Op(c,c.attrs,!1),c.mergedAttrs!==null&&Op(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m(t,e,n,r){let i=se(),o=at(),s=Tn+t,a=i[He],c=o.firstCreatePass?Ak(s,o,i,e,n,r):o.data[s],u=Mk(o,i,c,a,e,t);i[s]=u;let l=lm(c);return Ia(c,!0),Y0(a,u,c),!ak(c)&&gm()&&Am(o,i,u,c),oN()===0&&Fi(u,i),sN(),l&&(nD(o,i,c),tD(o,c,i)),r!==null&&rD(i,c),m}function g(){let t=Rt();l0()?hN():(t=t.parent,Ia(t,!1));let e=t;uN(e)&&lN(),aN();let n=at();return n.firstCreatePass&&(vm(n,t),ZE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&SN(e)&&mE(n,e,se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&AN(e)&&mE(n,e,se(),e.stylesWithoutHost,!1),g}function O(t,e,n,r){return m(t,e,n,r),g(),O}var Mk=(t,e,n,r,i,o)=>(ym(!0),H0(r,i,DN()));function mt(){return se()}var Ti=void 0;function xk(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Rk=["en",[["a","p"],["AM","PM"],Ti],[["AM","PM"],Ti,Ti],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ti,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ti,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ti,"{1} 'at' {0}",Ti],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xk],op={};function on(t){let e=Nk(t),n=yE(e);if(n)return n;let r=e.split("-")[0];if(n=yE(r),n)return n;if(r==="en")return Rk;throw new N(701,!1)}function yE(t){return t in op||(op[t]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[t]),op[t]}var je=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(je||{});function Nk(t){return t.toLowerCase().replace(/_/g,"-")}var al="en-US";var Pk=al;function kk(t){typeof t=="string"&&(Pk=t.toLowerCase().replace(/_/g,"-"))}function R(t,e,n,r){let i=se(),o=at(),s=Rt();return MD(o,i,i[He],s,t,e,r),R}function Ok(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[la],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function MD(t,e,n,r,i,o,s){let a=lm(r),u=t.firstCreatePass&&dD(t),l=e[bn],d=lD(e),h=!0;if(r.type&3||s){let E=rn(r,e),D=s?s(E):E,x=d.length,ne=s?De=>s(qn(De[r.index])):r.index,J=null;if(!s&&a&&(J=Ok(t,e,i,r.index)),J!==null){let De=J.__ngLastListenerFn__||J;De.__ngNextListenerFn__=o,J.__ngLastListenerFn__=o,h=!1}else{o=_E(r,e,l,o,!1);let De=n.listen(D,i,o);d.push(o,De),u&&u.push(i,ne,x,x+1)}}else o=_E(r,e,l,o,!1);let p=r.outputs,v;if(h&&p!==null&&(v=p[i])){let E=v.length;if(E)for(let D=0;D<E;D+=2){let x=v[D],ne=v[D+1],it=e[x][ne].subscribe(o),he=d.length;d.push(o,it),u&&u.push(i,r.index,he,-(he+1))}}}function vE(t,e,n,r){let i=ae(null);try{return jn(6,e,n),n(r)!==!1}catch(o){return hD(t,o),!1}finally{jn(7,e,n),ae(i)}}function _E(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Kr(t.index,e):e;km(a);let c=vE(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=vE(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function ce(t=1){return EN(t)}function br(t,e,n){return Hi(t,"",e,"",n),br}function Hi(t,e,n,r,i){let o=se(),s=AD(o,e,n,r);if(s!==zn){let a=at(),c=gl();Rm(a,c,o,t,s,o[He],i,!1)}return Hi}function xD(t,e,n){W1(t,e,n)}function jm(t){let e=se(),n=at(),r=h0();fm(r+1);let i=Vm(n,r);if(t.dirty&&eN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Y1(e,r);t.reset(o,BN),t.notifyOnChanges()}return!0}return!1}function Bm(){return G1(se(),h0())}function Fk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function RD(t){let e=fN();return o0(e,Tn+t)}function y(t,e=""){let n=se(),r=at(),i=t+Tn,o=r.firstCreatePass?wl(r,i,1,e,null):r.data[i],s=Vk(r,n,o,e,t);n[i]=s,gm()&&Am(r,n,s,o),Ia(o,!1)}var Vk=(t,e,n,r,i)=>(ym(!0),sP(e[He],r));function _e(t){return Ct("",t,""),_e}function Ct(t,e,n){let r=se(),i=AD(r,t,e,n);return i!==zn&&fD(r,$i(),i),Ct}function $m(t,e,n,r,i){let o=se(),s=dk(o,t,e,n,r,i);return s!==zn&&fD(o,$i(),s),$m}function Hm(t,e,n){CD(e)&&(e=e());let r=se(),i=ml();if(Ui(r,i,e)){let o=at(),s=gl();Rm(o,s,r,t,e,r[He],n,!1)}return Hm}function ND(t,e){let n=CD(t);return n&&t.set(e),n}function qm(t,e){let n=se(),r=at(),i=Rt();return MD(r,n,n[He],i,t,e),qm}function Lk(t,e,n){let r=at();if(r.firstCreatePass){let i=zr(t);Kp(n,r.data,r.blueprint,i,!0),Kp(e,r.data,r.blueprint,i,!1)}}function Kp(t,e,n,r,i){if(t=Et(t),Array.isArray(t))for(let o=0;o<t.length;o++)Kp(t[o],e,n,r,i);else{let o=at(),s=se(),a=Rt(),c=ts(t)?t:Et(t.provide),u=QE(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ts(t)||!t.multi){let p=new ki(u,i,M),v=ap(c,e,i?l:l+h,d);v===-1?(wp(Xu(a,s),o,c),sp(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{let p=ap(c,e,l+h,d),v=ap(c,e,l,l+h),E=p>=0&&n[p],D=v>=0&&n[v];if(i&&!D||!i&&!E){wp(Xu(a,s),o,c);let x=Bk(i?jk:Uk,n.length,i,r,u);!i&&D&&(n[v].providerFactory=x),sp(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=PD(n[i?v:p],u,!i&&r);sp(o,t,p>-1?p:v,x)}!i&&r&&D&&n[v].componentProviders++}}}function sp(t,e,n,r){let i=ts(e),o=VR(e);if(i||o){let c=(o?Et(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function PD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ap(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Uk(t,e,n,r){return Qp(this.multi,[])}function jk(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Oi(n,n[W],this.providerFactory.index,r);o=a.slice(0,s),Qp(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Qp(i,o);return o}function Qp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Bk(t,e,n,r,i){let o=new ki(t,n,M);return o.multi=[],o.index=e,o.componentProviders=0,PD(o,i,r&&!n),o}function Mn(t,e=[]){return n=>{n.providersResolver=(r,i)=>Lk(r,i?i(t):t,e)}}var $k=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=zE(!1,r.type),o=i.length>0?Um([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(Y(Xt))});let t=e;return t})();function we(t){wD("NgStandalone"),t.getStandaloneInjector=e=>e.get($k).getOrCreateStandaloneInjector(t)}function Hk(t,e){let n=t[e];return n===zn?void 0:n}function qk(t,e,n,r,i,o,s){let a=e+n;return SD(t,a,i,o)?sk(t,a+2,s?r.call(s,i,o):r(i,o)):Hk(t,a+2)}function Bt(t,e){let n=at(),r,i=t+Tn;n.firstCreatePass?(r=Gk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Mi(r.type,!0)),s,a=xt(M);try{let c=Zu(!1),u=o();return Zu(c),Fk(n,se(),i,u),u}finally{xt(a)}}function Gk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function $t(t,e,n,r){let i=t+Tn,o=se(),s=o0(o,i);return zk(o,i)?qk(o,pN(),e,s.transform,n,r,s):s.transform(n,r)}function zk(t,e){return t[W].data[e].pure}var wr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},kD=new wr("17.3.4"),Cl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var OD=new V("");function qi(t){return!!t&&typeof t.then=="function"}function FD(t){return!!t&&typeof t.subscribe=="function"}var VD=new V(""),LD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=w(VD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(qi(s))r.push(s);else if(FD(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gm=new V("");function Wk(){fI(()=>{throw new N(600,!1)})}function Kk(t){return t.isBoundToModule}function Qk(t,e,n){try{let r=n();return qi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ba=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(x0),this.afterRenderEffectManager=w(ID),this.externalTestViews=new Set,this.beforeRender=new pt,this.afterTick=new pt,this.componentTypes=[],this.components=[],this.isStable=w(Dl).hasPendingTasks.pipe(X(r=>!r)),this._injector=w(Xt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof rl;if(!this._injector.get(LD).done){let p=!o&&$E(r),v=!1;throw new N(405,v)}let a;o?a=r:a=this._injector.get(El).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Kk(a)?void 0:this._injector.get(Wr),u=i||a.selector,l=a.create(An.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(OD,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),cp(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new N(101,!1);let i=ae(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ae(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===mD)throw new N(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)Yk(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Yp(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Yp(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;cp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Gm,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>cp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new N(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Yk(t,e,n){!e&&!Yp(t)||Jk(t,n,e)}function Yp(t){return hm(t)}function Jk(t,e,n){let r;n?(r=0,t[F]|=1024):t[F]&64?r=0:r=1,gD(t,e,r)}var Jp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},zm=(()=>{let e=class e{compileModuleSync(r){return new Gp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=HE(r),s=$0(o.declarations).reduce((a,c)=>{let u=xi(c);return u&&a.push(new ma(u)),a},[]);return new Jp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zk=(()=>{let e=class e{constructor(){this.zone=w(be),this.applicationRef=w(ba)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xk(t){return[{provide:be,useFactory:t},{provide:es,multi:!0,useFactory:()=>{let e=w(Zk,{optional:!0});return()=>e.initialize()}},{provide:es,multi:!0,useFactory:()=>{let e=w(rO);return()=>{e.initialize()}}},{provide:x0,useFactory:eO}]}function eO(){let t=w(be),e=w(vr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function tO(t){let e=Xk(()=>new be(nO(t)));return dl([[],e])}function nO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var rO=(()=>{let e=class e{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=w(be),this.pendingTasks=w(Dl)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iO(){return typeof $localize<"u"&&$localize.locale||al}var Tl=new V("",{providedIn:"root",factory:()=>w(Tl,Q.Optional|Q.SkipSelf)||iO()});var UD=new V("");var $u=null;function oO(t=[],e){return An.create({name:e,providers:[{provide:hl,useValue:"platform"},{provide:UD,useValue:new Set([()=>$u=null])},...t]})}function sO(t=[]){if($u)return $u;let e=oO(t);return $u=e,Wk(),aO(e),e}function aO(t){t.get(Em,null)?.forEach(n=>n())}var Gi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cO;let t=e;return t})();function cO(t){return uO(Rt(),se(),(t&16)===16)}function uO(t,e,n){if(pl(t)&&!n){let r=Kr(t.index,e);return new Vi(r,r)}else if(t.type&47){let r=e[Hn];return new Vi(r,e)}return null}var Zp=class{constructor(){}supports(e){return TD(e)}create(e){return new Xp(e)}},lO=(t,e)=>e,Xp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<wE(r,i,o)?n:r,a=wE(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let p=h<o.length?o[h]:o[h]=0,v=p+h;l<=v&&v<u&&(o[h]=p+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!TD(e))throw new N(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,ik(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new em(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new cl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new cl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},em=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},tm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},cl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new tm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function IE(){return new Wm([new Zp])}var Wm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||IE()),deps:[[e,new NE,new Gn]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new N(901,!1)}};e.\u0275prov=P({token:e,providedIn:"root",factory:IE});let t=e;return t})();function jD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=sO(r),o=[tO(),...n||[]],a=new ol({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(be);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(vr,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=i.get(UD);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),Qk(u,c,()=>{let p=a.get(LD);return p.runInitializers(),p.donePromise.then(()=>{let v=a.get(Tl,al);kk(v||al);let E=a.get(ba);return e!==void 0&&E.bootstrap(e),E})})})}catch(e){return Promise.reject(e)}}function Jr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var zD=null;function Sr(){return zD}function WD(t){zD??=t}var Ol=class{};var an=new V(""),KD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(dO),providedIn:"platform"});let t=e;return t})();var dO=(()=>{let e=class e extends KD{constructor(){super(),this._doc=w(an),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sr().getBaseHref(this._doc)}onPopState(r){let i=Sr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Sr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function QD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function BD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function zi(t){return t&&t[0]!=="?"?"?"+t:t}var as=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(YD),providedIn:"root"});let t=e;return t})(),hO=new V(""),YD=(()=>{let e=class e extends as{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(an).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return QD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+zi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+zi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+zi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Y(KD),Y(hO,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wi=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=mO(BD($D(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+zi(i))}normalize(r){return e.stripTrailingSlash(pO(this._basePath,$D(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+zi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+zi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=zi,e.joinWithSlash=QD,e.stripTrailingSlash=BD,e.\u0275fac=function(i){return new(i||e)(Y(as))},e.\u0275prov=P({token:e,factory:()=>fO(),providedIn:"root"});let t=e;return t})();function fO(){return new Wi(Y(as))}function pO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function $D(t){return t.replace(/\/index.html$/,"")}function mO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Tt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Tt||{}),Ee=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ee||{}),Ht=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ht||{}),Zr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gO(t){return on(t)[je.LocaleId]}function yO(t,e,n){let r=on(t),i=[r[je.DayPeriodsFormat],r[je.DayPeriodsStandalone]],o=sn(i,e);return sn(o,n)}function vO(t,e,n){let r=on(t),i=[r[je.DaysFormat],r[je.DaysStandalone]],o=sn(i,e);return sn(o,n)}function _O(t,e,n){let r=on(t),i=[r[je.MonthsFormat],r[je.MonthsStandalone]],o=sn(i,e);return sn(o,n)}function wO(t,e){let r=on(t)[je.Eras];return sn(r,e)}function Sl(t,e){let n=on(t);return sn(n[je.DateFormat],e)}function Al(t,e){let n=on(t);return sn(n[je.TimeFormat],e)}function Ml(t,e){let r=on(t)[je.DateTimeFormat];return sn(r,e)}function Ll(t,e){let n=on(t),r=n[je.NumberSymbols][e];if(typeof r>"u"){if(e===Zr.CurrencyDecimal)return n[je.NumberSymbols][Zr.Decimal];if(e===Zr.CurrencyGroup)return n[je.NumberSymbols][Zr.Group]}return r}function JD(t){if(!t[je.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function IO(t){let e=on(t);return JD(e),(e[je.ExtraData][2]||[]).map(r=>typeof r=="string"?Km(r):[Km(r[0]),Km(r[1])])}function EO(t,e,n){let r=on(t);JD(r);let i=[r[je.ExtraData][0],r[je.ExtraData][1]],o=sn(i,e)||[];return sn(o,n)||[]}function sn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Km(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var DO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xl={},bO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Tr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Tr||{}),le=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(le||{}),ue=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ue||{});function CO(t,e,n,r){let i=kO(t);e=Cr(n,e)||e;let s=[],a;for(;e;)if(a=bO.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=XD(r,c),i=PO(i,r,!0));let u="";return s.forEach(l=>{let d=RO(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Fl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Cr(t,e){let n=gO(t);if(xl[n]??={},xl[n][e])return xl[n][e];let r="";switch(e){case"shortDate":r=Sl(t,Ht.Short);break;case"mediumDate":r=Sl(t,Ht.Medium);break;case"longDate":r=Sl(t,Ht.Long);break;case"fullDate":r=Sl(t,Ht.Full);break;case"shortTime":r=Al(t,Ht.Short);break;case"mediumTime":r=Al(t,Ht.Medium);break;case"longTime":r=Al(t,Ht.Long);break;case"fullTime":r=Al(t,Ht.Full);break;case"short":let i=Cr(t,"shortTime"),o=Cr(t,"shortDate");r=Rl(Ml(t,Ht.Short),[i,o]);break;case"medium":let s=Cr(t,"mediumTime"),a=Cr(t,"mediumDate");r=Rl(Ml(t,Ht.Medium),[s,a]);break;case"long":let c=Cr(t,"longTime"),u=Cr(t,"longDate");r=Rl(Ml(t,Ht.Long),[c,u]);break;case"full":let l=Cr(t,"fullTime"),d=Cr(t,"fullDate");r=Rl(Ml(t,Ht.Full),[l,d]);break}return r&&(xl[n][e]=r),r}function Rl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function xn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function TO(t,e){return xn(t,3).substring(0,e)}function qe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=SO(t,o);if((n>0||a>-n)&&(a+=n),t===le.Hours)a===0&&n===-12&&(a=12);else if(t===le.FractionalSeconds)return TO(a,e);let c=Ll(s,Zr.MinusSign);return xn(a,e,c,r,i)}}function SO(t,e){switch(t){case le.FullYear:return e.getFullYear();case le.Month:return e.getMonth();case le.Date:return e.getDate();case le.Hours:return e.getHours();case le.Minutes:return e.getMinutes();case le.Seconds:return e.getSeconds();case le.FractionalSeconds:return e.getMilliseconds();case le.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ce(t,e,n=Tt.Format,r=!1){return function(i,o){return AO(i,o,t,e,n,r)}}function AO(t,e,n,r,i,o){switch(n){case ue.Months:return _O(e,i,r)[t.getMonth()];case ue.Days:return vO(e,i,r)[t.getDay()];case ue.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let u=IO(e),l=EO(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[p,v]=h,E=s>=p.hours&&a>=p.minutes,D=s<v.hours||s===v.hours&&a<v.minutes;if(p.hours<v.hours){if(E&&D)return!0}else if(E||D)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return yO(e,i,r)[s<12?0:1];case ue.Eras:return wO(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Nl(t){return function(e,n,r){let i=-1*r,o=Ll(n,Zr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Tr.Short:return(i>=0?"+":"")+xn(s,2,o)+xn(Math.abs(i%60),2,o);case Tr.ShortGMT:return"GMT"+(i>=0?"+":"")+xn(s,1,o);case Tr.Long:return"GMT"+(i>=0?"+":"")+xn(s,2,o)+":"+xn(Math.abs(i%60),2,o);case Tr.Extended:return r===0?"Z":(i>=0?"+":"")+xn(s,2,o)+":"+xn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var MO=0,kl=4;function xO(t){let e=Fl(t,MO,1).getDay();return Fl(t,0,1+(e<=kl?kl:kl+7)-e)}function ZD(t){let e=t.getDay(),n=e===0?-3:kl-e;return Fl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Qm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=ZD(n),s=xO(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return xn(i,t,Ll(r,Zr.MinusSign))}}function Pl(t,e=!1){return function(n,r){let o=ZD(n).getFullYear();return xn(o,t,Ll(r,Zr.MinusSign),e)}}var Ym={};function RO(t){if(Ym[t])return Ym[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ce(ue.Eras,Ee.Abbreviated);break;case"GGGG":e=Ce(ue.Eras,Ee.Wide);break;case"GGGGG":e=Ce(ue.Eras,Ee.Narrow);break;case"y":e=qe(le.FullYear,1,0,!1,!0);break;case"yy":e=qe(le.FullYear,2,0,!0,!0);break;case"yyy":e=qe(le.FullYear,3,0,!1,!0);break;case"yyyy":e=qe(le.FullYear,4,0,!1,!0);break;case"Y":e=Pl(1);break;case"YY":e=Pl(2,!0);break;case"YYY":e=Pl(3);break;case"YYYY":e=Pl(4);break;case"M":case"L":e=qe(le.Month,1,1);break;case"MM":case"LL":e=qe(le.Month,2,1);break;case"MMM":e=Ce(ue.Months,Ee.Abbreviated);break;case"MMMM":e=Ce(ue.Months,Ee.Wide);break;case"MMMMM":e=Ce(ue.Months,Ee.Narrow);break;case"LLL":e=Ce(ue.Months,Ee.Abbreviated,Tt.Standalone);break;case"LLLL":e=Ce(ue.Months,Ee.Wide,Tt.Standalone);break;case"LLLLL":e=Ce(ue.Months,Ee.Narrow,Tt.Standalone);break;case"w":e=Qm(1);break;case"ww":e=Qm(2);break;case"W":e=Qm(1,!0);break;case"d":e=qe(le.Date,1);break;case"dd":e=qe(le.Date,2);break;case"c":case"cc":e=qe(le.Day,1);break;case"ccc":e=Ce(ue.Days,Ee.Abbreviated,Tt.Standalone);break;case"cccc":e=Ce(ue.Days,Ee.Wide,Tt.Standalone);break;case"ccccc":e=Ce(ue.Days,Ee.Narrow,Tt.Standalone);break;case"cccccc":e=Ce(ue.Days,Ee.Short,Tt.Standalone);break;case"E":case"EE":case"EEE":e=Ce(ue.Days,Ee.Abbreviated);break;case"EEEE":e=Ce(ue.Days,Ee.Wide);break;case"EEEEE":e=Ce(ue.Days,Ee.Narrow);break;case"EEEEEE":e=Ce(ue.Days,Ee.Short);break;case"a":case"aa":case"aaa":e=Ce(ue.DayPeriods,Ee.Abbreviated);break;case"aaaa":e=Ce(ue.DayPeriods,Ee.Wide);break;case"aaaaa":e=Ce(ue.DayPeriods,Ee.Narrow);break;case"b":case"bb":case"bbb":e=Ce(ue.DayPeriods,Ee.Abbreviated,Tt.Standalone,!0);break;case"bbbb":e=Ce(ue.DayPeriods,Ee.Wide,Tt.Standalone,!0);break;case"bbbbb":e=Ce(ue.DayPeriods,Ee.Narrow,Tt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ce(ue.DayPeriods,Ee.Abbreviated,Tt.Format,!0);break;case"BBBB":e=Ce(ue.DayPeriods,Ee.Wide,Tt.Format,!0);break;case"BBBBB":e=Ce(ue.DayPeriods,Ee.Narrow,Tt.Format,!0);break;case"h":e=qe(le.Hours,1,-12);break;case"hh":e=qe(le.Hours,2,-12);break;case"H":e=qe(le.Hours,1);break;case"HH":e=qe(le.Hours,2);break;case"m":e=qe(le.Minutes,1);break;case"mm":e=qe(le.Minutes,2);break;case"s":e=qe(le.Seconds,1);break;case"ss":e=qe(le.Seconds,2);break;case"S":e=qe(le.FractionalSeconds,1);break;case"SS":e=qe(le.FractionalSeconds,2);break;case"SSS":e=qe(le.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Nl(Tr.Short);break;case"ZZZZZ":e=Nl(Tr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nl(Tr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nl(Tr.Long);break;default:return null}return Ym[t]=e,e}function XD(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function NO(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function PO(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=XD(e,i);return NO(t,r*(o-i))}function kO(t){if(HD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Fl(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(DO))return OO(r)}let e=new Date(t);if(!HD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function OO(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,u),e}function HD(t){return t instanceof Date&&!isNaN(t.valueOf())}function eb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Jm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Jm(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),qD(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);qD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(M(Yr),M(Li),M(Wm))},e.\u0275dir=Se({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function qD(t,e){t.context.$implicit=e.item}var Xr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Zm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){GD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){GD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(M(Yr),M(Li))},e.\u0275dir=Se({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Zm=class{constructor(){this.$implicit=null,this.ngIf=null}};function GD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Dt(e)}'.`)}function FO(t,e){return new N(2100,!1)}var VO="mediumDate",LO=new V(""),UO=new V(""),Kn=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??VO,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return CO(r,a,s||this.locale,c)}catch(a){throw FO(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(M(Tl,16),M(LO,24),M(UO,24))},e.\u0275pipe=UE({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var ct=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({});let t=e;return t})(),tb="browser",jO="server";function Xm(t){return t===jO}var Vl=class{};var ng=class extends Ol{constructor(){super(...arguments),this.supportsDOMEvents=!0}},rg=class t extends ng{static makeCurrent(){WD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=BO();return n==null?null:$O(n)}resetBaseElement(){Ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return eb(document.cookie,e)}},Ca=null;function BO(){return Ca=Ca||document.querySelector("base"),Ca?Ca.getAttribute("href"):null}function $O(t){return new URL(t,document.baseURI).pathname}var HO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),ig=new V(""),ob=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new N(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Y(ig),Y(be))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Ul=class{constructor(e){this._doc=e}},eg="ng-app-id",sb=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xm(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${eg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(eg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(eg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Y(an),Y(Im),Y(Dm,8),Y(Qr))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),tg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sg=/%COMP%/g,ab="%COMP%",qO=`_nghost-${ab}`,GO=`_ngcontent-${ab}`,zO=!0,WO=new V("",{providedIn:"root",factory:()=>zO});function KO(t){return GO.replace(sg,t)}function QO(t){return qO.replace(sg,t)}function cb(t,e){return e.map(n=>n.replace(sg,t))}var nb=(()=>{let e=class e{constructor(r,i,o,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Xm(c),this.defaultRenderer=new Ta(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$n.ShadowDom&&(i=fe(T({},i),{encapsulation:$n.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof jl?o.applyToHost(r):o instanceof Sa&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case $n.Emulated:s=new jl(u,l,i,this.appId,d,a,c,h);break;case $n.ShadowDom:return new og(u,l,r,i,a,c,this.nonce,h);default:s=new Sa(u,l,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Y(ob),Y(sb),Y(Im),Y(WO),Y(an),Y(Qr),Y(be),Y(Dm))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Ta=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new N(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=tg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=tg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(_r.DashCase|_r.Important)?e.style.setProperty(n,r,i&_r.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&_r.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Sr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function rb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var og=class extends Ta{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=cb(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sa=class extends Ta{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?cb(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},jl=class extends Sa{constructor(e,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=KO(u),this.hostAttr=QO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},YO=(()=>{let e=class e extends Ul{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(Y(an))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),ib=["alt","control","meta","shift"],JO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},XO=(()=>{let e=class e extends Ul{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),ib.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=JO[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),ib.forEach(a=>{if(a!==o){let c=ZO[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Y(an))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function ub(t,e){return jD(T({rootComponent:t},eF(e)))}function eF(t){return{appProviders:[...oF,...t?.providers??[]],platformProviders:iF}}function tF(){rg.makeCurrent()}function nF(){return new vr}function rF(){return V0(document),document}var iF=[{provide:Qr,useValue:tb},{provide:Em,useValue:tF,multi:!0},{provide:an,useFactory:rF,deps:[]}];var oF=[{provide:hl,useValue:"root"},{provide:vr,useFactory:nF,deps:[]},{provide:ig,useClass:YO,multi:!0,deps:[an,be,Qr]},{provide:ig,useClass:XO,multi:!0,deps:[an]},nb,sb,ob,{provide:pa,useExisting:nb},{provide:Vl,useClass:HO,deps:[]},[]];var lb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Y(an))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var z="primary",$a=Symbol("RouteTitle"),dg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function hs(t){return new dg(t)}function aF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function cF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qn(t[n],e[n]))return!1;return!0}function Qn(t,e){let n=t?hg(t):void 0,r=e?hg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gb(t[i],e[i]))return!1;return!0}function hg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function gb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function yb(t){return t.length>0?t[t.length-1]:null}function ri(t){return Uf(t)?t:qi(t)?Re(Promise.resolve(t)):q(t)}var uF={exact:_b,subset:wb},vb={exact:lF,subset:dF,ignored:()=>!0};function db(t,e,n){return uF[n.paths](t.root,e.root,n.matrixParams)&&vb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function lF(t,e){return Qn(t,e)}function _b(t,e,n){if(!Qi(t.segments,e.segments)||!Hl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!_b(t.children[r],e.children[r],n))return!1;return!0}function dF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gb(t[n],e[n]))}function wb(t,e,n){return Ib(t,e,e.segments,n)}function Ib(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Qi(i,n)||e.hasChildren()||!Hl(i,n,r))}else if(t.segments.length===n.length){if(!Qi(t.segments,n)||!Hl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!wb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Qi(t.segments,i)||!Hl(t.segments,i,r)||!t.children[z]?!1:Ib(t.children[z],e,o,r)}}function Hl(t,e,n){return e.every((r,i)=>vb[n](t[i].parameters,r.parameters))}var ei=class{constructor(e=new pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){return pF.serialize(this)}},pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ql(this)}},Ki=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=hs(this.parameters),this._parameterMap}toString(){return Db(this)}};function hF(t,e){return Qi(t,e)&&t.every((n,r)=>Qn(n.parameters,e[r].parameters))}function Qi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function fF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==z&&(n=n.concat(e(i,r)))}),n}var Lg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new zl,providedIn:"root"});let t=e;return t})(),zl=class{parse(e){let n=new pg(e);return new ei(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Aa(e.root,!0)}`,r=yF(e.queryParams),i=typeof e.fragment=="string"?`#${mF(e.fragment)}`:"";return`${n}${r}${i}`}},pF=new zl;function ql(t){return t.segments.map(e=>Db(e)).join("/")}function Aa(t,e){if(!t.hasChildren())return ql(t);if(e){let n=t.children[z]?Aa(t.children[z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${Aa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=fF(t,(r,i)=>i===z?[Aa(t.children[z],!1)]:[`${i}:${Aa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[z]!=null?`${ql(t)}/${n[0]}`:`${ql(t)}/(${n.join("//")})`}}function Eb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bl(t){return Eb(t).replace(/%3B/gi,";")}function mF(t){return encodeURI(t)}function fg(t){return Eb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gl(t){return decodeURIComponent(t)}function hb(t){return Gl(t.replace(/\+/g,"%20"))}function Db(t){return`${fg(t.path)}${gF(t.parameters)}`}function gF(t){return Object.entries(t).map(([e,n])=>`;${fg(e)}=${fg(n)}`).join("")}function yF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Bl(n)}=${Bl(i)}`).join("&"):`${Bl(n)}=${Bl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var vF=/^[^\/()?;#]+/;function ag(t){let e=t.match(vF);return e?e[0]:""}var _F=/^[^\/()?;=#]+/;function wF(t){let e=t.match(_F);return e?e[0]:""}var IF=/^[^=?&#]+/;function EF(t){let e=t.match(IF);return e?e[0]:""}var DF=/^[^&#]+/;function bF(t){let e=t.match(DF);return e?e[0]:""}var pg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[z]=new pe(e,n)),r}parseSegment(){let e=ag(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(e),new Ki(Gl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=wF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ag(this.remaining);i&&(r=i,this.capture(r))}e[Gl(n)]=Gl(r)}parseQueryParam(e){let n=EF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=bF(this.remaining);s&&(r=s,this.capture(r))}let i=hb(n),o=hb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ag(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new N(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=z);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[z]:new pe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new N(4011,!1)}};function bb(t){return t.segments.length>0?new pe([],{[z]:t}):t}function Cb(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Cb(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new pe(t.segments,e);return CF(n)}function CF(t){if(t.numberOfChildren===1&&t.children[z]){let e=t.children[z];return new pe(t.segments.concat(e.segments),e.children)}return t}function fs(t){return t instanceof ei}function TF(t,e,n=null,r=null){let i=Tb(t);return Sb(i,e,n,r)}function Tb(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new pe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=bb(r);return e??i}function Sb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return cg(i,i,i,n,r);let o=SF(e);if(o.toRoot())return cg(i,i,new pe([],{}),n,r);let s=AF(o,i,t),a=s.processChildren?Ra(s.segmentGroup,s.index,o.commands):Mb(s.segmentGroup,s.index,o.commands);return cg(i,s.segmentGroup,a,n,r)}function Wl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ka(t){return typeof t=="object"&&t!=null&&t.outlets}function cg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=Ab(t,e,n);let a=bb(Cb(s));return new ei(a,o,i)}function Ab(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Ab(o,e,n)}),new pe(t.segments,r)}var Kl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wl(r[0]))throw new N(4003,!1);let i=r.find(ka);if(i&&i!==yb(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function SF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Kl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Kl(n,e,r)}var ls=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function AF(t,e,n){if(t.isAbsolute)return new ls(e,!0,0);if(!n)return new ls(e,!1,NaN);if(n.parent===null)return new ls(n,!0,0);let r=Wl(t.commands[0])?0:1,i=n.segments.length-1+r;return MF(n,i,t.numberOfDoubleDots)}function MF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new ls(r,!1,i-o)}function xF(t){return ka(t[0])?t[0].outlets:{[z]:t}}function Mb(t,e,n){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return Ra(t,e,n);let r=RF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new pe(t.segments.slice(0,r.pathIndex),{});return o.children[z]=new pe(t.segments.slice(r.pathIndex),t.children),Ra(o,0,i)}else return r.match&&i.length===0?new pe(t.segments,{}):r.match&&!t.hasChildren()?mg(t,e,n):r.match?Ra(t,0,i):mg(t,e,n)}function Ra(t,e,n){if(n.length===0)return new pe(t.segments,{});{let r=xF(n),i={};if(Object.keys(r).some(o=>o!==z)&&t.children[z]&&t.numberOfChildren===1&&t.children[z].segments.length===0){let o=Ra(t.children[z],e,n);return new pe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Mb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new pe(t.segments,i)}}function RF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ka(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!pb(c,u,s))return o;r+=2}else{if(!pb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ka(o)){let c=NF(o.outlets);return new pe(r,c)}if(i===0&&Wl(n[0])){let c=t.segments[e];r.push(new Ki(c.path,fb(n[0]))),i++;continue}let s=ka(o)?o.outlets[z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Wl(a)?(r.push(new Ki(s,fb(a))),i+=2):(r.push(new Ki(s,{})),i++)}return new pe(r,{})}function NF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=mg(new pe([],{}),0,r))}),e}function fb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function pb(t,e,n){return t==n.path&&Qn(e,n.parameters)}var Na="imperative",ut=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ut||{}),un=class{constructor(e,n){this.id=e,this.url=n}},Oa=class extends un{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ut.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ti=class extends un{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Gt||{}),gg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(gg||{}),ni=class extends un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yi=class extends un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ut.NavigationSkipped}},Fa=class extends un{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ql=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yg=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vg=class extends un{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_g=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wg=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ig=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Eg=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Dg=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bg=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cg=class{constructor(e){this.snapshot=e,this.type=ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tg=class{constructor(e){this.snapshot=e,this.type=ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Va=class{},La=class{constructor(e){this.url=e}};var Sg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new td,this.attachRef=null}},td=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Sg,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ag(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ag(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Mg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Mg(e,this._root).map(n=>n.value)}};function Ag(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ag(t,n);if(r)return r}return null}function Mg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Mg(t,n);if(r.length)return r.unshift(e),r}return[]}var qt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function us(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Jl=class extends Yl{constructor(e,n){super(e),this.snapshot=n,jg(this,e)}toString(){return this.snapshot.toString()}};function xb(t){let e=PF(t),n=new ot([new Ki("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new Ji(n,r,o,s,i,z,t,e.root);return a.snapshot=e.root,new Jl(new qt(a,[]),e)}function PF(t){let e={},n={},r={},i="",o=new Ua([],e,r,i,n,z,t,null,{});return new Zl("",new qt(o,[]))}var Ji=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(u=>u[$a]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>hs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>hs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ug(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),i?.data),t._resolvedData)}:r={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},i&&Nb(i)&&(r.resolve[$a]=i.title),r}var Ua=class{get title(){return this.data?.[$a]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Zl=class extends Yl{constructor(e,n){super(n),this.url=e,jg(this,n)}toString(){return Rb(this._root)}};function jg(t,e){e.value._routerState=t,e.children.forEach(n=>jg(t,n))}function Rb(t){let e=t.children.length>0?` { ${t.children.map(Rb).join(", ")} } `:"";return`${t.value}${e}`}function ug(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Qn(e.params,n.params)||t.paramsSubject.next(n.params),cF(e.url,n.url)||t.urlSubject.next(n.url),Qn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xg(t,e){let n=Qn(t.params,e.params)&&hF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||xg(t.parent,e.parent))}function Nb(t){return typeof t.title=="string"||t.title===null}var Bg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=w(td),this.location=w(Yr),this.changeDetector=w(Gi),this.environmentInjector=w(Xt),this.inputBinder=w($g,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Rg(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Se({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nn]});let t=e;return t})(),Rg=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Ji?this.route:e===td?this.childContexts:this.parent.get(e,n)}},$g=new V("");function kF(t,e,n){let r=ja(t,e._root,n?n._root:void 0);return new Jl(r,e)}function ja(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=OF(t,e,n);return new qt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ja(t,a)),s}}let r=FF(e.value),i=e.children.map(o=>ja(t,o));return new qt(r,i)}}function OF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ja(t,r,i);return ja(t,r)})}function FF(t){return new Ji(new ot(t.url),new ot(t.params),new ot(t.queryParams),new ot(t.fragment),new ot(t.data),t.outlet,t.component,t)}var Pb="ngNavigationCancelingError";function kb(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=fs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ob(!1,Gt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ob(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Pb]=!0,n.cancellationCode=e,n}function VF(t){return Fb(t)&&fs(t.url)}function Fb(t){return!!t&&t[Pb]}var LF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["ng-component"]],standalone:!0,features:[we],decls:1,vars:0,template:function(i,o){i&1&&O(0,"router-outlet")},dependencies:[Bg],encapsulation:2});let t=e;return t})();function UF(t,e){return t.providers&&!t._injector&&(t._injector=Um(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Hg(t){let e=t.children&&t.children.map(Hg),n=e?fe(T({},t),{children:e}):T({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=LF),n}function Yn(t){return t.outlet||z}function jF(t,e){let n=t.filter(r=>Yn(r)===e);return n.push(...t.filter(r=>Yn(r)!==e)),n}function Ha(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var BF=(t,e,n,r)=>X(i=>(new Ng(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ng=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ug(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=us(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=us(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Tg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new bg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(ug(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ug(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ha(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Xl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ds=class{constructor(e,n){this.component=e,this.route=n}};function $F(t,e,n){let r=t._root,i=e?e._root:null;return Ma(r,i,n,[r.value])}function HF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ms(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!CE(t)?t:e.get(t):r}function Ma(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=us(e);return t.children.forEach(s=>{qF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pa(a,n.getContext(s),i)),i}function qF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=GF(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Xl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ma(t,e,a?a.children:null,r,i):Ma(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ds(a.outlet.component,s))}else s&&Pa(e,a,i),i.canActivateChecks.push(new Xl(r)),o.component?Ma(t,null,a?a.children:null,r,i):Ma(t,null,n,r,i);return i}function GF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Qi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qi(t.url,e.url)||!Qn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xg(t,e)||!Qn(t.queryParams,e.queryParams);case"paramsChange":default:return!xg(t,e)}}function Pa(t,e,n){let r=us(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Pa(s,e.children.getContext(o),n):Pa(s,null,n):Pa(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ds(e.outlet.component,i)):n.canDeactivateChecks.push(new ds(null,i)):n.canDeactivateChecks.push(new ds(null,i))}function qa(t){return typeof t=="function"}function zF(t){return typeof t=="boolean"}function WF(t){return t&&qa(t.canLoad)}function KF(t){return t&&qa(t.canActivate)}function QF(t){return t&&qa(t.canActivateChild)}function YF(t){return t&&qa(t.canDeactivate)}function JF(t){return t&&qa(t.canMatch)}function Vb(t){return t instanceof mr||t?.name==="EmptyError"}var $l=Symbol("INITIAL_VALUE");function ps(){return wn(t=>xu(t.map(e=>e.pipe(gr(1),Gf($l)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===$l)return $l;if(n===!1||n instanceof ei)return n}return!0}),_n(e=>e!==$l),gr(1)))}function ZF(t,e){return Ke(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?q(fe(T({},n),{guardsResult:!0})):XF(s,r,i,t).pipe(Ke(a=>a&&zF(a)?eV(r,o,t,e):q(a)),X(a=>fe(T({},n),{guardsResult:a})))})}function XF(t,e,n,r){return Re(t).pipe(Ke(i=>oV(i.component,i.route,n,e,r)),Un(i=>i!==!0,!0))}function eV(t,e,n,r){return Re(e).pipe(Go(i=>qo(nV(i.route.parent,r),tV(i.route,r),iV(t,i.path,n),rV(t,i.route,n))),Un(i=>i!==!0,!0))}function tV(t,e){return t!==null&&e&&e(new Cg(t)),q(!0)}function nV(t,e){return t!==null&&e&&e(new Dg(t)),q(!0)}function rV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Ru(()=>{let s=Ha(e)??n,a=ms(o,s),c=KF(a)?a.canActivate(e,t):Bi(s,()=>a(e,t));return ri(c).pipe(Un())}));return q(i).pipe(ps())}function iV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>HF(s)).filter(s=>s!==null).map(s=>Ru(()=>{let a=s.guards.map(c=>{let u=Ha(s.node)??n,l=ms(c,u),d=QF(l)?l.canActivateChild(r,t):Bi(u,()=>l(r,t));return ri(d).pipe(Un())});return q(a).pipe(ps())}));return q(o).pipe(ps())}function oV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let c=Ha(e)??i,u=ms(a,c),l=YF(u)?u.canDeactivate(t,e,n,r):Bi(c,()=>u(t,e,n,r));return ri(l).pipe(Un())});return q(s).pipe(ps())}function sV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=ms(s,t),c=WF(a)?a.canLoad(e,n):Bi(t,()=>a(e,n));return ri(c)});return q(o).pipe(ps(),Lb(r))}function Lb(t){return Rf(Qe(e=>{if(fs(e))throw kb(t,e)}),X(e=>e===!0))}function aV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=ms(s,t),c=JF(a)?a.canMatch(e,n):Bi(t,()=>a(e,n));return ri(c)});return q(o).pipe(ps(),Lb(r))}var Ba=class{constructor(e){this.segmentGroup=e||null}},ed=class extends Error{constructor(e){super(),this.urlTree=e}};function cs(t){return Ho(new Ba(t))}function cV(t){return Ho(new N(4e3,!1))}function uV(t){return Ho(Ob(!1,Gt.GuardRejected))}var Pg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[z])return cV(e.redirectTo);i=i.children[z]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ed(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new ei(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new pe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new N(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},kg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lV(t,e,n,r,i){let o=qg(t,e,n);return o.matched?(r=UF(e,r),aV(r,e,n,i).pipe(X(s=>s===!0?o:T({},kg)))):q(o)}function qg(t,e,n){if(e.path==="**")return dV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?T({},kg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||aF)(n,t,e);if(!i)return T({},kg);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?T(T({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dV(t){return{matched:!0,parameters:t.length>0?yb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function mb(t,e,n,r){return n.length>0&&pV(t,n,r)?{segmentGroup:new pe(e,fV(r,new pe(n,t.children))),slicedSegments:[]}:n.length===0&&mV(t,n,r)?{segmentGroup:new pe(t.segments,hV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:n}}function hV(t,e,n,r){let i={};for(let o of n)if(nd(t,e,o)&&!r[Yn(o)]){let s=new pe([],{});i[Yn(o)]=s}return T(T({},r),i)}function fV(t,e){let n={};n[z]=e;for(let r of t)if(r.path===""&&Yn(r)!==z){let i=new pe([],{});n[Yn(r)]=i}return n}function pV(t,e,n){return n.some(r=>nd(t,e,r)&&Yn(r)!==z)}function mV(t,e,n){return n.some(r=>nd(t,e,r))}function nd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function gV(t,e,n,r){return Yn(t)!==r&&(r===z||!nd(e,n,t))?!1:qg(e,t,n).matched}function yV(t,e,n){return e.length===0&&!t.children[n]}var Og=class{};function vV(t,e,n,r,i,o,s="emptyOnly"){return new Fg(t,e,n,r,i,s,o).recognize()}var _V=31,Fg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Pg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new N(4002,`'${e.segmentGroup}'`)}recognize(){let e=mb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(n=>{let r=new Ua([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),i=new qt(r,n),o=new Zl("",i),s=TF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,z).pipe($r(r=>{if(r instanceof ed)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ba?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Ug(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(X(o=>o instanceof qt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Re(i).pipe(Go(o=>{let s=r.children[o],a=jF(n,o);return this.processSegmentGroup(e,a,s,o)}),qf((o,s)=>(o.push(...s),o)),Hr(null),Hf(),Ke(o=>{if(o===null)return cs(r);let s=Ub(o);return wV(s),q(s)}))}processSegment(e,n,r,i,o,s){return Re(n).pipe(Go(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe($r(c=>{if(c instanceof Ba)return q(null);throw c}))),Un(a=>!!a),$r(a=>{if(Vb(a))return yV(r,i,o)?q(new Og):cs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return gV(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):cs(i):cs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=qg(n,i,o);if(!a)return cs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_V&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ke(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=lV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(wn(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(wn(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new Ua(l,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,EV(r),Yn(r),r.component??r._loadedComponent??null,r,DV(r)),{segmentGroup:v,slicedSegments:E}=mb(n,l,d,c);if(E.length===0&&v.hasChildren())return this.processChildren(u,c,v).pipe(X(x=>x===null?null:new qt(p,x)));if(c.length===0&&E.length===0)return q(new qt(p,[]));let D=Yn(r)===o;return this.processSegment(u,c,v,E,D?z:o,!0).pipe(X(x=>new qt(p,x instanceof qt?[x]:[])))}))):cs(n)))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?q({routes:n._loadedRoutes,injector:n._loadedInjector}):sV(e,n,r,this.urlSerializer).pipe(Ke(i=>i?this.configLoader.loadChildren(e,n).pipe(Qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):uV(n))):q({routes:[],injector:e})}};function wV(t){t.sort((e,n)=>e.value.outlet===z?-1:n.value.outlet===z?1:e.value.outlet.localeCompare(n.value.outlet))}function IV(t){let e=t.value.routeConfig;return e&&e.path===""}function Ub(t){let e=[],n=new Set;for(let r of t){if(!IV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Ub(r.children);e.push(new qt(r.value,i))}return e.filter(r=>!n.has(r))}function EV(t){return t.data||{}}function DV(t){return t.resolve||{}}function bV(t,e,n,r,i,o){return Ke(s=>vV(t,e,n,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:c})=>fe(T({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function CV(t,e){return Ke(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of jb(c))s.add(u);let a=0;return Re(s).pipe(Go(c=>o.has(c)?TV(c,r,t,e):(c.data=Ug(c,c.parent,t).resolve,q(void 0))),Qe(()=>a++),zo(1),Ke(c=>a===s.size?q(n):Lt))})}function jb(t){let e=t.children.map(n=>jb(n)).flat();return[t,...e]}function TV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Nb(i)&&(o[$a]=i.title),SV(o,t,e,r).pipe(X(s=>(t._resolvedData=s,t.data=Ug(t,t.parent,n).resolve,null)))}function SV(t,e,n,r){let i=hg(t);if(i.length===0)return q({});let o={};return Re(i).pipe(Ke(s=>AV(t[s],e,n,r).pipe(Un(),Qe(a=>{o[s]=a}))),zo(1),$f(o),$r(s=>Vb(s)?Lt:Ho(s)))}function AV(t,e,n,r){let i=Ha(e)??r,o=ms(t,i),s=o.resolve?o.resolve(e,n):Bi(i,()=>o(e,n));return ri(s)}function lg(t){return wn(e=>{let n=t(e);return n?Re(n).pipe(X(()=>e)):q(e)})}var Bb=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===z);return i}getResolvedTitleForRoute(r){return r.data[$a]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(MV),providedIn:"root"});let t=e;return t})(),MV=(()=>{let e=class e extends Bb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Y(lb))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gg=new V("",{providedIn:"root",factory:()=>({})}),zg=new V(""),xV=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(zm)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ri(r.loadComponent()).pipe(X($b),Qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),oa(()=>{this.componentLoaders.delete(r)})),o=new Uo(i,()=>new pt).pipe(Lo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=RV(i,this.compiler,r,this.onLoadEndListener).pipe(oa(()=>{this.childrenLoaders.delete(i)})),a=new Uo(s,()=>new pt).pipe(Lo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RV(t,e,n,r){return ri(t.loadChildren()).pipe(X($b),Ke(i=>i instanceof ga||Array.isArray(i)?q(i):Re(e.compileModuleAsync(i))),X(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(zg,[],{optional:!0,self:!0}).flat()),{routes:s.map(Hg),injector:o}}))}function NV(t){return t&&typeof t=="object"&&"default"in t}function $b(t){return NV(t)?t.default:t}var Wg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(PV),providedIn:"root"});let t=e;return t})(),PV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kV=new V("");var OV=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pt,this.transitionAbortSubject=new pt,this.configLoader=w(xV),this.environmentInjector=w(Xt),this.urlSerializer=w(Lg),this.rootContexts=w(td),this.location=w(Wi),this.inputBindingEnabled=w($g,{optional:!0})!==null,this.titleStrategy=w(Bb),this.options=w(Gg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(Wg),this.createViewTransition=w(kV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Ig(o)),i=o=>this.events.next(new Eg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(fe(T(T({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ot({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Na,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_n(s=>s.id!==0),X(s=>fe(T({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),wn(s=>{let a=!1,c=!1;return q(s).pipe(wn(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Gt.SupersededByNewNavigation),Lt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?fe(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Yi(u.id,this.urlSerializer.serialize(u.rawUrl),h,gg.IgnoredSameUrlNavigation)),u.resolve(null),Lt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return q(u).pipe(wn(h=>{let p=this.transitions?.getValue();return this.events.next(new Oa(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Lt:Promise.resolve(h)}),bV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=fe(T({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Ql(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:v,restoredState:E,extras:D}=u,x=new Oa(h,this.urlSerializer.serialize(p),v,E);this.events.next(x);let ne=xb(this.rootComponentType).snapshot;return this.currentTransition=s=fe(T({},u),{targetSnapshot:ne,urlAfterRedirects:p,extras:fe(T({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,q(s)}else{let h="";return this.events.next(new Yi(u.id,this.urlSerializer.serialize(u.extractedUrl),h,gg.IgnoredByUrlHandlingStrategy)),u.resolve(null),Lt}}),Qe(u=>{let l=new yg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),X(u=>(this.currentTransition=s=fe(T({},u),{guards:$F(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),ZF(this.environmentInjector,u=>this.events.next(u)),Qe(u=>{if(s.guardsResult=u.guardsResult,fs(u.guardsResult))throw kb(this.urlSerializer,u.guardsResult);let l=new vg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),_n(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Gt.GuardRejected),!1)),lg(u=>{if(u.guards.canActivateChecks.length)return q(u).pipe(Qe(l=>{let d=new _g(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),wn(l=>{let d=!1;return q(l).pipe(CV(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Gt.NoDataFromResolver)}}))}),Qe(l=>{let d=new wg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),lg(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Qe(p=>{d.component=p}),X(()=>{})));for(let p of d.children)h.push(...l(p));return h};return xu(l(u.targetSnapshot.root)).pipe(Hr(null),gr(1))}),lg(()=>this.afterPreactivation()),wn(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?Re(d).pipe(X(()=>s)):q(s)}),X(u=>{let l=kF(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=fe(T({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Qe(()=>{this.events.next(new Va)}),BF(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),gr(1),Qe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ti(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),zf(this.transitionAbortSubject.pipe(Qe(u=>{throw u}))),oa(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Gt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),$r(u=>{if(c=!0,Fb(u))this.events.next(new ni(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),VF(u)?this.events.next(new La(u.url)):s.resolve(!1);else{this.events.next(new Fa(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return Lt}))}))}cancelNavigationTransition(r,i,o){let s=new ni(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FV(t){return t!==Na}var VV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(LV),providedIn:"root"});let t=e;return t})(),Vg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},LV=(()=>{let e=class e extends Vg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(UV),providedIn:"root"});let t=e;return t})(),UV=(()=>{let e=class e extends Hb{constructor(){super(...arguments),this.location=w(Wi),this.urlSerializer=w(Lg),this.options=w(Gg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(Wg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ei,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Oa)this.stateMemento=this.createStateMemento();else if(r instanceof Yi)this.rawUrlTree=i.initialUrl;else if(r instanceof Ql){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Va?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof ni&&(r.code===Gt.GuardRejected||r.code===Gt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Fa?this.restoreHistory(i,!0):r instanceof ti&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=T(T({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=T(T({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(xa||{});function jV(t,e){t.events.pipe(_n(n=>n instanceof ti||n instanceof ni||n instanceof Fa||n instanceof Yi),X(n=>n instanceof ti||n instanceof Yi?xa.COMPLETE:(n instanceof ni?n.code===Gt.Redirect||n.code===Gt.SupersededByNewNavigation:!1)?xa.REDIRECTING:xa.FAILED),_n(n=>n!==xa.REDIRECTING),gr(1)).subscribe(()=>{e()})}function BV(t){throw t}var $V={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Je=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(Cl),this.stateManager=w(Hb),this.options=w(Gg,{optional:!0})||{},this.pendingTasks=w(Dl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(OV),this.urlSerializer=w(Lg),this.location=w(Wi),this.urlHandlingStrategy=w(Wg),this._events=new pt,this.errorHandler=this.options.errorHandler||BV,this.navigated=!1,this.routeReuseStrategy=w(VV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(zg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w($g,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=w(be)instanceof be&&be.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof ni&&i.code!==Gt.Redirect&&i.code!==Gt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ti)this.navigated=!0;else if(i instanceof La){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||FV(o.source)};this.scheduleNavigation(a,Na,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}GV(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Na,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=T({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Hg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=T(T({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=o?o.snapshot:this.routerState.snapshot.root;h=Tb(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Sb(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=fs(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Na,null,i)}navigate(r,i={skipLocationChange:!1}){return qV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=T({},$V):i===!1?o=T({},HV):o=i,fs(r))return db(this.currentUrlTree,r,o);let s=this.parseUrl(r);return db(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return jV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new N(4008,!1)}function GV(t){return!(t instanceof Va)&&!(t instanceof La)}var gs=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new pt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:j0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(M(Je),M(Ji),wm("tabindex"),M(Wn),M(Nt),M(as))},e.\u0275dir=Se({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&R("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Da("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[$e.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Jr],skipLocationChange:[$e.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Jr],replaceUrl:[$e.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Jr],routerLink:"routerLink"},standalone:!0,features:[Lm,nn]});let t=e;return t})();var zV=new V("");function qb(t,...e){return dl([{provide:zg,multi:!0,useValue:t},[],{provide:Ji,useFactory:WV,deps:[Je]},{provide:Gm,multi:!0,useFactory:KV},e.map(n=>n.\u0275providers)])}function WV(t){return t.routerState.root}function KV(){let t=w(An);return e=>{let n=t.get(ba);if(e!==n.components[0])return;let r=t.get(Je),i=t.get(QV);t.get(YV)===1&&r.initialNavigation(),t.get(JV,null,Q.Optional)?.setUpPreloading(),t.get(zV,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var QV=new V("",{factory:()=>new pt}),YV=new V("",{providedIn:"root",factory:()=>1});var JV=new V("");var zb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,s||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new Qg;let h=o<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Qg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},XV=function(t){let e=zb(t);return Wb.encodeByteArray(e,!0)},Ga=function(t){return XV(t).replace(/\./g,"")},Jg=function(t){try{return Wb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var tL=()=>eL().__FIREBASE_DEFAULTS__,nL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Jg(t[1]);return e&&JSON.parse(e)},id=()=>{try{return tL()||nL()||rL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zg=t=>{var e,n;return(n=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kb=t=>{let e=Zg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xg=()=>{var t;return(t=id())===null||t===void 0?void 0:t.config},ey=t=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${t}`]};var rd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ga(JSON.stringify(n)),Ga(JSON.stringify(s)),""].join(".")}function Oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function iL(){var t;let e=(t=id())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xb(){let t=Oe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eC(){return!iL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function od(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var oL="FirebaseError",zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mr.prototype.create)}},Mr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?sL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new zt(i,a,r)}};function sL(t,e){return t.replace(aL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var aL=/\{\$([^}]+)}/g;function nC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Gb(o)&&Gb(s)){if(!Zi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Gb(t){return t!==null&&typeof t=="object"}function za(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ys(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rC(t,e){let n=new Yg(t,e);return n.subscribe.bind(n)}var Yg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kg),i.error===void 0&&(i.error=Kg),i.complete===void 0&&(i.complete=Kg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function cL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kg(){}var N5=4*60*60*1e3;function Ze(t){return t&&t._delegate?t._delegate:t}var ln=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xi="[DEFAULT]";var ty=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lL(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function uL(t){return t===Xi?void 0:t}function lL(t){return t.instantiationMode==="EAGER"}var sd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ty(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var dL=[],ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ee||{}),hL={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},fL=ee.INFO,pL={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},mL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=pL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ii=class{constructor(e){this.name=e,this._logLevel=fL,this._logHandler=mL,this._userLogHandler=null,dL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var gL=(t,e)=>e.some(n=>t instanceof n),iC,oC;function yL(){return iC||(iC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vL(){return oC||(oC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var sC=new WeakMap,ry=new WeakMap,aC=new WeakMap,ny=new WeakMap,oy=new WeakMap;function _L(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Jn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sC.set(n,t)}).catch(()=>{}),oy.set(e,t),e}function wL(t){if(ry.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ry.set(t,e)}var iy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cC(t){iy=t(iy)}function IL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ad(this),e,...n);return aC.set(r,e.sort?e.sort():[e]),Jn(r)}:vL().includes(t)?function(...e){return t.apply(ad(this),e),Jn(sC.get(this))}:function(...e){return Jn(t.apply(ad(this),e))}}function EL(t){return typeof t=="function"?IL(t):(t instanceof IDBTransaction&&wL(t),gL(t,yL())?new Proxy(t,iy):t)}function Jn(t){if(t instanceof IDBRequest)return _L(t);if(ny.has(t))return ny.get(t);let e=EL(t);return e!==t&&(ny.set(t,e),oy.set(e,t)),e}var ad=t=>oy.get(t);function lC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Jn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Jn(s.result),c.oldVersion,c.newVersion,Jn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var DL=["get","getKey","getAll","getAllKeys","count"],bL=["put","add","delete","clear"],sy=new Map;function uC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sy.get(e))return sy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=bL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DL.includes(n)))return;let o=function(s,...a){return f(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return sy.set(e,o),o}cC(t=>fe(T({},t),{get:(e,n,r)=>uC(e,n)||t.get(e,n,r),has:(e,n)=>!!uC(e,n)||t.has(e,n)}));var cy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function CL(t){let e=t.getComponent();return e?.type==="VERSION"}var uy="@firebase/app",dC="0.10.1";var eo=new ii("@firebase/app"),TL="@firebase/app-compat",SL="@firebase/analytics-compat",AL="@firebase/analytics",ML="@firebase/app-check-compat",xL="@firebase/app-check",RL="@firebase/auth",NL="@firebase/auth-compat",PL="@firebase/database",kL="@firebase/database-compat",OL="@firebase/functions",FL="@firebase/functions-compat",VL="@firebase/installations",LL="@firebase/installations-compat",UL="@firebase/messaging",jL="@firebase/messaging-compat",BL="@firebase/performance",$L="@firebase/performance-compat",HL="@firebase/remote-config",qL="@firebase/remote-config-compat",GL="@firebase/storage",zL="@firebase/storage-compat",WL="@firebase/firestore",KL="@firebase/firestore-compat",QL="firebase",YL="10.11.0";var ly="[DEFAULT]",JL={[uy]:"fire-core",[TL]:"fire-core-compat",[AL]:"fire-analytics",[SL]:"fire-analytics-compat",[xL]:"fire-app-check",[ML]:"fire-app-check-compat",[RL]:"fire-auth",[NL]:"fire-auth-compat",[PL]:"fire-rtdb",[kL]:"fire-rtdb-compat",[OL]:"fire-fn",[FL]:"fire-fn-compat",[VL]:"fire-iid",[LL]:"fire-iid-compat",[UL]:"fire-fcm",[jL]:"fire-fcm-compat",[BL]:"fire-perf",[$L]:"fire-perf-compat",[HL]:"fire-rc",[qL]:"fire-rc-compat",[GL]:"fire-gcs",[zL]:"fire-gcs-compat",[WL]:"fire-fst",[KL]:"fire-fst-compat","fire-js":"fire-js",[QL]:"fire-js-all"};var Wa=new Map,ZL=new Map,dy=new Map;function hC(t,e){try{t.container.addComponent(e)}catch(n){eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function si(t){let e=t.name;if(dy.has(e))return eo.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,t);for(let n of Wa.values())hC(n,t);for(let n of ZL.values())hC(n,t);return!0}function Qa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t.settings!==void 0}var XL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new Mr("app","Firebase",XL);var hy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}};var ai=YL;function my(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ly,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=Xg()),!n)throw oi.create("no-options");let o=Wa.get(i);if(o){if(Zi(n,o.options)&&Zi(r,o.config))return o;throw oi.create("duplicate-app",{appName:i})}let s=new sd(i);for(let c of dy.values())s.addComponent(c);let a=new hy(n,r,s);return Wa.set(i,a),a}function _s(t=ly){let e=Wa.get(t);if(!e&&t===ly&&Xg())return my();if(!e)throw oi.create("no-app",{appName:t});return e}function cd(){return Array.from(Wa.values())}function lt(t,e,n){var r;let i=(r=JL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),eo.warn(a.join(" "));return}si(new ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var e2="firebase-heartbeat-database",t2=1,Ka="firebase-heartbeat-store",ay=null;function gC(){return ay||(ay=lC(e2,t2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),ay}function n2(t){return f(this,null,function*(){try{let n=(yield gC()).transaction(Ka),r=yield n.objectStore(Ka).get(yC(t));return yield n.done,r}catch(e){if(e instanceof zt)eo.warn(e.message);else{let n=oi.create("idb-get",{originalErrorMessage:e?.message});eo.warn(n.message)}}})}function fC(t,e){return f(this,null,function*(){try{let r=(yield gC()).transaction(Ka,"readwrite");yield r.objectStore(Ka).put(e,yC(t)),yield r.done}catch(n){if(n instanceof zt)eo.warn(n.message);else{let r=oi.create("idb-set",{originalErrorMessage:n?.message});eo.warn(r.message)}}})}function yC(t){return`${t.name}!${t.options.appId}`}var r2=1024,i2=30*24*60*60*1e3,fy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new py(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=i2}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=pC(),{heartbeatsToSend:r,unsentEntries:i}=o2(this._heartbeatsCache.heartbeats),o=Ga(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function pC(){return new Date().toISOString().substring(0,10)}function o2(t,e=r2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),mC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var py=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return od()?tC().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield n2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function mC(t){return Ga(JSON.stringify({version:2,heartbeats:t})).length}function s2(t){si(new ln("platform-logger",e=>new cy(e),"PRIVATE")),si(new ln("heartbeat",e=>new fy(e),"PRIVATE")),lt(uy,dC,t),lt(uy,dC,"esm2017"),lt("fire-js","")}s2("");var a2="firebase",c2="10.11.0";lt(a2,c2,"app");var Ya=new wr("ANGULARFIRE2_VERSION");function vC(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var yy=(t,e)=>{let n=e?[e]:cd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ud=class{constructor(){return yy(u2)}},u2="app-check";function ws(){}var ld=class{zone;delegate;constructor(e,n=Vf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},gy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ws,{},ws,ws)),n.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},dd=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ld(Zone.current)),this.insideAngular=n.run(()=>new ld(Zone.current,Ff)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Y(be))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function l2(t){return hd().ngZone.runOutsideAngular(()=>t())}function to(t){return hd().ngZone.run(()=>t())}function d2(t){return h2(hd())(t)}function h2(t){return function(n){return n=n.lift(new gy(t.ngZone)),n.pipe(Br(t.outsideAngular),jr(t.insideAngular))}}var f2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),to(()=>t.apply(void 0,r))},fd=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=to(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ws,{},ws,ws))),r[o]=f2(r[o],n));let i=l2(()=>t.apply(this,r));if(!e)if(i instanceof re){let o=hd();return i.pipe(Br(o.outsideAngular),jr(o.insideAngular))}else return to(()=>i);return i instanceof re?i.pipe(d2):i instanceof Promise?to(()=>new Promise((o,s)=>i.then(a=>to(()=>o(a)),a=>to(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:to(()=>i)};var no=class{constructor(e){return e}},Ja=class{constructor(){return cd()}};function p2(t){return t&&t.length===1?t[0]:new no(_s())}var vy=new V("angularfire2._apps"),m2={provide:no,useFactory:p2,deps:[[new Gn,vy]]},g2={provide:Ja,deps:[[new Gn,vy]]};function y2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new no(r)}}var v2=(()=>{class t{constructor(n){lt("angularfire",Ya.full,"core"),lt("angularfire",Ya.full,"app"),lt("angular",kD.full,n.toString())}static \u0275fac=function(r){return new(r||t)(Y(Qr))};static \u0275mod=tn({type:t});static \u0275inj=en({providers:[m2,g2]})}return t})();function _C(t,...e){return{ngModule:v2,providers:[{provide:vy,useFactory:y2(t),multi:!0,deps:[be,An,dd,...e]}]}}var wC=fd(my,!0);function LC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var UC=LC,jC=new Mr("auth","Firebase",LC());var _d=new ii("@firebase/auth");function _2(t,...e){_d.logLevel<=ee.WARN&&_d.warn(`Auth (${ai}): ${t}`,...e)}function md(t,...e){_d.logLevel<=ee.ERROR&&_d.error(`Auth (${ai}): ${t}`,...e)}function er(t,...e){throw jy(t,...e)}function ro(t,...e){return jy(t,...e)}function BC(t,e,n){let r=Object.assign(Object.assign({},UC()),{[e]:n});return new Mr("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return BC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jC.create(t,...e)}function L(t,e,...n){if(!t)throw jy(e,...n)}function xr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw md(e),new Error(e)}function li(t,e){t||xr(e)}function Ey(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function w2(){return IC()==="http:"||IC()==="https:"}function IC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function I2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w2()||Jb()||"connection"in navigator)?navigator.onLine:!0}function E2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var io=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=Yb()||Zb()}get(){return I2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function By(t,e){li(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var wd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var D2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var b2=new io(3e4,6e4);function so(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function di(o,s,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return $C(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=za(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),wd.fetch()(HC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function $C(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},D2),e);try{let i=new Dy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw pd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw pd(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw pd(t,"user-disabled",s);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw BC(t,l,u);er(t,l)}}catch(i){if(i instanceof zt)throw i;er(t,"network-request-failed",{message:String(i)})}})}function xd(o,s,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield di(t,e,n,r,i);return"mfaPendingCredential"in u&&er(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function HC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?By(t.config,i):`${t.config.apiScheme}://${i}`}function C2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Dy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ro(this.auth,"network-request-failed")),b2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ro(t,e,r);return i.customData._tokenResponse=n,i}function EC(t){return t!==void 0&&t.enterprise!==void 0}var by=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return C2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function T2(t,e){return f(this,null,function*(){return di(t,"GET","/v2/recaptchaConfig",so(t,e))})}function S2(t,e){return f(this,null,function*(){return di(t,"POST","/v1/accounts:delete",e)})}function qC(t,e){return f(this,null,function*(){return di(t,"POST","/v1/accounts:lookup",e)})}function Za(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $y(t,e=!1){return f(this,null,function*(){let n=Ze(t),r=yield n.getIdToken(e),i=Hy(r);L(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Za(_y(i.auth_time)),issuedAtTime:Za(_y(i.iat)),expirationTime:Za(_y(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function _y(t){return Number(t)*1e3}function Hy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{let i=Jg(n);return i?JSON.parse(i):(md("Failed to decode base64 JWT payload"),null)}catch(i){return md("Caught error parsing JWT payload as JSON",i?.toString()),null}}function DC(t){let e=Hy(t);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ec(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof zt&&A2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function A2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Cy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var tc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Id(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ec(t,qC(n,{idToken:r}));L(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GC(o.providerUserInfo):[],a=M2(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,l=c?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tc(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function qy(t){return f(this,null,function*(){let e=Ze(t);yield Id(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function M2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GC(t){return t.map(e=>{var{providerId:n}=e,r=Lf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function x2(t,e){return f(this,null,function*(){let n=yield $C(t,{},()=>f(this,null,function*(){let r=za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=HC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function R2(t,e){return f(this,null,function*(){return di(t,"POST","/v2/accounts:revokeToken",so(t,e))})}var Xa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){L(e.length!==0,"internal-error");let n=DC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return f(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(L(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield x2(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(L(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(L(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(L(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return xr("not implemented")}};function ci(t,e){L(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Is=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Lf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield ec(this,this.stsTokenManager.getToken(this.auth,e));return L(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return $y(this,e)}reload(){return qy(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Id(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(Zn(this.auth.app))return Promise.reject(ui(this.auth));let e=yield this.getIdToken();return yield ec(this,S2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,ne=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:J,emailVerified:De,isAnonymous:it,providerData:he,stsTokenManager:ft}=n;L(J&&ft,e,"internal-error");let Ln=Xa.fromJSON(this.name,ft);L(typeof J=="string",e,"internal-error"),ci(d,e.name),ci(h,e.name),L(typeof De=="boolean",e,"internal-error"),L(typeof it=="boolean",e,"internal-error"),ci(p,e.name),ci(v,e.name),ci(E,e.name),ci(D,e.name),ci(x,e.name),ci(ne,e.name);let Ii=new t({uid:J,auth:e,email:h,emailVerified:De,displayName:d,isAnonymous:it,photoURL:v,phoneNumber:p,tenantId:E,stsTokenManager:Ln,createdAt:x,lastLoginAt:ne});return he&&Array.isArray(he)&&(Ii.providerData=he.map(No=>Object.assign({},No))),D&&(Ii._redirectEventId=D),Ii}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new Xa;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Id(o),o})}static _fromGetAccountInfoResponse(e,n,r){return f(this,null,function*(){let i=n.users[0];L(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?GC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Xa;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var bC=new Map;function Rr(t){li(t instanceof Function,"Expected a class definition");let e=bC.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bC.set(t,e),e)}var N2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ty=N2;function gd(t,e,n){return`firebase:${t}:${e}:${n}`}var Ed=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=gd(this.userKey,i.apiKey,o),this.fullPersistenceKey=gd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Is._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(Rr(Ty),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Rr(Ty),s=gd(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(s);if(l){let d=Is._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,r))})}};function CC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YC(e))return"Blackberry";if(JC(e))return"Webos";if(Gy(e))return"Safari";if((e.includes("chrome/")||WC(e))&&!e.includes("edge/"))return"Chrome";if(QC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function zC(t=Oe()){return/firefox\//i.test(t)}function Gy(t=Oe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WC(t=Oe()){return/crios\//i.test(t)}function KC(t=Oe()){return/iemobile/i.test(t)}function QC(t=Oe()){return/android/i.test(t)}function YC(t=Oe()){return/blackberry/i.test(t)}function JC(t=Oe()){return/webos/i.test(t)}function Rd(t=Oe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P2(t=Oe()){var e;return Rd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k2(){return Xb()&&document.documentMode===10}function ZC(t=Oe()){return Rd(t)||QC(t)||JC(t)||YC(t)||/windows phone/i.test(t)||KC(t)}function O2(){try{return!!(window&&window!==window.top)}catch{return!1}}function XC(t,e=[]){let n;switch(t){case"Browser":n=CC(Oe());break;case"Worker":n=`${CC(Oe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ai}/${r}`}var Sy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function F2(n){return f(this,arguments,function*(t,e={}){return di(t,"GET","/v2/passwordPolicy",so(t,e))})}var V2=6,Ay=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:V2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var My=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dd(this),this.idTokenSubscription=new Dd(this),this.beforeStateQueue=new Sy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ed.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return f(this,null,function*(){try{let n=yield qC(this,{idToken:e}),r=yield Is._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;if(Zn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield Id(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=E2()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){if(Zn(this.app))return Promise.reject(ui(this));let n=e?Ze(e):null;return n&&L(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return Zn(this.app)?Promise.reject(ui(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Zn(this.app)?Promise.reject(ui(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(Rr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield F2(this),n=new Ay(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield R2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Rr(e)||this._popupRedirectResolver;L(n,this,"argument-error"),this.redirectPersistenceManager=yield Ed.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(L(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&_2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Es(t){return Ze(t)}var Dd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=rC(n=>this.observer=n)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Nd={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L2(t){Nd=t}function eT(t){return Nd.loadJS(t)}function U2(){return Nd.recaptchaEnterpriseScript}function j2(){return Nd.gapiScript}function tT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var B2="recaptcha-enterprise",$2="NO_RECAPTCHA",xy=class{constructor(e){this.type=B2,this.auth=Es(e)}verify(e="verify",n=!1){return f(this,null,function*(){function r(o){return f(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>f(this,null,function*(){T2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new by(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;EC(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s($2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&EC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=U2();c.length!==0&&(c+=a),eT(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function TC(t,e,n,r=!1){return f(this,null,function*(){let i=new xy(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function SC(t,e,n,r){return f(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield TC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>f(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield TC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function zy(t,e){let n=Qa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Zi(o,e??{}))return i;er(i,"already-initialized")}return n.initialize({options:e})}function H2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Wy(t,e,n){let r=Es(t);L(r._canInitEmulator,r,"emulator-config-failed"),L(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=nT(e),{host:s,port:a}=q2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||G2()}function nT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q2(t){let e=nT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:AC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:AC(s)}}}function AC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function G2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var nc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}};function z2(t,e){return f(this,null,function*(){return di(t,"POST","/v1/accounts:signUp",e)})}function W2(t,e){return f(this,null,function*(){return xd(t,"POST","/v1/accounts:signInWithPassword",so(t,e))})}function K2(t,e){return f(this,null,function*(){return xd(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))})}function Q2(t,e){return f(this,null,function*(){return xd(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))})}var rc=class t extends nc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return SC(e,n,"signInWithPassword",W2);case"emailLink":return K2(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}})}_linkToIdToken(e,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return SC(e,r,"signUpPassword",z2);case"emailLink":return Q2(e,{idToken:n,email:this._email,oobCode:this._password});default:er(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function wy(t,e){return f(this,null,function*(){return xd(t,"POST","/v1/accounts:signInWithIdp",so(t,e))})}function Y2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J2(t){let e=ys(vs(t)).link,n=e?ys(vs(e)).deep_link_id:null,r=ys(vs(t)).deep_link_id;return(r?ys(vs(r)).link:null)||r||n||e||t}var bd=class t{constructor(e){var n,r,i,o,s,a;let c=ys(vs(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=Y2((i=c.mode)!==null&&i!==void 0?i:null);L(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=J2(e);try{return new t(n)}catch{return null}}};var rT=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return rc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=bd.parseLink(r);return L(i,"argument-error"),rc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Cd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ry=class extends Cd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ic=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let o=yield Is._fromIdTokenResponse(e,r,i),s=MC(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=MC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function MC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ny=class t extends zt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function iT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ny._fromErrorAndOperation(t,o,e,r):o})}function Z2(t,e,n=!1){return f(this,null,function*(){let r=yield ec(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ic._forOperation(t,"link",r)})}function X2(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t;if(Zn(r.app))return Promise.reject(ui(r));let i="reauthenticate";try{let o=yield ec(t,iT(r,i,e,t),n);L(o.idToken,r,"internal-error");let s=Hy(o.idToken);L(s,r,"internal-error");let{sub:a}=s;return L(t.uid===a,r,"user-mismatch"),ic._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&er(r,"user-mismatch"),o}})}function oT(t,e,n=!1){return f(this,null,function*(){if(Zn(t.app))return Promise.reject(ui(t));let r="signIn",i=yield iT(t,r,e),o=yield ic._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Ky(t,e){return f(this,null,function*(){return oT(Es(t),e)})}function eU(t){return f(this,null,function*(){let e=Es(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Pd(t,e,n){return Zn(t.app)?Promise.reject(ui(t)):Ky(Ze(t),rT.credential(e,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&eU(t),r}))}function Qy(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function Yy(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}var Td="__sak";var Sd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function tU(){let t=Oe();return Gy(t)||Rd(t)}var nU=1e3,rU=10,iU=(()=>{class t extends Sd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=tU()&&O2(),this.fallbackToPolling=ZC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);k2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,rU):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},nU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield Lr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield Lr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield Lr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),sT=iU;var oU=(()=>{class t extends Sd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Jy=oU;function sU(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var aU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,s)})),u=yield sU(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function aT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Py=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=aT("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Xn(){return window}function cU(t){Xn().location.href=t}function cT(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}function uU(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function lU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dU(){return cT()?self:null}var uT="firebaseLocalStorageDb",hU=1,Ad="firebaseLocalStorage",lT="fbase_key",oo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function kd(t,e){return t.transaction([Ad],e?"readwrite":"readonly").objectStore(Ad)}function fU(){let t=indexedDB.deleteDatabase(uT);return new oo(t).toPromise()}function ky(){let t=indexedDB.open(uT,hU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ad,{keyPath:lT})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ad)?e(r):(r.close(),yield fU(),e(yield ky()))}))})}function xC(t,e,n){return f(this,null,function*(){let r=kd(t,!0).put({[lT]:e,value:n});return new oo(r).toPromise()})}function pU(t,e){return f(this,null,function*(){let n=kd(t,!1).get(e),r=yield new oo(n).toPromise();return r===void 0?null:r.value})}function RC(t,e){let n=kd(t,!0).delete(e);return new oo(n).toPromise()}var mU=800,gU=3,yU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield ky(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>gU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return cT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=aU._getInstance(dU()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield uU(),!this.activeServiceWorker)return;this.sender=new Py(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||lU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ky();return yield xC(n,Td,"1"),yield RC(n,Td),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>xC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>pU(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>RC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(o=>{let s=kd(o,!1).getAll();return new oo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),mU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),dT=yU;var D8=tT("rcb"),b8=new io(3e4,6e4);function vU(t,e){return e?Rr(e):(L(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var oc=class extends nc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function _U(t){return oT(t.auth,new oc(t),t.bypassAuthState)}function wU(t){let{auth:e,user:n}=t;return L(n,e,"internal-error"),X2(n,new oc(t),t.bypassAuthState)}function IU(t){return f(this,null,function*(){let{auth:e,user:n}=t;return L(n,e,"internal-error"),Z2(n,new oc(t),t.bypassAuthState)})}var Oy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _U;case"linkViaPopup":case"linkViaRedirect":return IU;case"reauthViaPopup":case"reauthViaRedirect":return wU;default:er(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var C8=new io(2e3,1e4);var EU="pendingRedirect",yd=new Map,Fy=class t extends Oy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=yd.get(this.auth._key());if(!e){try{let r=(yield DU(this.resolver,this.auth))?yield Lr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yd.set(this.auth._key(),e)}return this.bypassAuthState||yd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return Lr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Lr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function DU(t,e){return f(this,null,function*(){let n=TU(e),r=CU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function bU(t,e){yd.set(t._key(),e)}function CU(t){return Rr(t._redirectPersistence)}function TU(t){return gd(EU,t.config.apiKey,t.name)}function SU(t,e,n=!1){return f(this,null,function*(){if(Zn(t.app))return Promise.reject(ui(t));let r=Es(t),i=vU(r,e),s=yield new Fy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var AU=10*60*1e3,Vy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ro(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AU&&this.cachedEventUids.clear(),this.cachedEventUids.has(NC(e))}saveEventToCache(e){this.cachedEventUids.add(NC(e)),this.lastProcessedEventTime=Date.now()}};function NC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function MU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hT(t);default:return!1}}function xU(n){return f(this,arguments,function*(t,e={}){return di(t,"GET","/v1/projects",e)})}var RU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NU=/^https?/;function PU(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield xU(t);for(let n of e)try{if(kU(n))return}catch{}er(t,"unauthorized-domain")})}function kU(t){let e=Ey(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!NU.test(n))return!1;if(RU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var OU=new io(3e4,6e4);function PC(){let t=Xn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FU(t){return new Promise((e,n)=>{var r,i,o;function s(){PC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PC(),n(ro(t,"network-request-failed"))},timeout:OU.get()})}if(!((i=(r=Xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Xn().gapi)===null||o===void 0)&&o.load)s();else{let a=tT("iframefcb");return Xn()[a]=()=>{gapi.load?s():n(ro(t,"network-request-failed"))},eT(`${j2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw vd=null,e})}var vd=null;function VU(t){return vd=vd||FU(t),vd}var LU=new io(5e3,15e3),UU="__/auth/iframe",jU="emulator/auth/iframe",BU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$U=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HU(t){let e=t.config;L(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?By(e,jU):`https://${t.config.authDomain}/${UU}`,r={apiKey:e.apiKey,appName:t.name,v:ai},i=$U.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${za(r).slice(1)}`}function qU(t){return f(this,null,function*(){let e=yield VU(t),n=Xn().gapi;return L(n,t,"internal-error"),e.open({where:document.body,url:HU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BU,dontclear:!0},r=>new Promise((i,o)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ro(t,"network-request-failed"),a=Xn().setTimeout(()=>{o(s)},LU.get());function c(){Xn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var GU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zU=500,WU=600,KU="_blank",QU="http://localhost",Md=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function YU(t,e,n,r=zU,i=WU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},GU),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Oe().toLowerCase();n&&(a=WC(u)?KU:n),zC(u)&&(e=e||QU,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(P2(u)&&a!=="_self")return JU(e||"",a),new Md(null);let d=window.open(e||"",a,l);L(d,t,"popup-blocked");try{d.focus()}catch{}return new Md(d)}function JU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ZU="__/auth/handler",XU="emulator/auth/handler",ej=encodeURIComponent("fac");function kC(t,e,n,r,i,o){return f(this,null,function*(){L(t.config.authDomain,t,"auth-domain-config-required"),L(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ai,eventId:i};if(e instanceof Cd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",nC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof Ry){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${ej}=${encodeURIComponent(c)}`:"";return`${tj(t)}?${za(a).slice(1)}${u}`})}function tj({config:t}){return t.emulator?By(t,XU):`https://${t.authDomain}/${ZU}`}var Iy="webStorageSupport",Ly=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jy,this._completeRedirectFn=SU,this._overrideRedirectResult=bU}_openPopup(e,n,r,i){return f(this,null,function*(){var o;li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield kC(e,n,r,Ey(),i);return YU(e,s,aT())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let o=yield kC(e,n,r,Ey(),i);return cU(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(li(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield qU(e),r=new Vy(e);return n.register("authEvent",i=>(L(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Iy,{type:Iy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Iy];s!==void 0&&n(!!s),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZC()||Gy()||Rd()}},fT=Ly;var OC="@firebase/auth",FC="1.7.1";var Uy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function nj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rj(t){si(new ln("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;L(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XC(t)},u=new My(r,i,o,c);return H2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),si(new ln("auth-internal",e=>{let n=Es(e.getProvider("auth").getImmediate());return(r=>new Uy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lt(OC,FC,nj(t)),lt(OC,FC,"esm2017")}var ij=5*60,oj=ey("authIdTokenMaxAge")||ij,VC=null,sj=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oj)return;let i=n?.token;VC!==i&&(VC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Zy(t=_s()){let e=Qa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=zy(t,{popupRedirectResolver:fT,persistence:[dT,sT,Jy]}),r=ey("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=sj(o.toString());Yy(n,s,()=>s(n.currentUser)),Qy(n,a=>s(a))}}let i=Zg("auth");return i&&Wy(n,`http://${i}`),n}function aj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}L2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=ro("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",aj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rj("Browser");var pT="auth",Rn=class{constructor(e){return e}},Xy=class{constructor(){return yy(pT)}};var ev=new V("angularfire2.auth-instances");function Xj(t,e){let n=vC(pT,t,e);return n&&new Rn(n)}function eB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Rn(r)}}var tB={provide:Xy,deps:[[new Gn,ev]]},nB={provide:Rn,useFactory:Xj,deps:[[new Gn,ev],no]},rB=(()=>{class t{constructor(){lt("angularfire",Ya.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=tn({type:t});static \u0275inj=en({providers:[nB,tB]})}return t})();function mT(t,...e){return{ngModule:rB,providers:[{provide:ev,useFactory:eB(t),multi:!0,deps:[be,An,dd,Ja,[new Gn,ud],...e]}]}}var gT=fd(Zy,!0);var CT=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(M(Wn),M(Nt))},e.\u0275dir=Se({type:e});let t=e;return t})(),uc=(()=>{let e=class e extends CT{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=Se({type:e,features:[bt]});let t=e;return t})(),ao=new V("");var iB={provide:ao,useExisting:jt(()=>dn),multi:!0};function oB(){let t=Sr()?Sr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var sB=new V(""),dn=(()=>{let e=class e extends CT{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!oB())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(M(Wn),M(Nt),M(sB,8))},e.\u0275dir=Se({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&R("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Mn([iB]),bt]});let t=e;return t})();function hi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function TT(t){return t!=null&&typeof t.length=="number"}var lc=new V(""),qd=new V(""),aB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Nn=class{static min(e){return cB(e)}static max(e){return uB(e)}static required(e){return ST(e)}static requiredTrue(e){return lB(e)}static email(e){return dB(e)}static minLength(e){return hB(e)}static maxLength(e){return fB(e)}static pattern(e){return pB(e)}static nullValidator(e){return Fd(e)}static compose(e){return PT(e)}static composeAsync(e){return kT(e)}};function cB(t){return e=>{if(hi(e.value)||hi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function uB(t){return e=>{if(hi(e.value)||hi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function ST(t){return hi(t.value)?{required:!0}:null}function lB(t){return t.value===!0?null:{required:!0}}function dB(t){return hi(t.value)||aB.test(t.value)?null:{email:!0}}function hB(t){return e=>hi(e.value)||!TT(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function fB(t){return e=>TT(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function pB(t){if(!t)return Fd;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(hi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Fd(t){return null}function AT(t){return t!=null}function MT(t){return qi(t)?Re(t):t}function xT(t){let e={};return t.forEach(n=>{e=n!=null?T(T({},e),n):e}),Object.keys(e).length===0?null:e}function RT(t,e){return e.map(n=>n(t))}function mB(t){return!t.validate}function NT(t){return t.map(e=>mB(e)?e:n=>e.validate(n))}function PT(t){if(!t)return null;let e=t.filter(AT);return e.length==0?null:function(n){return xT(RT(n,e))}}function nv(t){return t!=null?PT(NT(t)):null}function kT(t){if(!t)return null;let e=t.filter(AT);return e.length==0?null:function(n){let r=RT(n,e).map(MT);return Bf(r).pipe(X(xT))}}function rv(t){return t!=null?kT(NT(t)):null}function yT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function OT(t){return t._rawValidators}function FT(t){return t._rawAsyncValidators}function tv(t){return t?Array.isArray(t)?t:[t]:[]}function Vd(t,e){return Array.isArray(t)?t.includes(e):t===e}function vT(t,e){let n=tv(e);return tv(t).forEach(i=>{Vd(n,i)||n.push(i)}),n}function _T(t,e){return tv(e).filter(n=>!Vd(t,n))}var Ld=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Nr=class extends Ld{get formDirective(){return null}get path(){return null}},fi=class extends Ld{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ud=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},gB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},CK=fe(T({},gB),{"[class.ng-submitted]":"isSubmitted"}),Pt=(()=>{let e=class e extends Ud{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(M(fi,2))},e.\u0275dir=Se({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&bl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[bt]});let t=e;return t})(),kt=(()=>{let e=class e extends Ud{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(M(Nr,10))},e.\u0275dir=Se({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&bl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[bt]});let t=e;return t})();var sc="VALID",Od="INVALID",Ds="PENDING",ac="DISABLED";function VT(t){return(Gd(t)?t.validators:t)||null}function yB(t){return Array.isArray(t)?nv(t):t||null}function LT(t,e){return(Gd(e)?e.asyncValidators:t)||null}function vB(t){return Array.isArray(t)?rv(t):t||null}function Gd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function _B(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new N(1e3,"");if(!r[n])throw new N(1001,"")}function wB(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new N(1002,"")})}var jd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sc}get invalid(){return this.status===Od}get pending(){return this.status==Ds}get disabled(){return this.status===ac}get enabled(){return this.status!==ac}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_T(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_T(e,this._rawAsyncValidators))}hasValidator(e){return Vd(this._rawValidators,e)}hasAsyncValidator(e){return Vd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ds,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ac,this.errors=null,this._forEachChild(r=>{r.disable(fe(T({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=sc,this._forEachChild(r=>{r.enable(fe(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sc||this.status===Ds)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ac:sc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ds,this._hasOwnPendingAsyncValidator=!0;let n=MT(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?ac:this.errors?Od:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ds)?Ds:this._anyControlsHaveStatus(Od)?Od:sc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=yB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=vB(this._rawAsyncValidators)}},et=class extends jd{constructor(e,n,r){super(VT(n),LT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){wB(this,!0,e),Object.keys(e).forEach(r=>{_B(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var bs=new V("CallSetDisabledState",{providedIn:"root",factory:()=>dc}),dc="always";function UT(t,e){return[...e.path,t]}function Bd(t,e,n=dc){iv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),EB(t,e),bB(t,e),DB(t,e),IB(t,e)}function wT(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Hd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function $d(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function IB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function iv(t,e){let n=OT(t);e.validator!==null?t.setValidators(yT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=FT(t);e.asyncValidator!==null?t.setAsyncValidators(yT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();$d(e._rawValidators,i),$d(e._rawAsyncValidators,i)}function Hd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=OT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=FT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return $d(e._rawValidators,r),$d(e._rawAsyncValidators,r),n}function EB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&jT(t,e)})}function DB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&jT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function jT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function BT(t,e){t==null,iv(t,e)}function CB(t,e){return Hd(t,e)}function $T(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function TB(t){return Object.getPrototypeOf(t.constructor)===uc}function HT(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function qT(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===dn?n=o:TB(o)?r=o:i=o}),i||r||n||null}function SB(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var AB={provide:Nr,useExisting:jt(()=>ov)},cc=Promise.resolve(),ov=(()=>{let e=class e extends Nr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ye,this.form=new et({},nv(r),rv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){cc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Bd(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){cc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){cc.then(()=>{let i=this._findContainer(r.path),o=new et({});BT(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){cc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){cc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,HT(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(M(lc,10),M(qd,10),M(bs,8))},e.\u0275dir=Se({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&R("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[$e.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mn([AB]),bt]});let t=e;return t})();function IT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ET(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var me=class extends jd{constructor(e=null,n,r){super(VT(n),LT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ET(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ET(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var MB=t=>t instanceof me;var xB={provide:fi,useExisting:jt(()=>sv)},DT=Promise.resolve(),sv=(()=>{let e=class e extends fi{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new me,this._registered=!1,this.name="",this.update=new Ye,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=qT(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),$T(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Bd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){DT.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Jr(i);DT.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?UT(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(M(Nr,9),M(lc,10),M(qd,10),M(ao,10),M(Gi,8),M(bs,8))},e.\u0275dir=Se({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[$e.None,"disabled","isDisabled"],model:[$e.None,"ngModel","model"],options:[$e.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Mn([xB]),bt,nn]});let t=e;return t})(),Ot=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Se({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),RB={provide:ao,useExisting:jt(()=>av),multi:!0},av=(()=>{let e=class e extends uc{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=Se({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&R("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Mn([RB]),bt]});let t=e;return t})(),NB={provide:ao,useExisting:jt(()=>cv),multi:!0};var PB=(()=>{let e=class e{constructor(){this._accessors=[]}add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r){this._accessors.splice(i,1);return}}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return r[0].control?r[0]._parent===i._control._parent&&r[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cv=(()=>{let e=class e extends uc{constructor(r,i,o,s){super(r,i),this._registry=o,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=w(bs,{optional:!0})??dc}ngOnInit(){this._control=this._injector.get(fi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}setDisabledState(r){(this.setDisabledStateFired||r||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",r),this.setDisabledStateFired=!0}fireUncheck(r){this.writeValue(r)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)(M(Wn),M(Nt),M(PB),M(An))},e.\u0275dir=Se({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&R("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Mn([NB]),bt]});let t=e;return t})();var GT=new V("");var kB={provide:Nr,useExisting:jt(()=>Wt)},Wt=(()=>{let e=class e extends Nr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Bd(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){wT(r.control||null,r,!1),SB(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,HT(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(wT(i||null,r),MB(o)&&(Bd(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);BT(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&CB(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){iv(this.form,this),this._oldForm&&Hd(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(M(lc,10),M(qd,10),M(bs,8))},e.\u0275dir=Se({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&R("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[$e.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mn([kB]),bt,nn]});let t=e;return t})();var OB={provide:fi,useExisting:jt(()=>Kt)},Kt=(()=>{let e=class e extends fi{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ye,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=qT(this,s)}ngOnChanges(r){this._added||this._setUpControl(),$T(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return UT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(M(Nr,13),M(lc,10),M(qd,10),M(ao,10),M(GT,8))},e.\u0275dir=Se({type:e,selectors:[["","formControlName",""]],inputs:{name:[$e.None,"formControlName","name"],isDisabled:[$e.None,"disabled","isDisabled"],model:[$e.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Mn([OB]),bt,nn]});let t=e;return t})(),FB={provide:ao,useExisting:jt(()=>pi),multi:!0};function zT(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function VB(t){return t.split(":")[0]}var pi=(()=>{let e=class e extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=zT(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=VB(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=Se({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&R("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mn([FB]),bt]});let t=e;return t})(),Cs=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(zT(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(M(Nt),M(Wn),M(pi,9))},e.\u0275dir=Se({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),LB={provide:ao,useExisting:jt(()=>WT),multi:!0};function bT(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function UB(t){return t.split(":")[0]}var WT=(()=>{let e=class e extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let u=a[c],l=this._getOptionValue(u.value);o.push(l)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let l=this._getOptionValue(u.value);o.push(l)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=UB(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=Se({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&R("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mn([LB]),bt]});let t=e;return t})(),Ts=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(bT(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(bT(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(M(Nt),M(Wn),M(WT,9))},e.\u0275dir=Se({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var jB=(()=>{let e=class e{constructor(){this._validator=Fd}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Fd,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Se({type:e,features:[nn]});let t=e;return t})();var BB={provide:lc,useExisting:jt(()=>uv),multi:!0};var uv=(()=>{let e=class e extends jB{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Jr,this.createValidator=r=>ST}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dr(e)))(o||e)}})(),e.\u0275dir=Se({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Da("required",o._enabled?"":null)},inputs:{required:"required"},features:[Mn([BB]),bt]});let t=e;return t})();var KT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({});let t=e;return t})();var QT=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:bs,useValue:r.callSetDisabledState??dc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({imports:[KT]});let t=e;return t})(),hn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:GT,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:bs,useValue:r.callSetDisabledState??dc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({imports:[KT]});let t=e;return t})();var YT=(()=>{let e=class e{constructor(){this.loginForm=new et({email:new me("",Nn.required),password:new me("",Nn.required)}),this.firebaseAuth=w(Rn),this.router=w(Je)}onSubmit(){console.log(this.loginForm.value);let r=this.loginForm.getRawValue();this.login(r.email,r.password).subscribe({next:()=>{this.router.navigateByUrl("/")},error:i=>{console.log(i),alert("Incorrect Email or Password!")}})}login(r,i){let o=Pd(this.firebaseAuth,r,i).then(()=>{});return Re(o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-login"]],standalone:!0,features:[we],decls:17,vars:1,consts:[[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-md-6"],[1,"border","p-4",3,"ngSubmit","formGroup"],[1,"text-center","mb-4"],[1,"mb-3"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["id","password","type","password","formControlName","password","required","",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),R("ngSubmit",function(){return o.onSubmit()}),m(4,"h2",4),y(5,"Login"),g(),m(6,"div",5)(7,"label",6),y(8,"Email"),g(),O(9,"input",7),g(),m(10,"div",5)(11,"label",8),y(12,"Password"),g(),O(13,"input",9),g(),m(14,"div",10)(15,"button",11),y(16,"Submit"),g()()()()()()),i&2&&(A(3),$("formGroup",o.loginForm))},dependencies:[hn,Ot,dn,Pt,kt,uv,Wt,Kt]});let t=e;return t})();var $B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kn={},b,Rv=Rv||{},j=$B||self;function oh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function HB(t){return Object.prototype.hasOwnProperty.call(t,lv)&&t[lv]||(t[lv]=++qB)}var lv="closure_uid_"+(1e9*Math.random()>>>0),qB=0;function GB(t,e,n){return t.call.apply(t.bind,arguments)}function zB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function gt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt=GB:gt=zB,gt.apply(null,arguments)}function zd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function mi(){this.s=this.s,this.o=this.o}var WB=0;mi.prototype.s=!1;mi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),WB!=0)&&HB(this)};mi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var uS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Nv(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function JT(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(oh(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var KB=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};j.addEventListener("test",n,e),j.removeEventListener("test",n,e)}catch{}return t}();function yc(t){return/^[\s\xa0]*$/.test(t)}function sh(){var t=j.navigator;return t&&(t=t.userAgent)?t:""}function tr(t){return sh().indexOf(t)!=-1}function Pv(t){return Pv[" "](t),t}Pv[" "]=function(){};function QB(t,e){var n=V$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var YB=tr("Opera"),xs=tr("Trident")||tr("MSIE"),lS=tr("Edge"),mv=lS||xs,dS=tr("Gecko")&&!(sh().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge"))&&!(tr("Trident")||tr("MSIE"))&&!tr("Edge"),JB=sh().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge");function hS(){var t=j.document;return t?t.documentMode:void 0}var gv;e:{if(Wd="",Kd=function(){var t=sh();if(dS)return/rv:([^\);]+)(\)|;)/.exec(t);if(lS)return/Edge\/([\d\.]+)/.exec(t);if(xs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(JB)return/WebKit\/(\S+)/.exec(t);if(YB)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Kd&&(Wd=Kd?Kd[1]:""),xs&&(Qd=hS(),Qd!=null&&Qd>parseFloat(Wd))){gv=String(Qd);break e}gv=Wd}var Wd,Kd,Qd,yv;j.document&&xs?(dv=hS(),yv=dv||parseInt(gv,10)||void 0):yv=void 0;var dv,ZB=yv;function vc(t,e){if(yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dS){e:{try{Pv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:XB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vc.$.h.call(this)}}nt(vc,yt);var XB={2:"touch",3:"pen",4:"mouse"};vc.prototype.h=function(){vc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tc="closure_listenable_"+(1e6*Math.random()|0),e$=0;function t$(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++e$,this.fa=this.ia=!1}function ah(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function kv(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function n$(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function fS(t){let e={};for(let n in t)e[n]=t[n];return e}var ZT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<ZT.length;o++)n=ZT[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ch(t){this.src=t,this.g={},this.h=0}ch.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=_v(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new t$(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function vv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=uS(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(ah(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _v(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Ov="closure_lm_"+(1e6*Math.random()|0),hv={};function mS(t,e,n,r,i){if(r&&r.once)return yS(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)mS(t,e[o],n,r,i);return null}return n=Lv(n),t&&t[Tc]?t.O(e,n,Cc(r)?!!r.capture:!!r,i):gS(t,e,n,!1,r,i)}function gS(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Cc(i)?!!i.capture:!!i,a=Vv(t);if(a||(t[Ov]=a=new ch(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=r$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)KB||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_S(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function r$(){function t(n){return e.call(t.src,t.listener,n)}let e=i$;return t}function yS(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)yS(t,e[o],n,r,i);return null}return n=Lv(n),t&&t[Tc]?t.P(e,n,Cc(r)?!!r.capture:!!r,i):gS(t,e,n,!0,r,i)}function vS(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)vS(t,e[o],n,r,i);else r=Cc(r)?!!r.capture:!!r,n=Lv(n),t&&t[Tc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=_v(o,n,r,i),-1<n&&(ah(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Vv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_v(e,n,r,i)),(n=-1<t?e[t]:null)&&Fv(n))}function Fv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Tc])vv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_S(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vv(e))?(vv(n,t),n.h==0&&(n.src=null,e[Ov]=null)):ah(t)}}}function _S(t){return t in hv?hv[t]:hv[t]="on"+t}function i$(t,e){if(t.fa)t=!0;else{e=new vc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Fv(t),t=n.call(r,e)}return t}function Vv(t){return t=t[Ov],t instanceof ch?t:null}var fv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lv(t){return typeof t=="function"?t:(t[fv]||(t[fv]=function(e){return t.handleEvent(e)}),t[fv])}function tt(){mi.call(this),this.i=new ch(this),this.S=this,this.J=null}nt(tt,mi);tt.prototype[Tc]=!0;tt.prototype.removeEventListener=function(t,e,n,r){vS(this,t,e,n,r)};function ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new yt(e,t);else if(e instanceof yt)e.target=e.target||t;else{var i=e;e=new yt(r,t),pS(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Yd(s,r,!0,e)&&i}if(s=e.g=t,i=Yd(s,r,!0,e)&&i,i=Yd(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Yd(s,r,!1,e)&&i}tt.prototype.N=function(){if(tt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ah(n[r]);delete t.g[e],t.h--}}this.J=null};tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};tt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Yd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&vv(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Uv=j.JSON.stringify,wv=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function o$(){var t=jv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Iv=class{constructor(){this.h=this.g=null}add(e,n){let r=wS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},wS=new wv(()=>new Ev,t=>t.reset()),Ev=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function s$(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function a$(t){j.setTimeout(()=>{throw t},0)}var _c,wc=!1,jv=new Iv,IS=()=>{let t=j.Promise.resolve(void 0);_c=()=>{t.then(c$)}},c$=()=>{for(var t;t=o$();){try{t.h.call(t.g)}catch(n){a$(n)}var e=wS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}wc=!1};function uh(t,e){tt.call(this),this.h=t||1,this.g=e||j,this.j=gt(this.qb,this),this.l=Date.now()}nt(uh,tt);b=uh.prototype;b.ga=!1;b.T=null;b.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ht(this,"tick"),this.ga&&(Bv(this),this.start()))}};b.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}b.N=function(){uh.$.N.call(this),Bv(this),delete this.g};function $v(t,e,n){if(typeof t=="function")n&&(t=gt(t,n));else if(t&&typeof t.handleEvent=="function")t=gt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:j.setTimeout(t,e||0)}function ES(t){t.g=$v(()=>{t.g=null,t.i&&(t.i=!1,ES(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Dv=class extends mi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ES(this)}N(){super.N(),this.g&&(j.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ic(t){mi.call(this),this.h=t,this.g={}}nt(Ic,mi);var XT=[];function DS(t,e,n,r){Array.isArray(n)||(n&&(XT[0]=n.toString()),n=XT);for(var i=0;i<n.length;i++){var o=mS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function bS(t){kv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fv(e)},t),t.g={}}Ic.prototype.N=function(){Ic.$.N.call(this),bS(this)};Ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lh(){this.g=!0}lh.prototype.Ea=function(){this.g=!1};function u$(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+u+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function l$(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function As(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+h$(t,n)+(r?" "+r:"")})}function d$(t,e){t.info(function(){return"TIMEOUT: "+e})}lh.prototype.info=function(){};function h$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Uv(n)}catch{return e}}var fo={},eS=null;function dh(){return eS=eS||new tt}fo.Ta="serverreachability";function CS(t){yt.call(this,fo.Ta,t)}nt(CS,yt);function Ec(t){let e=dh();ht(e,new CS(e))}fo.STAT_EVENT="statevent";function TS(t,e){yt.call(this,fo.STAT_EVENT,t),this.stat=e}nt(TS,yt);function St(t){let e=dh();ht(e,new TS(e,t))}fo.Ua="timingevent";function SS(t,e){yt.call(this,fo.Ua,t),this.size=e}nt(SS,yt);function Sc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return j.setTimeout(function(){t()},e)}var hh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hv(){}Hv.prototype.h=null;function tS(t){return t.h||(t.h=t.i())}function MS(){}var Ac={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qv(){yt.call(this,"d")}nt(qv,yt);function Gv(){yt.call(this,"c")}nt(Gv,yt);var bv;function fh(){}nt(fh,Hv);fh.prototype.g=function(){return new XMLHttpRequest};fh.prototype.i=function(){return{}};bv=new fh;function Mc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ic(this),this.P=f$,t=mv?125:void 0,this.V=new uh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xS}function xS(){this.i=null,this.g="",this.h=!1}var f$=45e3,RS={},Cv={};b=Mc.prototype;b.setTimeout=function(t){this.P=t};function Tv(t,e,n){t.L=1,t.A=mh(kr(e)),t.u=n,t.S=!0,NS(t,null)}function NS(t,e){t.G=Date.now(),xc(t),t.B=kr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),jS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new xS,t.g=aA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Dv(gt(t.Pa,t,t.g),t.O)),DS(t.U,t.g,"readystatechange",t.nb),e=t.I?fS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ec(),u$(t.j,t.v,t.B,t.m,t.W,t.u)}b.nb=function(t){t=t.target;let e=this.M;e&&nr(t)==3?e.l():this.Pa(t)};b.Pa=function(t){try{if(t==this.g)e:{let l=nr(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||mv||this.g&&(this.h.h||this.g.ja()||oS(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Ec(3):Ec(2)),ph(this);var n=this.g.da();this.ca=n;t:if(PS(this)){var r=oS(this.g);t="";var i=r.length,o=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){uo(this),gc(this);var s="";break t}this.h.i=new j.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,l$(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yc(a)){var u=a;break t}}u=null}if(n=u)As(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sv(this,n);else{this.i=!1,this.s=3,St(12),uo(this),gc(this);break e}}this.S?(kS(this,l,s),mv&&this.i&&l==3&&(DS(this.U,this.V,"tick",this.mb),this.V.start())):(As(this.j,this.m,s,null),Sv(this,s)),l==4&&uo(this),this.i&&!this.J&&(l==4?rA(this.l,this):(this.i=!1,xc(this)))}else k$(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),uo(this),gc(this)}}}catch{}finally{}};function PS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function kS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=p$(t,n),i==Cv){e==4&&(t.s=4,St(14),r=!1),As(t.j,t.m,null,"[Incomplete Response]");break}else if(i==RS){t.s=4,St(15),As(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else As(t.j,t.m,i,null),Sv(t,i);PS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,St(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jv(e),e.M=!0,St(11))):(As(t.j,t.m,n,"[Invalid Chunked Response]"),uo(t),gc(t))}b.mb=function(){if(this.g){var t=nr(this.g),e=this.g.ja();this.o<e.length&&(ph(this),kS(this,t,e),this.i&&t!=4&&xc(this))}};function p$(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Cv:(n=Number(e.substring(n,r)),isNaN(n)?RS:(r+=1,r+n>e.length?Cv:(e=e.slice(r,r+n),t.o=r+n,e)))}b.cancel=function(){this.J=!0,uo(this)};function xc(t){t.Y=Date.now()+t.P,OS(t,t.P)}function OS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Sc(gt(t.lb,t),e)}function ph(t){t.C&&(j.clearTimeout(t.C),t.C=null)}b.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(d$(this.j,this.B),this.L!=2&&(Ec(),St(17)),uo(this),this.s=2,gc(this)):OS(this,this.Y-t)};function gc(t){t.l.H==0||t.J||rA(t.l,t)}function uo(t){ph(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Bv(t.V),bS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Av(n.i,t))){if(!t.K&&Av(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)th(n),vh(n);else break e;Yv(n),St(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sc(gt(n.ib,n),6e3));if(1>=HS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else lo(n,11)}else if((t.K||n.g==t)&&th(n),!yc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(zv(o,o.h),o.h=null))}if(r.F){let E=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,xe(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=sA(r,r.J?r.pa:null,r.Y),s.K){qS(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(ph(a),xc(a)),r.g=s}else tA(r);0<n.j.length&&_h(n)}else u[0]!="stop"&&u[0]!="close"||lo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?lo(n,7):Qv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ec(4)}catch{}}function m$(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(oh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function g$(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(oh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function FS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(oh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=g$(t),r=m$(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var VS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function y$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ho(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ho){this.h=t.h,Xd(this,t.j),this.s=t.s,this.g=t.g,eh(this,t.m),this.l=t.l;var e=t.i,n=new Dc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),nS(this,n),this.o=t.o}else t&&(e=String(t).match(VS))?(this.h=!1,Xd(this,e[1]||"",!0),this.s=pc(e[2]||""),this.g=pc(e[3]||"",!0),eh(this,e[4]),this.l=pc(e[5]||"",!0),nS(this,e[6]||"",!0),this.o=pc(e[7]||"")):(this.h=!1,this.i=new Dc(null,this.h))}ho.prototype.toString=function(){var t=[],e=this.j;e&&t.push(mc(e,rS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(mc(e,rS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(mc(n,n.charAt(0)=="/"?w$:_$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",mc(n,E$)),t.join("")};function kr(t){return new ho(t)}function Xd(t,e,n){t.j=n?pc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function eh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nS(t,e,n){e instanceof Dc?(t.i=e,D$(t.i,t.h)):(n||(e=mc(e,I$)),t.i=new Dc(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function mh(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function mc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,v$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function v$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var rS=/[#\/\?@]/g,_$=/[#\?:]/g,w$=/[#\?]/g,I$=/[#\?@]/g,E$=/#/g;function Dc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function gi(t){t.g||(t.g=new Map,t.h=0,t.i&&y$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}b=Dc.prototype;b.add=function(t,e){gi(this),this.i=null,t=Rs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function LS(t,e){gi(t),e=Rs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function US(t,e){return gi(t),e=Rs(t,e),t.g.has(e)}b.forEach=function(t,e){gi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};b.ta=function(){gi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};b.Z=function(t){gi(this);let e=[];if(typeof t=="string")US(this,t)&&(e=e.concat(this.g.get(Rs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};b.set=function(t,e){return gi(this),this.i=null,t=Rs(this,t),US(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};b.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function jS(t,e,n){LS(t,e),0<n.length&&(t.i=null,t.g.set(Rs(t,e),Nv(n)),t.h+=n.length)}b.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Rs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function D$(t,e){e&&!t.j&&(gi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(LS(this,r),jS(this,i,n))},t)),t.j=e}var b$=class{constructor(t,e){this.g=t,this.map=e}};function BS(t){this.l=t||C$,j.PerformanceNavigationTiming?(t=j.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(j.g&&j.g.Ka&&j.g.Ka()&&j.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var C$=10;function $S(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function HS(t){return t.h?1:t.g?t.g.size:0}function Av(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function zv(t,e){t.g?t.g.add(e):t.h=e}function qS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}BS.prototype.cancel=function(){if(this.i=GS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function GS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Nv(t.i)}var T$=class{stringify(t){return j.JSON.stringify(t,void 0)}parse(t){return j.JSON.parse(t,void 0)}};function S$(){this.g=new T$}function A$(t,e,n){let r=n||"";try{FS(t,function(i,o){let s=i;Cc(i)&&(s=Uv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function M$(t,e){let n=new lh;if(j.Image){let r=new Image;r.onload=zd(Jd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zd(Jd,n,r,"TestLoadImage: error",!1,e),r.onabort=zd(Jd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zd(Jd,n,r,"TestLoadImage: timeout",!1,e),j.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Jd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Rc(t){this.l=t.ec||null,this.j=t.ob||!1}nt(Rc,Hv);Rc.prototype.g=function(){return new gh(this.l,this.j)};Rc.prototype.i=function(t){return function(){return t}}({});function gh(t,e){tt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Wv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nt(gh,tt);var Wv=0;b=gh.prototype;b.open=function(t,e){if(this.readyState!=Wv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bc(this)};b.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||j).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};b.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nc(this)),this.readyState=Wv};b.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bc(this)),this.g&&(this.readyState=3,bc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof j.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function zS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}b.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nc(this):bc(this),this.readyState==3&&zS(this)}};b.Za=function(t){this.g&&(this.response=this.responseText=t,Nc(this))};b.Ya=function(t){this.g&&(this.response=t,Nc(this))};b.ka=function(){this.g&&Nc(this)};function Nc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bc(t)}b.setRequestHeader=function(t,e){this.v.append(t,e)};b.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};b.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function bc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var x$=j.JSON.parse;function Fe(t){tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=WS,this.L=this.M=!1}nt(Fe,tt);var WS="",R$=/^https?$/i,N$=["POST","PUT"];b=Fe.prototype;b.Oa=function(t){this.M=t};b.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bv.g(),this.C=this.u?tS(this.u):tS(bv),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){iS(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=j.FormData&&t instanceof j.FormData,!(0<=uS(N$,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{YS(this),0<this.B&&((this.L=P$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=$v(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){iS(this,o)}};function P$(t){return xs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}b.ua=function(){typeof Rv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ht(this,"timeout"),this.abort(8))};function iS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KS(t),yh(t)}function KS(t){t.F||(t.F=!0,ht(t,"complete"),ht(t,"error"))}b.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ht(this,"complete"),ht(this,"abort"),yh(this))};b.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yh(this,!0)),Fe.$.N.call(this)};b.La=function(){this.s||(this.G||this.v||this.l?QS(this):this.kb())};b.kb=function(){QS(this)};function QS(t){if(t.h&&typeof Rv<"u"&&(!t.C[1]||nr(t)!=4||t.da()!=2)){if(t.v&&nr(t)==4)$v(t.La,0,t);else if(ht(t,"readystatechange"),nr(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(VS)[1]||null;!i&&j.self&&j.self.location&&(i=j.self.location.protocol.slice(0,-1)),r=!R$.test(i?i.toLowerCase():"")}n=r}if(n)ht(t,"complete"),ht(t,"success");else{t.m=6;try{var o=2<nr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",KS(t)}}finally{yh(t)}}}}function yh(t,e){if(t.g){YS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function YS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(j.clearTimeout(t.A),t.A=null)}b.isActive=function(){return!!this.g};function nr(t){return t.g?t.g.readyState:0}b.da=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}};b.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};b.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),x$(e)}};function oS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case WS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function k$(t){let e={};t=(t.g&&2<=nr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(yc(t[r]))continue;var n=s$(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}n$(e,function(r){return r.join(", ")})}b.Ia=function(){return this.m};b.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function JS(t){let e="";return kv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Kv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=JS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function hc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ZS(t){this.Ga=0,this.j=[],this.l=new lh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hc("baseRetryDelayMs",5e3,t),this.hb=hc("retryDelaySeedMs",1e4,t),this.eb=hc("forwardChannelMaxRetries",2,t),this.xa=hc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new BS(t&&t.concurrentRequestLimit),this.Ja=new S$,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}b=ZS.prototype;b.ra=8;b.H=1;function Qv(t){if(XS(t),t.H==3){var e=t.W++,n=kr(t.I);if(xe(n,"SID",t.K),xe(n,"RID",e),xe(n,"TYPE","terminate"),Pc(t,n),e=new Mc(t,t.l,e),e.L=2,e.A=mh(kr(n)),n=!1,j.navigator&&j.navigator.sendBeacon)try{n=j.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&j.Image&&(new Image().src=e.A,n=!0),n||(e.g=aA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),xc(e)}oA(t)}function vh(t){t.g&&(Jv(t),t.g.cancel(),t.g=null)}function XS(t){vh(t),t.u&&(j.clearTimeout(t.u),t.u=null),th(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&j.clearTimeout(t.m),t.m=null)}function _h(t){if(!$S(t.i)&&!t.m){t.m=!0;var e=t.Na;_c||IS(),wc||(_c(),wc=!0),jv.add(e,t),t.C=0}}function O$(t,e){return HS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sc(gt(t.Na,t,e),iA(t,t.C)),t.C++,!0)}b.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Mc(this,this.l,t),o=this.s;if(this.U&&(o?(o=fS(o),pS(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=eA(this,i,e),n=kr(this.I),xe(n,"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),Pc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(JS(o)))+"&"+e:this.o&&Kv(n,this.o,o)),zv(this.i,i),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),i.aa=!0,Tv(i,n,null)):Tv(i,n,e),this.H=2}}else this.H==3&&(t?sS(this,t):this.j.length==0||$S(this.i)||sS(this))};function sS(t,e){var n;e?n=e.m:n=t.W++;let r=kr(t.I);xe(r,"SID",t.K),xe(r,"RID",n),xe(r,"AID",t.V),Pc(t,r),t.o&&t.s&&Kv(r,t.o,t.s),n=new Mc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=eA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zv(t.i,n),Tv(n,r,e)}function Pc(t,e){t.na&&kv(t.na,function(n,r){xe(e,r,n)}),t.h&&FS({},function(n,r){xe(e,r,n)})}function eA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?gt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{A$(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function tA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;_c||IS(),wc||(_c(),wc=!0),jv.add(e,t),t.A=0}}function Yv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sc(gt(t.Ma,t),iA(t,t.A)),t.A++,!0)}b.Ma=function(){if(this.u=null,nA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sc(gt(this.jb,this),t)}};b.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,St(10),vh(this),nA(this))};function Jv(t){t.B!=null&&(j.clearTimeout(t.B),t.B=null)}function nA(t){t.g=new Mc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=kr(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.K),xe(e,"AID",t.V),xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xe(e,"TO",t.qa),xe(e,"TYPE","xmlhttp"),Pc(t,e),t.o&&t.s&&Kv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=mh(kr(e)),n.u=null,n.S=!0,NS(n,t)}b.ib=function(){this.v!=null&&(this.v=null,vh(this),Yv(this),St(19))};function th(t){t.v!=null&&(j.clearTimeout(t.v),t.v=null)}function rA(t,e){var n=null;if(t.g==e){th(t),Jv(t),t.g=null;var r=2}else if(Av(t.i,e))n=e.F,qS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=dh(),ht(r,new SS(r,n)),_h(t)}else tA(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&O$(t,e)||r==2&&Yv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:lo(t,5);break;case 4:lo(t,10);break;case 3:lo(t,6);break;default:lo(t,2)}}}function iA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function lo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=gt(t.pb,t);n||(n=new ho("//www.google.com/images/cleardot.gif"),j.location&&j.location.protocol=="http"||Xd(n,"https"),mh(n)),M$(n.toString(),r)}else St(2);t.H=0,t.h&&t.h.za(e),oA(t),XS(t)}b.pb=function(t){t?(this.l.info("Successfully pinged google.com"),St(2)):(this.l.info("Failed to ping google.com"),St(1))};function oA(t){if(t.H=0,t.ma=[],t.h){let e=GS(t.i);(e.length!=0||t.j.length!=0)&&(JT(t.ma,e),JT(t.ma,t.j),t.i.i.length=0,Nv(t.j),t.j.length=0),t.h.ya()}}function sA(t,e,n){var r=n instanceof ho?kr(n):new ho(n);if(r.g!="")e&&(r.g=e+"."+r.g),eh(r,r.m);else{var i=j.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ho(null);r&&Xd(o,r),e&&(o.g=e),i&&eh(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&xe(r,n,e),xe(r,"VER",t.ra),Pc(t,r),r}function aA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Fe(new Rc({ob:n})):new Fe(t.va),e.Oa(t.J),e}b.isActive=function(){return!!this.h&&this.h.isActive(this)};function cA(){}b=cA.prototype;b.Ba=function(){};b.Aa=function(){};b.za=function(){};b.ya=function(){};b.isActive=function(){return!0};b.Va=function(){};function nh(){if(xs&&!(10<=Number(ZB)))throw Error("Environmental error: no available transport.")}nh.prototype.g=function(t,e){return new Qt(t,e)};function Qt(t,e){tt.call(this),this.g=new ZS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!yc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ns(this)}nt(Qt,tt);Qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;St(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=sA(t,null,t.Y),_h(t)};Qt.prototype.close=function(){Qv(this.g)};Qt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Uv(t),t=n);e.j.push(new b$(e.fb++,t)),e.H==3&&_h(e)};Qt.prototype.N=function(){this.g.h=null,delete this.j,Qv(this.g),delete this.g,Qt.$.N.call(this)};function uA(t){qv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}nt(uA,qv);function lA(){Gv.call(this),this.status=1}nt(lA,Gv);function Ns(t){this.g=t}nt(Ns,cA);Ns.prototype.Ba=function(){ht(this.g,"a")};Ns.prototype.Aa=function(t){ht(this.g,new uA(t))};Ns.prototype.za=function(t){ht(this.g,new lA)};Ns.prototype.ya=function(){ht(this.g,"b")};function F$(){this.blockSize=-1}function Pn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}nt(Pn,F$);Pn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function pv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Pn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)pv(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){pv(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){pv(this,r),i=0;break}}this.h=i,this.i+=e};Pn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var V$={};function Zv(t){return-128<=t&&128>t?QB(t,function(e){return new ye([e|0],0>e?-1:0)}):new ye([t|0],0>t?-1:0)}function rr(t){if(isNaN(t)||!isFinite(t))return Ms;if(0>t)return dt(rr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Mv;return new ye(e,0)}function dA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dt(dA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=rr(Math.pow(e,8)),r=Ms,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=rr(Math.pow(e,o)),r=r.R(o).add(rr(s))):(r=r.R(n),r=r.add(rr(s)))}return r}var Mv=4294967296,Ms=Zv(0),xv=Zv(1),aS=Zv(16777216);b=ye.prototype;b.ea=function(){if(fn(this))return-dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Mv+r)*e,e*=Mv}return t};b.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Pr(this))return"0";if(fn(this))return"-"+dt(this).toString(t);for(var e=rr(Math.pow(t,6)),n=this,r="";;){var i=ih(n,e).g;n=rh(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Pr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};b.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Pr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function fn(t){return t.h==-1}b.X=function(t){return t=rh(this,t),fn(t)?-1:Pr(t)?0:1};function dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ye(n,~t.h).add(xv)}b.abs=function(){return fn(this)?dt(this):this};b.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ye(n,n[n.length-1]&-2147483648?-1:0)};function rh(t,e){return t.add(dt(e))}b.R=function(t){if(Pr(this)||Pr(t))return Ms;if(fn(this))return fn(t)?dt(this).R(dt(t)):dt(dt(this).R(t));if(fn(t))return dt(this.R(dt(t)));if(0>this.X(aS)&&0>t.X(aS))return rr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Zd(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Zd(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Zd(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Zd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ye(n,0)};function Zd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function fc(t,e){this.g=t,this.h=e}function ih(t,e){if(Pr(e))throw Error("division by zero");if(Pr(t))return new fc(Ms,Ms);if(fn(t))return e=ih(dt(t),e),new fc(dt(e.g),dt(e.h));if(fn(e))return e=ih(t,dt(e)),new fc(dt(e.g),e.h);if(30<t.g.length){if(fn(t)||fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=xv,r=e;0>=r.X(t);)n=cS(n),r=cS(r);var i=Ss(n,1),o=Ss(r,1);for(r=Ss(r,2),n=Ss(n,2);!Pr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ss(r,1),n=Ss(n,1)}return e=rh(t,i.R(e)),new fc(i,e)}for(i=Ms;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=rr(n),s=o.R(e);fn(s)||0<s.X(t);)n-=r,o=rr(n),s=o.R(e);Pr(o)&&(o=xv),i=i.add(o),t=rh(t,s)}return new fc(i,t)}b.gb=function(t){return ih(this,t).h};b.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ye(n,this.h&t.h)};b.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ye(n,this.h|t.h)};b.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ye(n,this.h^t.h)};function cS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ye(n,t.h)}function Ss(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ye(i,t.h)}nh.prototype.createWebChannel=nh.prototype.g;Qt.prototype.send=Qt.prototype.u;Qt.prototype.open=Qt.prototype.m;Qt.prototype.close=Qt.prototype.close;hh.NO_ERROR=0;hh.TIMEOUT=8;hh.HTTP_ERROR=6;AS.COMPLETE="complete";MS.EventType=Ac;Ac.OPEN="a";Ac.CLOSE="b";Ac.ERROR="c";Ac.MESSAGE="d";tt.prototype.listen=tt.prototype.O;Fe.prototype.listenOnce=Fe.prototype.P;Fe.prototype.getLastError=Fe.prototype.Sa;Fe.prototype.getLastErrorCode=Fe.prototype.Ia;Fe.prototype.getStatus=Fe.prototype.da;Fe.prototype.getResponseJson=Fe.prototype.Wa;Fe.prototype.getResponseText=Fe.prototype.ja;Fe.prototype.send=Fe.prototype.ha;Fe.prototype.setWithCredentials=Fe.prototype.Oa;Pn.prototype.digest=Pn.prototype.l;Pn.prototype.reset=Pn.prototype.reset;Pn.prototype.update=Pn.prototype.j;ye.prototype.add=ye.prototype.add;ye.prototype.multiply=ye.prototype.R;ye.prototype.modulo=ye.prototype.gb;ye.prototype.compare=ye.prototype.X;ye.prototype.toNumber=ye.prototype.ea;ye.prototype.toString=ye.prototype.toString;ye.prototype.getBits=ye.prototype.D;ye.fromNumber=rr;ye.fromString=dA;var hA=kn.createWebChannelTransport=function(){return new nh},fA=kn.getStatEventTarget=function(){return dh()},wh=kn.ErrorCode=hh,pA=kn.EventType=AS,mA=kn.Event=fo,Xv=kn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},FK=kn.FetchXmlHttpFactory=Rc,kc=kn.WebChannel=MS,gA=kn.XhrIo=Fe,yA=kn.Md5=Pn,po=kn.Integer=ye;var vA="@firebase/firestore";var rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");var Zs="10.11.0";var wo=new ii("@firebase/firestore");function Oc(){return wo.logLevel}function C(t,...e){if(wo.logLevel<=ee.DEBUG){let n=e.map(Uw);wo.debug(`Firestore (${Zs}): ${t}`,...n)}}function ur(t,...e){if(wo.logLevel<=ee.ERROR){let n=e.map(Uw);wo.error(`Firestore (${Zs}): ${t}`,...n)}}function Us(t,...e){if(wo.logLevel<=ee.WARN){let n=e.map(Uw);wo.warn(`Firestore (${Zs}): ${t}`,...n)}}function Uw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function U(t="Unexpected state"){let e=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: `+t;throw ur(e),new Error(e)}function Te(t,e){t||U()}function H(t,e){return t}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=class extends zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ch=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},i_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}},o_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},s_=class{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new Ch(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new rt(e)}},a_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},c_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new a_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},u_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},l_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,C("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new u_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function L$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Th=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=L$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function de(t,e){return t<e?-1:t>e?1:0}function js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ge=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var G=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ge(0,0))}static max(){return new t(new ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Sh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(),r===void 0?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends Sh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new S(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},U$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jt=class t extends Sh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return U$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new S(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new S(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new S(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new S(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var k=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var d_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};d_.UNKNOWN_ID=-1;function j$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=G.fromTimestamp(r===1e9?new ge(n+1,0):new ge(n,r));return new Io(i,k.empty(),e)}function B$(t){return new Io(t.readTime,t.key,-1)}var Io=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(G.min(),k.empty(),-1)}static max(){return new t(G.max(),k.empty(),-1)}};function $$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=k.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}var H$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",h_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function nu(t){return f(this,null,function*(){if(t.code!==_.FAILED_PRECONDITION||t.message!==H$)throw t;C("LocalStore","Unexpectedly lost primary lease")})}var I=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var f_=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new mn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new _o(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=jw(r.target.error);this.V.reject(new _o(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new _o(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(C("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new m_(n)}},Ah=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Oe())===12.2&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return C("SimpleDb","Removing database:",e),mo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!od())return!1;if(t.C())return!0;let e=Oe(),n=t.S(e),r=0<n&&n<10,i=t.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return f(this,null,function*(){return this.db||(C("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new _o(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new S(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new S(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new _o(e,s))},i.onupgradeneeded=o=>{C("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{C("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return f(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=f_.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),I.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&s<3;if(C("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},p_=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return mo(this.k.delete())}},_o=class extends S{constructor(e,n){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function ru(t){return t.name==="IndexedDbTransactionError"}var m_=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(C("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(C("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mo(r)}add(e){return C("SimpleDb","ADD",this.store.name,e,e),mo(this.store.add(e))}get(e){return mo(this.store.get(e)).next(n=>(n===void 0&&(n=null),C("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return C("SimpleDb","DELETE",this.store.name,e),mo(this.store.delete(e))}count(){return C("SimpleDb","COUNT",this.store.name),mo(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new I((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.G(o,(a,c)=>{s.push(c)}).next(()=>s)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new I((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){C("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new I((r,i)=>{n.onerror=o=>{let s=jw(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){let r=[];return new I((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new p_(a),u=n(a.primaryKey,a.value,c);if(u instanceof I){let l=u.catch(d=>(c.done(),I.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>I.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function mo(t){return new I((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=jw(r.target.error);n(i)}})}var _A=!1;function jw(t){let e=Ah.S(Oe());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new S("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _A||(_A=!0,setTimeout(()=>{throw r},0)),r}}return t}var JA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function of(t){return t==null}function Bc(t){return t===0&&1/t==-1/0}function q$(t){return typeof t=="number"&&Number.isInteger(t)&&!Bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var G$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zK=[...G$,"documentOverlays"],z$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],W$=z$,WK=[...W$,"indexConfiguration","indexState","indexEntries"];function wA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Le=class t{constructor(e,n){this.comparator=e,this.root=n||or.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fs(this.root,e,this.comparator,!0)}},Fs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},or=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();let e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}};or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(e,n,r,i,o){return this}insert(e,n,r){return new or(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var _t=class t{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mh(this.data.getIterator())}getIteratorFrom(e){return new Mh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Mh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class t{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new _t(Jt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var xh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var At=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};At.EMPTY_BYTE_STRING=new At("");var K$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(Te(!!t),typeof t=="string"){let e=0,n=K$.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}function Bw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $w(t){let e=t.mapValue.fields.__previous_value__;return Bw(e)?$w(e):e}function $c(t){let e=Or(t.mapValue.fields.__local_write_time__.timestampValue);return new ge(e.seconds,e.nanos)}var g_=class{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Rh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bw(t)?4:XA(t)?9007199254740991:10:U()}function lr(t,e){if(t===e)return!0;let n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $c(t).isEqual($c(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Or(i.timestampValue),a=Or(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return vi(i.bytesValue).isEqual(vi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?Bc(s)===Bc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return js(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(wA(s)!==wA(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!lr(s[c],a[c])))return!1;return!0}(t,e);default:return U()}}function Hc(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function Bs(t,e){if(t===e)return 0;let n=Eo(t),r=Eo(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ve(o.integerValue||o.doubleValue),c=Ve(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return IA(t.timestampValue,e.timestampValue);case 4:return IA($c(t),$c(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(o,s){let a=vi(o),c=vi(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=de(a[u],c[u]);if(l!==0)return l}return de(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=de(Ve(o.latitude),Ve(s.latitude));return a!==0?a:de(Ve(o.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Bs(a[u],c[u]);if(l)return l}return de(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ih.mapValue&&s===Ih.mapValue)return 0;if(o===Ih.mapValue)return 1;if(s===Ih.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=de(c[d],l[d]);if(h!==0)return h;let p=Bs(a[c[d]],u[l[d]]);if(p!==0)return p}return de(c.length,l.length)}(t.mapValue,e.mapValue);default:throw U()}}function IA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);let n=Or(t),r=Or(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function $s(t){return y_(t)}function y_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return k.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=y_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${y_(n.fields[s])}`;return i+"}"}(t.mapValue):U()}function EA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function v_(t){return!!t&&"integerValue"in t}function Hw(t){return!!t&&"arrayValue"in t}function DA(t){return!!t&&"nullValue"in t}function bA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dh(t){return!!t&&"mapValue"in t}function Vc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Yt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Vc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Vc(this.value))}};function eM(t){let e=[];return Ao(t.fields,(n,r)=>{let i=new Jt([n]);if(Dh(r)){let o=eM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new pn(e)}var On=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,G.min(),G.min(),G.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,G.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,G.min(),G.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,G.min(),G.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hs=class{constructor(e,n){this.position=e,this.inclusive=n}};function CA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=k.comparator(k.fromName(s.referenceValue),n.key):r=Bs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function TA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}var qs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Q$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Nh=class{},We=class t extends Nh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new w_(e,n,r):n==="array-contains"?new D_(e,r):n==="in"?new b_(e,r):n==="not-in"?new C_(e,r):n==="array-contains-any"?new T_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new I_(e,r):new E_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bs(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fn=class t extends Nh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return tM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function tM(t){return t.op==="and"}function nM(t){return Y$(t)&&tM(t)}function Y$(t){for(let e of t.filters)if(e instanceof Fn)return!1;return!0}function __(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+$s(t.value);if(nM(t))return t.filters.map(e=>__(e)).join(",");{let e=t.filters.map(n=>__(n)).join(",");return`${t.op}(${e})`}}function rM(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&lr(r.value,i.value)}(t,e):t instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&rM(s,i.filters[a]),!0):!1}(t,e):void U()}function iM(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(iM).join(" ,")+"}"}(t):"Filter"}var w_=class extends We{constructor(e,n,r){super(e,n,r),this.key=k.fromName(r.referenceValue)}matches(e){let n=k.comparator(e.key,this.key);return this.matchesComparison(n)}},I_=class extends We{constructor(e,n){super(e,"in",n),this.keys=oM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},E_=class extends We{constructor(e,n){super(e,"not-in",n),this.keys=oM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function oM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>k.fromName(r.referenceValue))}var D_=class extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Hw(n)&&Hc(n.arrayValue,this.value)}},b_=class extends We{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Hc(this.value.arrayValue,n)}},C_=class extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Hc(this.value.arrayValue,n)}},T_=class extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Hw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hc(this.value.arrayValue,r))}};var S_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function SA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new S_(t,e,n,r,i,o,s)}function qw(t){let e=H(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>__(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$s(r)).join(",")),e.ce=n}return e.ce}function Gw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TA(t.startAt,e.startAt)&&TA(t.endAt,e.endAt)}function A_(t){return k.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Do=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function J$(t,e,n,r,i,o,s,a){return new Do(t,e,n,r,i,o,s,a)}function sf(t){return new Do(t)}function AA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sM(t){return t.collectionGroup!==null}function Lc(t){let e=H(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new _t(Jt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new qs(o,r))}),n.has(Jt.keyField().canonicalString())||e.le.push(new qs(Jt.keyField(),r))}return e.le}function sr(t){let e=H(t);return e.he||(e.he=Z$(e,Lc(t))),e.he}function Z$(t,e){if(t.limitType==="F")return SA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new qs(i.field,o)});let n=t.endAt?new Hs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hs(t.startAt.position,t.startAt.inclusive):null;return SA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function M_(t,e){let n=t.filters.concat([e]);return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function x_(t,e,n){return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function af(t,e){return Gw(sr(t),sr(e))&&t.limitType===e.limitType}function aM(t){return`${qw(sr(t))}|lt:${t.limitType}`}function Ps(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iM(i)).join(", ")}]`),of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$s(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$s(i)).join(",")),`Target(${r})`}(sr(t))}; limitType=${t.limitType})`}function cf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):k.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Lc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=CA(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Lc(r),i)||r.endAt&&!function(s,a,c){let u=CA(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Lc(r),i))}(t,e)}function X$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cM(t){return(e,n)=>{let r=!1;for(let i of Lc(t)){let o=eH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function eH(t,e,n){let r=t.field.isKeyField()?k.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Bs(c,u):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}var _i=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ZA(this.inner)}size(){return this.innerSize}};var tH=new Le(k.comparator);function Fr(){return tH}var uM=new Le(k.comparator);function Fc(...t){let e=uM;for(let n of t)e=e.insert(n.key,n);return e}function lM(t){let e=uM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function go(){return Uc()}function dM(){return Uc()}function Uc(){return new _i(t=>t.toString(),(t,e)=>t.isEqual(e))}var nH=new Le(k.comparator),rH=new _t(k.comparator);function te(...t){let e=rH;for(let n of t)e=e.add(n);return e}var iH=new _t(de);function oH(){return iH}function hM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function fM(t){return{integerValue:""+t}}function sH(t,e){return q$(e)?fM(e):hM(t,e)}var Gs=class{constructor(){this._=void 0}};function aH(t,e,n){return t instanceof zs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Bw(o)&&(o=$w(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof bo?mM(t,e):t instanceof Co?gM(t,e):function(i,o){let s=pM(i,o),a=MA(s)+MA(i.Ie);return v_(s)&&v_(i.Ie)?fM(a):hM(i.serializer,a)}(t,e)}function cH(t,e,n){return t instanceof bo?mM(t,e):t instanceof Co?gM(t,e):n}function pM(t,e){return t instanceof Ws?function(r){return v_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var zs=class extends Gs{},bo=class extends Gs{constructor(e){super(),this.elements=e}};function mM(t,e){let n=yM(e);for(let r of t.elements)n.some(i=>lr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Co=class extends Gs{constructor(e){super(),this.elements=e}};function gM(t,e){let n=yM(e);for(let r of t.elements)n=n.filter(i=>!lr(i,r));return{arrayValue:{values:n}}}var Ws=class extends Gs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function MA(t){return Ve(t.integerValue||t.doubleValue)}function yM(t){return Hw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bo&&i instanceof bo||r instanceof Co&&i instanceof Co?js(r.elements,i.elements,lr):r instanceof Ws&&i instanceof Ws?lr(r.Ie,i.Ie):r instanceof zs&&i instanceof zs}(t.transform,e.transform)}var R_=class{constructor(e,n){this.version=e,this.transformResults=n}},ar=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ks=class{};function vM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qc(t.key,ar.none()):new To(t.key,t.data,ar.none());{let n=t.data,r=Yt.empty(),i=new _t(Jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new dr(t.key,r,new pn(i.toArray()),ar.none())}}function lH(t,e,n){t instanceof To?function(i,o,s){let a=i.value.clone(),c=RA(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof dr?function(i,o,s){if(!bh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=RA(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(_M(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function jc(t,e,n,r){return t instanceof To?function(o,s,a,c){if(!bh(o.precondition,s))return a;let u=o.value.clone(),l=NA(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof dr?function(o,s,a,c){if(!bh(o.precondition,s))return a;let u=NA(o.fieldTransforms,c,s),l=s.data;return l.setAll(_M(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return bh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function dH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=pM(r.transform,i||null);o!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,o))}return n||null}function xA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&js(r,i,(o,s)=>uH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var To=class extends Ks{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},dr=class extends Ks{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function _M(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function RA(t,e,n){let r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,cH(s,a,n[i]))}return r}function NA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,aH(o,s,e))}return r}var qc=class extends Ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},N_=class extends Ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var P_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&lH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=jc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=dM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=vM(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(n,r)=>xA(n,r))&&js(this.baseMutations,e.baseMutations,(n,r)=>xA(n,r))}},k_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return nH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var O_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var F_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ge,oe;function hH(t){switch(t){default:return U();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function wM(t){if(t===void 0)return ur("GRPC error has no .code"),_.UNKNOWN;switch(t){case Ge.OK:return _.OK;case Ge.CANCELLED:return _.CANCELLED;case Ge.UNKNOWN:return _.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return _.INTERNAL;case Ge.UNAVAILABLE:return _.UNAVAILABLE;case Ge.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Ge.NOT_FOUND:return _.NOT_FOUND;case Ge.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Ge.ABORTED:return _.ABORTED;case Ge.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Ge.DATA_LOSS:return _.DATA_LOSS;default:return U()}}(oe=Ge||(Ge={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";var PA=null;function fH(){return new TextEncoder}var pH=new po([4294967295,4294967295],0);function kA(t){let e=fH().encode(t),n=new yA;return n.update(e),new Uint8Array(n.digest())}function OA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new po([n,r],0),new po([i,o],0)]}var V_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yo(`Invalid padding: ${n}`);if(r<0)throw new yo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=po.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(po.fromNumber(r)));return i.compare(pH)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=kA(e),[r,i]=OA(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=kA(e),[r,i]=OA(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},yo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ph=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(G.min(),i,new Le(de),Fr(),te())}},Gc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,te(),te(),te())}};var Vs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},kh=class{constructor(e,n){this.targetId=e,this.fe=n}},Oh=class{constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Fh=class{constructor(){this.ge=0,this.pe=VA(),this.ye=At.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=te(),n=te(),r=te();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new Gc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=VA()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Te(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},L_=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Fr(),this.Qe=FA(),this.Ke=new Le(de)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(A_(o))if(r===0){let s=new k(o.path);this.We(n,s,On.newNoDocument(s,G.min()))}else Te(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}PA?.tt(function(l,d,h,p,v){var E,D,x,ne,J,De;let it={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},he=d.unchangedNames;return he&&(it.bloomFilter={applied:v===0,hashCount:(E=he?.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(ne=(x=(D=he?.bits)===null||D===void 0?void 0:D.bitmap)===null||x===void 0?void 0:x.length)!==null&&ne!==void 0?ne:0,padding:(De=(J=he?.bits)===null||J===void 0?void 0:J.padding)!==null&&De!==void 0?De:0,mightContain:ft=>{var Ln;return(Ln=p?.mightContain(ft))!==null&&Ln!==void 0&&Ln}}),it}(s,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=vi(r).toUint8Array()}catch(c){if(c instanceof xh)return Us("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new V_(s,i,o)}catch(c){return Us(c instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&A_(a.target)){let c=new k(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,On.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=te();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new Ph(e,n,this.Ke,this.qe,r);return this.qe=Fr(),this.Qe=FA(),this.Ke=new Le(de),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Fh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new _t(de),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||C("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Fh),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function FA(){return new Le(k.comparator)}function VA(){return new Le(k.comparator)}var mH={asc:"ASCENDING",desc:"DESCENDING"},gH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yH={and:"AND",or:"OR"},U_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function j_(t,e){return t.useProto3Json||of(e)?e:{value:e}}function Vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vH(t,e){return Vh(t,e.toTimestamp())}function cr(t){return Te(!!t),G.fromTimestamp(function(n){let r=Or(n);return new ge(r.seconds,r.nanos)}(t))}function zw(t,e){return B_(t,e).canonicalString()}function B_(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EM(t){let e=ke.fromString(t);return Te(SM(e)),e}function $_(t,e){return zw(t.databaseId,e.path)}function e_(t,e){let n=EM(e);if(n.get(1)!==t.databaseId.projectId)throw new S(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new k(bM(n))}function DM(t,e){return zw(t.databaseId,e)}function _H(t){let e=EM(t);return e.length===4?ke.emptyPath():bM(e)}function H_(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bM(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LA(t,e,n){return{name:$_(t,e),fields:n.value.mapValue.fields}}function wH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:U()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,l){return u.useProto3Json?(Te(l===void 0||typeof l=="string"),At.fromBase64String(l||"")):(Te(l===void 0||l instanceof Buffer||l instanceof Uint8Array),At.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let l=u.code===void 0?_.UNKNOWN:wM(u.code);return new S(l,u.message||"")}(s);n=new Oh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=e_(t,r.document.name),o=cr(r.document.updateTime),s=r.document.createTime?cr(r.document.createTime):G.min(),a=new Yt({mapValue:{fields:r.document.fields}}),c=On.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Vs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=e_(t,r.document),o=r.readTime?cr(r.readTime):G.min(),s=On.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Vs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=e_(t,r.document),o=r.removedTargetIds||[];n=new Vs([],o,i,null)}else{if(!("filter"in e))return U();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new F_(i,o),a=r.targetId;n=new kh(a,s)}}return n}function IH(t,e){let n;if(e instanceof To)n={update:LA(t,e.key,e.value)};else if(e instanceof qc)n={delete:$_(t,e.key)};else if(e instanceof dr)n={update:LA(t,e.key,e.data),updateMask:xH(e.fieldMask)};else{if(!(e instanceof N_))return U();n={verify:$_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ws)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw U()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:vH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:U()}(t,e.precondition)),n}function EH(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?cr(i.updateTime):cr(o);return s.isEqual(G.min())&&(s=cr(o)),new R_(s,i.transformResults||[])}(n,e))):[]}function DH(t,e){return{documents:[DM(t,e.path)]}}function bH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DM(t,i);let o=function(u){if(u.length!==0)return TM(Fn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:ks(h.field),direction:SH(h.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=j_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function CH(t){let e=_H(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){let h=CM(d);return h instanceof Fn&&nM(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(v){return new qs(Os(v.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,of(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new Hs(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new Hs(p,h)}(n.endAt)),J$(e,i,s,o,a,"F",c,u)}function TH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Os(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Os(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Os(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Os(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):t.fieldFilter!==void 0?function(n){return We.create(Os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>CM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U()}}(n.compositeFilter.op))}(t):U()}function SH(t){return mH[t]}function AH(t){return gH[t]}function MH(t){return yH[t]}function ks(t){return{fieldPath:t.canonicalString()}}function Os(t){return Jt.fromServerFormat(t.fieldPath)}function TM(t){return t instanceof We?function(n){if(n.op==="=="){if(bA(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NAN"}};if(DA(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bA(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NAN"}};if(DA(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(n.field),op:AH(n.op),value:n.value}}}(t):t instanceof Fn?function(n){let r=n.getFilters().map(i=>TM(i));return r.length===1?r[0]:{compositeFilter:{op:MH(n.op),filters:r}}}(t):U()}function xH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var zc=class t{constructor(e,n,r,i,o=G.min(),s=G.min(),a=At.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var q_=class{constructor(e){this.ct=e}};function RH(t){let e=CH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?x_(e,e.limit,"L"):e}var Lh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Bc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Or(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(vi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?XA(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):U()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),k.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Lh.bt=new Lh;var G_=class{constructor(){this._n=new z_}addToCollectionParentIndex(e,n){return this._n.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(Io.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}},z_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(ke.comparator)).toArray()}};var QK=new Uint8Array(0);var ir=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);var Wc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var W_=class{constructor(){this.changes=new _i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var K_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Q_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&jc(r.mutation,i,pn.empty(),ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){let i=go();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Fc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Fr(),s=Uc(),a=function(){return Uc()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof dr)?o=o.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),jc(l.mutation,u,l.mutation.getFieldMask(),ge.now())):s.set(u.key,pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new K_(l,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Uc(),i=new Le((s,a)=>s-a),o=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||pn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||te()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=dM();l.forEach(h=>{if(!o.has(h)){let p=vM(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return I.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return k.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):I.resolve(go()),a=-1,c=o;return s.next(u=>I.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,te())).next(l=>({batchId:a,changes:lM(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new k(n)).next(r=>{let i=Fc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Fc();return this.indexManager.getCollectionParents(e,o).next(a=>I.forEach(a,c=>{let u=function(d,h){return new Do(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,On.newInvalidDocument(l)))});let a=Fc();return s.forEach((c,u)=>{let l=o.get(c);l!==void 0&&jc(l.mutation,u,pn.empty(),ge.now()),cf(n,u)&&(a=a.insert(c,u))}),a})}};var Y_=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return I.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cr(i.createTime)}}(n)),I.resolve()}getNamedQuery(e,n){return I.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:RH(i.bundledQuery),readTime:cr(i.readTime)}}(n)),I.resolve()}};var J_=class{constructor(){this.overlays=new Le(k.comparator),this.hr=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){let r=go();return I.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),I.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){let i=go(),o=n.length+1,s=new k(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Le((u,l)=>u-l),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);l===null&&(l=go(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=go(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return I.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new O_(n,r));let o=this.hr.get(n);o===void 0&&(o=te(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var Kc=class{constructor(){this.Pr=new _t(ze.Ir),this.Tr=new _t(ze.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new ze(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ze(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new k(new ke([])),r=new ze(n,e),i=new ze(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new k(new ke([])),r=new ze(n,e),i=new ze(n,e+1),o=te();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ze(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ze=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return k.comparator(e.key,n.key)||de(e.pr,n.pr)}static Er(e,n){return de(e.pr,n.pr)||k.comparator(e.key,n.key)}};var Z_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new _t(ze.Ir)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new P_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new ze(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(s)}lookupMutationBatch(e,n){return I.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return I.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),I.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(de);return n.forEach(i=>{let o=new ze(i,0),s=new ze(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),I.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;k.isDocumentKey(o)||(o=o.child(""));let s=new ze(new k(o),0),a=new _t(de);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},s),I.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return I.forEach(n.mutations,i=>{let o=new ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new ze(n,0),i=this.wr.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var X_=class{constructor(e){this.vr=e,this.docs=function(){return new Le(k.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=Fr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():On.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fr(),s=n.path,a=new k(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||$$(B$(l),r)<=0||(i.has(l.key)||cf(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return I.resolve(o)}getAllFromCollectionGroup(e,n,r,i){U()}Fr(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ew(this)}getSize(e){return I.resolve(this.size)}},ew=class extends W_{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var tw=class{constructor(e){this.persistence=e,this.Mr=new _i(n=>qw(n),Gw),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Kc,this.targetCount=0,this.Lr=Wc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),I.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Wc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.qn(n),I.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(o).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),I.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),I.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Nr.containsKey(n))}};var nw=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new JA(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new tw(this),this.indexManager=new G_,this.remoteDocumentCache=function(i){return new X_(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new q_(n),this.$r=new Y_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Z_(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);let i=new rw(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return I.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},rw=class extends h_{constructor(e){super(),this.currentSequenceNumber=e}},iw=class t{constructor(e){this.persistence=e,this.zr=new Kc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw U()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),I.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Jr,r=>{let i=k.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,G.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return I.or([()=>I.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var ow=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=te(),i=te();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var sw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var aw=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return eC()?8:Ah.v(Oe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new sw;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Oc()<=ee.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",Ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),I.resolve()):(Oc()<=ee.DEBUG&&C("QueryEngine","Query:",Ps(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Oc()<=ee.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",Ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):I.resolve())}ji(e,n){if(AA(n))return I.resolve(null);let r=sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=x_(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=te(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,s,c.readTime)?this.ji(e,x_(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return AA(n)||i.isEqual(G.min())?I.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?I.resolve(null):(Oc()<=ee.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ps(n)),this.es(e,s,n,j$(i,-1)).next(a=>a))})}Zi(e,n){let r=new _t(cM(e));return n.forEach((i,o)=>{cf(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Oc()<=ee.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",Ps(n)),this.zi.getDocumentsMatchingQuery(e,n,Io.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var cw=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Le(de),this.rs=new _i(o=>qw(o),Gw),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function NH(t,e,n,r){return new cw(t,e,n,r)}function AM(t,e){return f(this,null,function*(){let n=H(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=te();for(let u of i){s.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of o){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})})}function PH(t,e){let n=H(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=I.resolve();return h.forEach(v=>{p=p.next(()=>l.getEntry(c,v)).next(E=>{let D=u.docVersions.get(v);Te(D!==null),E.version.compareTo(D)<0&&(d.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),l.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MM(t){let e=H(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function kH(t,e){let n=H(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,l.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(At.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),function(E,D,x){return E.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,l)&&a.push(n.Qr.updateTargetData(o,p))});let c=Fr(),u=te();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(OH(o,s,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(G.min())){let l=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.ns=i,o))}function OH(t,e,n){let r=te(),i=te();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Fr();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(G.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:s,ls:i}})}function FH(t,e){let n=H(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VH(t,e){let n=H(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,I.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new zc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function uw(t,e,n){return f(this,null,function*(){let r=H(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ru(s))throw s;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function UA(t,e,n){let r=H(t),i=G.min(),o=te();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,l){let d=H(c),h=d.rs.get(l);return h!==void 0?I.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,s,sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:G.min(),n?o:te())).next(a=>(LH(r,X$(e),a),{documents:a,hs:o})))}function LH(t,e,n){let r=t.ss.get(e)||G.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}var Uh=class{constructor(){this.activeTargetIds=oH()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var lw=class{constructor(){this.no=new Uh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Uh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dw=class{io(e){}shutdown(){}};var jh=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Eh=null;function t_(){return Eh===null?Eh=function(){return 268435456+Math.round(2147483648*Math.random())}():Eh++,"0x"+Eh.toString(16)}var UH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var hw=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var vt="WebChannelConnection",fw=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){let a=t_(),c=this.bo(n,r.toUriEncodedString());C("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,c,u,i).then(l=>(C("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Us("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){let i=UH[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let o=t_();return new Promise((s,a)=>{let c=new gA;c.setWithCredentials(!0),c.listenOnce(pA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case wh.NO_ERROR:let l=c.getResponseJson();C(vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case wh.TIMEOUT:C(vt,`RPC '${e}' ${o} timed out`),a(new S(_.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:let d=c.getStatus();if(C(vt,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let v=function(D){let x=D.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(x)>=0?x:_.UNKNOWN}(p.status);a(new S(v,p.message))}else a(new S(_.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new S(_.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{C(vt,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);C(vt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=t_(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=hA(),a=fA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");C(vt,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=s.createWebChannel(l,c),h=!1,p=!1,v=new hw({lo:D=>{p?C(vt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(h||(C(vt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(vt,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},ho:()=>d.close()}),E=(D,x,ne)=>{D.listen(x,J=>{try{ne(J)}catch(De){setTimeout(()=>{throw De},0)}})};return E(d,kc.EventType.OPEN,()=>{p||C(vt,`RPC '${e}' stream ${i} transport opened.`)}),E(d,kc.EventType.CLOSE,()=>{p||(p=!0,C(vt,`RPC '${e}' stream ${i} transport closed`),v.Vo())}),E(d,kc.EventType.ERROR,D=>{p||(p=!0,Us(vt,`RPC '${e}' stream ${i} transport errored:`,D),v.Vo(new S(_.UNAVAILABLE,"The operation could not be completed")))}),E(d,kc.EventType.MESSAGE,D=>{var x;if(!p){let ne=D.data[0];Te(!!ne);let J=ne,De=J.error||((x=J[0])===null||x===void 0?void 0:x.error);if(De){C(vt,`RPC '${e}' stream ${i} received error:`,De);let it=De.status,he=function(Ii){let No=Ge[Ii];if(No!==void 0)return wM(No)}(it),ft=De.message;he===void 0&&(he=_.INTERNAL,ft="Unknown error status: "+it+" with message "+De.message),p=!0,v.Vo(new S(he,ft)),d.close()}else C(vt,`RPC '${e}' stream ${i} received:`,ne),v.mo(ne)}}),E(a,mA.STAT_EVENT,D=>{D.stat===Xv.PROXY?C(vt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Xv.NOPROXY&&C(vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ro()},0),v}};function n_(){return typeof document<"u"?document:null}function uf(t){return new U_(t,!0)}var Bh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var $h=class{constructor(e,n,r,i,o,s,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Bh(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return f(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return f(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return f(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new S(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>f(this,null,function*(){this.state=0,this.start()}))}__(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},pw=class extends $h{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=wH(this.serializer,e),r=function(o){if(!("targetChange"in o))return G.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?cr(s.readTime):G.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=H_(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=A_(c)?{documents:DH(o,c)}:{query:bH(o,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=IM(o,s.resumeToken);let u=j_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(G.min())>0){a.readTime=Vh(o,s.snapshotVersion.toTimestamp());let u=j_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=TH(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=H_(this.serializer),n.removeTarget=e,this.t_(n)}},mw=class extends $h{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=EH(e.writeResults,e.commitTime),r=cr(e.commitTime);return this.listener.T_(r,n)}return Te(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=H_(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>IH(this.serializer,r))};this.t_(n)}};var gw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new S(_.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,B_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new S(_.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,B_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(_.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var yw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ur(n),this.g_=!1):C("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var vw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(()=>f(this,null,function*(){Mo(this)&&(C("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=H(c);u.v_.add(4),yield iu(u),u.x_.set("Unknown"),u.v_.delete(4),yield lf(u)})}(this))}))}),this.x_=new yw(r,i)}};function lf(t){return f(this,null,function*(){if(Mo(t))for(let e of t.F_)yield e(!0)})}function iu(t){return f(this,null,function*(){for(let e of t.F_)yield e(!1)})}function xM(t,e){let n=H(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Yw(n)?Qw(n):Xs(n).Jo()&&Kw(n,e))}function Ww(t,e){let n=H(t),r=Xs(n);n.C_.delete(e),r.Jo()&&RM(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Mo(n)&&n.x_.set("Unknown"))}function Kw(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(t).c_(e)}function RM(t,e){t.O_.Oe(e),Xs(t).l_(e)}function Qw(t){t.O_=new L_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xs(t).start(),t.x_.p_()}function Yw(t){return Mo(t)&&!Xs(t).Ho()&&t.C_.size>0}function Mo(t){return H(t).v_.size===0}function NM(t){t.O_=void 0}function jH(t){return f(this,null,function*(){t.C_.forEach((e,n)=>{Kw(t,e)})})}function BH(t,e){return f(this,null,function*(){NM(t),Yw(t)?(t.x_.S_(e),Qw(t)):t.x_.set("Unknown")})}function $H(t,e,n){return f(this,null,function*(){if(t.x_.set("Online"),e instanceof Oh&&e.state===2&&e.cause)try{yield function(i,o){return f(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hh(t,r)}else if(e instanceof Vs?t.O_.$e(e):e instanceof kh?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(G.min()))try{let r=yield MM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=o.C_.get(u);l&&o.C_.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let l=o.C_.get(c);if(!l)return;o.C_.set(c,l.withResumeToken(At.EMPTY_BYTE_STRING,l.snapshotVersion)),RM(o,c);let d=new zc(l.target,c,u,l.sequenceNumber);Kw(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield Hh(t,r)}})}function Hh(t,e,n){return f(this,null,function*(){if(!ru(e))throw e;t.v_.add(1),yield iu(t),t.x_.set("Offline"),n||(n=()=>MM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield lf(t)}))})}function PM(t,e){return e().catch(n=>Hh(t,n,e))}function df(t){return f(this,null,function*(){let e=H(t),n=wi(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;HH(e);)try{let i=yield FH(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,qH(e,i)}catch(i){yield Hh(e,i)}kM(e)&&OM(e)})}function HH(t){return Mo(t)&&t.D_.length<10}function qH(t,e){t.D_.push(e);let n=wi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function kM(t){return Mo(t)&&!wi(t).Ho()&&t.D_.length>0}function OM(t){wi(t).start()}function GH(t){return f(this,null,function*(){wi(t).d_()})}function zH(t){return f(this,null,function*(){let e=wi(t);for(let n of t.D_)e.I_(n.mutations)})}function WH(t,e,n){return f(this,null,function*(){let r=t.D_.shift(),i=k_.from(r,e,n);yield PM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield df(t)})}function KH(t,e){return f(this,null,function*(){e&&wi(t).P_&&(yield function(r,i){return f(this,null,function*(){if(function(s){return hH(s)&&s!==_.ABORTED}(i.code)){let o=r.D_.shift();wi(r).Zo(),yield PM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield df(r)}})}(t,e)),kM(t)&&OM(t)})}function jA(t,e){return f(this,null,function*(){let n=H(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");let r=Mo(n);n.v_.add(3),yield iu(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield lf(n)})}function QH(t,e){return f(this,null,function*(){let n=H(t);e?(n.v_.delete(2),yield lf(n)):e||(n.v_.add(2),yield iu(n),n.x_.set("Unknown"))})}function Xs(t){return t.N_||(t.N_=function(n,r,i){let o=H(n);return o.R_(),new pw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:jH.bind(null,t),To:BH.bind(null,t),u_:$H.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.N_.Zo(),Yw(t)?Qw(t):t.x_.set("Unknown")):(yield t.N_.stop(),NM(t))}))),t.N_}function wi(t){return t.L_||(t.L_=function(n,r,i){let o=H(n);return o.R_(),new mw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:GH.bind(null,t),To:KH.bind(null,t),E_:zH.bind(null,t),T_:WH.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.L_.Zo(),yield df(t)):(yield t.L_.stop(),t.D_.length>0&&(C("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var _w=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new S(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Jw(t,e){if(ur("AsyncQueue",`${e}: ${t}`),ru(t))return new S(_.UNAVAILABLE,`${e}: ${t}`);throw t}var qh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||k.comparator(n.key,r.key):(n,r)=>k.comparator(n.key,r.key),this.keyedMap=Fc(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Gh=class{constructor(){this.B_=new Le(k.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):U():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Qs=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,qh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var ww=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},Iw=class{constructor(){this.queries=new _i(e=>aM(e),af),this.onlineState="Unknown",this.W_=new Set}};function Zw(t,e){return f(this,null,function*(){let n=H(t),r=3,i=e.query,o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new ww,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Jw(s,`Initialization of query '${Ps(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&eI(n)})}function Xw(t,e){return f(this,null,function*(){let n=H(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function YH(t,e){let n=H(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&eI(n)}function JH(t,e,n){let r=H(t),i=r.queries.get(e);if(i)for(let o of i.Q_)o.onError(n);r.queries.delete(e)}function eI(t){t.W_.forEach(e=>{e.next()})}var Ew,BA;(BA=Ew||(Ew={})).j_="default",BA.Cache="cache";var Qc=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Qs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Ew.Cache}};var zh=class{constructor(e){this.key=e}},Wh=class{constructor(e){this.key=e}},Dw=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=te(),this.mutatedKeys=te(),this.ha=cM(e),this.Pa=new qh(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new Gh,i=n?n.Pa:this.Pa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),p=cf(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),D=!1;h&&p?h.data.isEqual(p.data)?v!==E&&(r.track({type:3,doc:p}),D=!0):this.da(h,p)||(r.track({type:2,doc:p}),D=!0,(c&&this.ha(p,c)>0||u&&this.ha(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),D=!0):h&&!p&&(r.track({type:1,doc:h}),D=!0,(c||u)&&(a=!0)),D&&(p?(s=s.add(p),o=E?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((l,d)=>function(p,v){let E=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return E(p)-E(v)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,u=c!==this.ca;return this.ca=c,s.length!==0||u?{snapshot:new Qs(this.query,e.Pa,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Gh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=te(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new Wh(r))}),this.la.forEach(r=>{e.has(r)||n.push(new zh(r))}),n}fa(e){this.ua=e.hs,this.la=te();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Qs.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},bw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Cw=class{constructor(e){this.key=e,this.pa=!1}},Tw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new _i(a=>aM(a),af),this.Sa=new Map,this.ba=new Set,this.Da=new Le(k.comparator),this.Ca=new Map,this.va=new Kc,this.Fa={},this.Ma=new Map,this.xa=Wc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function ZH(t,e,n=!0){return f(this,null,function*(){let r=BM(t),i,o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield FM(r,e,n,!0),i})}function XH(t,e){return f(this,null,function*(){let n=BM(t);yield FM(n,e,!0,!1)})}function FM(t,e,n,r){return f(this,null,function*(){let i=yield VH(t.localStore,sr(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield e4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&xM(t.remoteStore,i),a})}function e4(t,e,n,r,i){return f(this,null,function*(){t.Na=(d,h,p)=>function(E,D,x,ne){return f(this,null,function*(){let J=D.view.Ta(x);J.Xi&&(J=yield UA(E.localStore,D.query,!1).then(({documents:ft})=>D.view.Ta(ft,J)));let De=ne&&ne.targetChanges.get(D.targetId),it=ne&&ne.targetMismatches.get(D.targetId)!=null,he=D.view.applyChanges(J,E.isPrimaryClient,De,it);return HA(E,D.targetId,he.Va),he.snapshot})}(t,d,h,p);let o=yield UA(t.localStore,e,!0),s=new Dw(e,o.hs),a=s.Ta(o.documents),c=Gc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);HA(t,n,u.Va);let l=new bw(e,n,s);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot})}function t4(t,e,n){return f(this,null,function*(){let r=H(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!af(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield uw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ww(r.remoteStore,i.targetId),Sw(r,i.targetId)}).catch(nu))):(Sw(r,i.targetId),yield uw(r.localStore,i.targetId,!0))})}function n4(t,e){return f(this,null,function*(){let n=H(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ww(n.remoteStore,r.targetId))})}function r4(t,e,n){return f(this,null,function*(){let r=l4(t);try{let i=yield function(s,a){let c=H(s),u=ge.now(),l=a.reduce((p,v)=>p.add(v.key),te()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Fr(),E=te();return c.os.getEntries(p,l).next(D=>{v=D,v.forEach((x,ne)=>{ne.isValidDocument()||(E=E.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,v)).next(D=>{d=D;let x=[];for(let ne of a){let J=dH(ne,d.get(ne.key).overlayedDocument);J!=null&&x.push(new dr(ne.key,J,eM(J.value.mapValue),ar.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,x,a)}).next(D=>{h=D;let x=D.applyToLocalDocumentSet(d,E);return c.documentOverlayCache.saveOverlays(p,D.batchId,x)})}).then(()=>({batchId:h.batchId,changes:lM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Fa[s.currentUser.toKey()];u||(u=new Le(de)),u=u.insert(a,c),s.Fa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ou(r,i.changes),yield df(r.remoteStore)}catch(i){let o=Jw(i,"Failed to persist write");n.reject(o)}})}function VM(t,e){return f(this,null,function*(){let n=H(t);try{let r=yield kH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Ca.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?Te(s.pa):i.removedDocuments.size>0&&(Te(s.pa),s.pa=!1))}),yield ou(n,r,e)}catch(r){yield nu(r)}})}function $A(t,e,n){let r=H(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=H(s);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(u=!0)}),u&&eI(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function i4(t,e,n){return f(this,null,function*(){let r=H(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),o=i&&i.key;if(o){let s=new Le(k.comparator);s=s.insert(o,On.newNoDocument(o,G.min()));let a=te().add(o),c=new Ph(G.min(),new Map,new Le(de),s,a);yield VM(r,c),r.Da=r.Da.remove(o),r.Ca.delete(e),tI(r)}else yield uw(r.localStore,e,!1).then(()=>Sw(r,e,n)).catch(nu)})}function o4(t,e){return f(this,null,function*(){let n=H(t),r=e.batch.batchId;try{let i=yield PH(n.localStore,e);UM(n,r,null),LM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ou(n,i)}catch(i){yield nu(i)}})}function s4(t,e,n){return f(this,null,function*(){let r=H(t);try{let i=yield function(s,a){let c=H(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Te(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);UM(r,e,n),LM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ou(r,i)}catch(i){yield nu(i)}})}function LM(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function UM(t,e,n){let r=H(t),i=r.Fa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Sw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||jM(t,r)})}function jM(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(Ww(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),tI(t))}function HA(t,e,n){for(let r of n)r instanceof zh?(t.va.addReference(r.key,e),a4(t,r)):r instanceof Wh?(C("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||jM(t,r.key)):U()}function a4(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(C("SyncEngine","New document in limbo: "+n),t.ba.add(r),tI(t))}function tI(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new k(ke.fromString(e)),r=t.xa.next();t.Ca.set(r,new Cw(n)),t.Da=t.Da.insert(n,r),xM(t.remoteStore,new zc(sr(sf(n.path)),r,"TargetPurposeLimboResolution",JA._e))}}function ou(t,e,n){return f(this,null,function*(){let r=H(t),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{s.push(r.Na(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=ow.Ki(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.ya.u_(i),yield function(c,u){return f(this,null,function*(){let l=H(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(u,h=>I.forEach(h.qi,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>I.forEach(h.Qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!ru(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ns.get(h),v=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(v);l.ns=l.ns.insert(h,E)}}})}(r.localStore,o))})}function c4(t,e){return f(this,null,function*(){let n=H(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());let r=yield AM(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(c=>{c.reject(new S(_.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ou(n,r.us)}})}function u4(t,e){let n=H(t),r=n.Ca.get(e);if(r&&r.pa)return te().add(r.key);{let i=te(),o=n.Sa.get(e);if(!o)return i;for(let s of o){let a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function BM(t){let e=H(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i4.bind(null,e),e.ya.u_=YH.bind(null,e.eventManager),e.ya.La=JH.bind(null,e.eventManager),e}function l4(t){let e=H(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s4.bind(null,e),e}var Kh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return NH(this.persistence,new aw,e.initialUser,this.serializer)}createPersistence(e){return new nw(iw.Hr,this.serializer)}createSharedClientState(e){return new lw}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Aw=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$A(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=c4.bind(null,this.syncEngine),yield QH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Iw}()}createDatastore(e){let n=uf(e.databaseInfo.databaseId),r=function(o){return new fw(o)}(e.databaseInfo);return function(o,s,a,c){return new gw(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new vw(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>$A(this.syncEngine,n,0),function(){return jh.D()?new jh:new dw}())}createSyncEngine(e,n){return function(i,o,s,a,c,u,l){let d=new Tw(i,o,s,a,c,u);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=H(r);C("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield iu(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Yc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Mw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=Th.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>f(this,null,function*(){C("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Jw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function r_(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield AM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function qA(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield h4(t);C("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>jA(e.remoteStore,i)),t._onlineComponents=e})}function d4(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function h4(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield r_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!d4(n))throw n;Us("Error using user provided cache. Falling back to memory cache: "+n),yield r_(t,new Kh)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield r_(t,new Kh);return t._offlineComponents})}function $M(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield qA(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield qA(t,new Aw))),t._onlineComponents})}function f4(t){return $M(t).then(e=>e.syncEngine)}function Qh(t){return f(this,null,function*(){let e=yield $M(t),n=e.eventManager;return n.onListen=ZH.bind(null,e.syncEngine),n.onUnlisten=t4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n4.bind(null,e.syncEngine),n})}function p4(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return function(o,s,a,c,u){let l=new Yc({next:h=>{s.enqueueAndForget(()=>Xw(o,d));let p=h.docs.has(a);!p&&h.fromCache?u.reject(new S(_.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new S(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Qc(sf(a.path),l,{includeMetadataChanges:!0,ta:!0});return Zw(o,d)}(yield Qh(t),t.asyncQueue,e,n,r)})),r.promise}function m4(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return function(o,s,a,c,u){let l=new Yc({next:h=>{s.enqueueAndForget(()=>Xw(o,d)),h.fromCache&&c.source==="server"?u.reject(new S(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Qc(a,l,{includeMetadataChanges:!0,ta:!0});return Zw(o,d)}(yield Qh(t),t.asyncQueue,e,n,r)})),r.promise}function HM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var GA=new Map;function qM(t,e,n){if(!n)throw new S(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g4(t,e,n,r){if(e===!0&&r===!0)throw new S(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zA(t){if(!k.isDocumentKey(t))throw new S(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WA(t){if(k.isDocumentKey(t))throw new S(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U()}function Ft(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=hf(t);throw new S(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Yh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new S(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new S(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new S(_.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new S(_.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new S(_.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ys=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new S(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new i_;switch(r.type){case"firstParty":return new c_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new S(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=GA.get(n);r&&(C("ComponentProvider","Removing Datastore"),GA.delete(n),r.terminate())}(this),Promise.resolve()}};function y4(t,e,n,r={}){var i;let o=(t=Ft(t,Ys))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=rt.MOCK_USER;else{a=Qb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new rt(u)}t._authCredentials=new o_(new Ch(a,c))}}var So=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},wt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},yi=class t extends So{constructor(e,n,r){super(e,n,sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new k(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function hr(t,e,...n){if(t=Ze(t),qM("collection","path",e),t instanceof Ys){let r=ke.fromString(e,...n);return WA(r),new yi(t,null,r)}{if(!(t instanceof wt||t instanceof yi))throw new S(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return WA(r),new yi(t.firestore,null,r)}}function It(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=Th.newId()),qM("doc","path",e),t instanceof Ys){let r=ke.fromString(e,...n);return zA(r),new wt(t,null,new k(r))}{if(!(t instanceof wt||t instanceof yi))throw new S(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return zA(r),new wt(t.firestore,t instanceof yi?t.converter:null,new k(r))}}var xw=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Bh(this,"async_queue_retry"),this.cu=()=>{let n=n_();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=n_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=n_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new mn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return f(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!ru(e))throw e;C("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=_w.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&U()}verifyOperationInProgress(){}Tu(){return f(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};function KA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Vn=class extends Ys{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new xw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GM(this),this._firestoreClient.terminate()}};function fr(t,e){let n=typeof t=="object"?t:_s(),r=typeof t=="string"?t:e||"(default)",i=Qa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Kb("firestore");o&&y4(i,...o)}return i}function ff(t){return t._firestoreClient||GM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GM(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,u,l){return new g_(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,HM(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Mw(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Jc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(At.fromBase64String(e))}catch(n){throw new S(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Js=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new S(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Zc=class{constructor(e){this._methodName=e}};var Xc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}};var v4=/^__.*__$/,Rw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new To(e,this.data,n,this.fieldTransforms)}},Jh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function zM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}var Nw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Xh(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(zM(this.Vu)&&v4.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},Pw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||uf(e)}Cu(e,n,r,i=!1){return new Nw({Vu:e,methodName:n,Du:r,path:Jt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pf(t){let e=t._freezeSettings(),n=uf(t._databaseId);return new Pw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WM(t,e,n,r,i,o={}){let s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);nI("Data must be an object, but it was:",s,r);let a=KM(r,s),c,u;if(o.merge)c=new pn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let d of o.mergeFields){let h=kw(e,d,n);if(!s.contains(h))throw new S(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);YM(l,h)||l.push(h)}c=new pn(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new Rw(new Yt(a),c,u)}var Zh=class t extends Zc{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function _4(t,e,n,r){let i=t.Cu(1,e,n);nI("Data must be an object, but it was:",i,r);let o=[],s=Yt.empty();Ao(r,(c,u)=>{let l=rI(e,c,n);u=Ze(u);let d=i.yu(l);if(u instanceof Zh)o.push(l);else{let h=su(u,d);h!=null&&(o.push(l),s.set(l,h))}});let a=new pn(o);return new Jh(s,a,i.fieldTransforms)}function w4(t,e,n,r,i,o){let s=t.Cu(1,e,n),a=[kw(e,r,n)],c=[i];if(o.length%2!=0)throw new S(_.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(kw(e,o[h])),c.push(o[h+1]);let u=[],l=Yt.empty();for(let h=a.length-1;h>=0;--h)if(!YM(u,a[h])){let p=a[h],v=c[h];v=Ze(v);let E=s.yu(p);if(v instanceof Zh)u.push(p);else{let D=su(v,E);D!=null&&(u.push(p),l.set(p,D))}}let d=new pn(u);return new Jh(l,d,s.fieldTransforms)}function I4(t,e,n,r=!1){return su(n,t.Cu(r?4:3,e))}function su(t,e){if(QM(t=Ze(t)))return nI("Unsupported field value:",e,t),KM(t,e);if(t instanceof Zc)return function(r,i){if(!zM(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=su(a,i.wu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ge.fromDate(r);return{timestampValue:Vh(i.serializer,o)}}if(r instanceof ge){let o=new ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vh(i.serializer,o)}}if(r instanceof Xc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jc)return{bytesValue:IM(i.serializer,r._byteString)};if(r instanceof wt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${hf(r)}`)}(t,e)}function KM(t,e){let n={};return ZA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{let o=su(i,e.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function QM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ge||t instanceof Xc||t instanceof Jc||t instanceof wt||t instanceof Zc)}function nI(t,e,n){if(!QM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=hf(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function kw(t,e,n){if((e=Ze(e))instanceof Js)return e._internalPath;if(typeof e=="string")return rI(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,n)}var E4=new RegExp("[~\\*/\\[\\]]");function rI(t,e,n){if(e.search(E4)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Js(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new S(_.INVALID_ARGUMENT,a+t+c)}function YM(t,e){return t.some(n=>n.isEqual(e))}var ef=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ow(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(iI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Ow=class extends ef{data(){return super.data()}};function iI(t,e){return typeof e=="string"?rI(t,e):e instanceof Js?e._internalPath:e._delegate._internalPath}function JM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new S(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var eu=class{},Fw=class extends eu{};function Vr(t,e,...n){let r=[];e instanceof eu&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof Vw).length,a=o.filter(c=>c instanceof tf).length;if(s>1||s>0&&a>0)throw new S(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var tf=class t extends Fw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return ZM(e._query,n),new So(e.firestore,e.converter,M_(e._query,n))}_parse(e){let n=pf(e.firestore);return function(o,s,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new S(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){YA(d,l);let p=[];for(let v of d)p.push(QA(c,o,v));h={arrayValue:{values:p}}}else h=QA(c,o,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||YA(d,l),h=I4(a,s,d,l==="in"||l==="not-in");return We.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function pr(t,e,n){let r=e,i=iI("where",t);return tf._create(i,r,n)}var Vw=class t extends eu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)ZM(s,c),s=M_(s,c)}(e._query,n),new So(e.firestore,e.converter,M_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function QA(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new S(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sM(e)&&n.indexOf("/")!==-1)throw new S(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!k.isDocumentKey(r))throw new S(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return EA(t,new k(r))}if(n instanceof wt)return EA(t,n._key);throw new S(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function YA(t,e){if(!Array.isArray(t)||t.length===0)throw new S(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZM(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new S(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new S(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Lw=class{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ao(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Xc(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=$w(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){let n=Or(e);return new ge(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);Te(SM(r));let i=new Rh(r.get(1),r.get(3)),o=new k(r.popFirst(5));return i.isEqual(n)||ur(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function XM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var vo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},nf=class extends ef{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(iI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ls=class extends nf{data(e={}){return super.data(e)}},rf=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ls(this._firestore,this._userDataWriter,r.key,r,new vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:D4(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function D4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}function mf(t){t=Ft(t,wt);let e=Ft(t.firestore,Vn);return p4(ff(e),t._key).then(n=>tx(e,t,n))}var tu=class extends Lw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}};function ea(t){t=Ft(t,So);let e=Ft(t.firestore,Vn),n=ff(e),r=new tu(e);return JM(t._query),m4(n,t._query).then(i=>new rf(e,r,t,i))}function ta(t,e,n){t=Ft(t,wt);let r=Ft(t.firestore,Vn),i=XM(t.converter,e,n);return yf(r,[WM(pf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ar.none())])}function gf(t,e,n,...r){t=Ft(t,wt);let i=Ft(t.firestore,Vn),o=pf(i),s;return s=typeof(e=Ze(e))=="string"||e instanceof Js?w4(o,"updateDoc",t._key,e,n,r):_4(o,"updateDoc",t._key,e),yf(i,[s.toMutation(t._key,ar.exists(!0))])}function oI(t){return yf(Ft(t.firestore,Vn),[new qc(t._key,ar.none())])}function ex(t,e){let n=Ft(t.firestore,Vn),r=It(t),i=XM(t.converter,e);return yf(n,[WM(pf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function na(t,...e){var n,r,i;t=Ze(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||KA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(KA(e[s])){let d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof wt)u=Ft(t.firestore,Vn),l=sf(t._key.path),c={next:d=>{e[s]&&e[s](tx(u,t,d))},error:e[s+1],complete:e[s+2]};else{let d=Ft(t,So);u=Ft(d.firestore,Vn),l=d._query;let h=new tu(u);c={next:p=>{e[s]&&e[s](new rf(u,h,d,p))},error:e[s+1],complete:e[s+2]},JM(t._query)}return function(h,p,v,E){let D=new Yc(E),x=new Qc(p,D,v);return h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return Zw(yield Qh(h),x)})),()=>{D.Qa(),h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return Xw(yield Qh(h),x)}))}}(ff(u),l,a,c)}function yf(t,e){return function(r,i){let o=new mn;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return r4(yield f4(r),i,o)})),o.promise}(ff(t),e)}function tx(t,e,n){let r=n.docs.get(e._key),i=new tu(t);return new nf(t,i,e._key,r,new vo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Zs=i})(ai),si(new ln("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Vn(new s_(r.getProvider("auth-internal")),new l_(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new S(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(u.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),lt(vA,"4.6.0",e),lt(vA,"4.6.0","esm2017")})();var gn=class{constructor(e,n,r,i,o,s,a,c,u,l,d,h){this.id=e,this.date=n,this.name=r,this.number=i,this.email=o,this.booking_type=s,this.start_time=a,this.end_time=c,this.total_amount=u,this.amount_received=l,this.balance=d,this.comments=h}toDictionary(){return{id:this.id,date:this.date,name:this.name,number:this.number,email:this.email,booking_type:this.booking_type,start_time:this.start_time,end_time:this.end_time,total_amount:this.total_amount,amount_received:this.amount_received,balance:this.balance,comments:this.comments}}};var vf=(()=>{let e=class e{constructor(){this.startTimes=["---","9:00 am","9:30 am","10:00 am","10:30 am","11:00 am","11:30 am","12:00 pm","12:30 pm","1:00 pm","1:30 pm","2:00 pm","2:30 pm","3:00 pm","3:30 pm","4:00 pm","4:30 pm","5:00 pm","5:30 pm","6:00 pm","6:30 pm","7:00 pm","7:30 pm","8:00 pm","8:30 pm","9:00 pm","9:30 pm"],this.formFields=["---","date","name","number","email","booking_type","start_time","end_time","total_amount","amount_received","balance","comments"]}getStartTimes(){return this.startTimes}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xe=(()=>{let e=class e{getObjById(r,i){return r.find(o=>o.id===i)}convertTimestampToDateStr(r){return r.toDate().toISOString().split("T")[0]}createNewBooking(){return new gn("",ge.now(),"",0,"","","","",0,0,0,"")}bookingDictToModel(r){return new gn(r.id,r.date,r.name,r.number,r.email,r.booking_type,r.start_time,r.end_time,r.total_amount,r.amount_received,r.balance,r.comments)}getBookingData(r){let o=new gn("",r.date,r.name,r.number,r.email,r.booking_type,r.start_time,r.end_time,r.total_amount,r.amount_received,r.balance,r.comments).toDictionary();return o.date=this.htmlDateToTimestamp(o.date),o}getBookingForm(){return this.bookingForm}openPageExcelUpload(){this.currentPage=""}setCurrentPage(r){r==="previous"?(this.currentPage=this.lastPage,this.lastPage="home"):this.currentPage=r}htmlDateToTimestamp(r){let i=new Date(r),o=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,1,0);return ge.fromDate(o)}calculateDurationHours(r,i){let o=new vf().startTimes,s=o.indexOf(r.toLowerCase()),a=o.indexOf(i.toLowerCase());return s===-1||a===-1?0:(a-s)*.5}updateBooking(r,i){let o=i.find(s=>s.id===r);this.bookingForm.patchValue({id:o.id,date:this.formatDate(o.date),name:o.name,number:o.number,email:o.email,booking_type:o.booking_type,start_time:o.start_time?.toLowerCase()??null,end_time:o.end_time?.toLowerCase()??null,total_amount:o.total_amount,amount_received:o.amount_received,balance:o.balance,comments:o.comments})}formatDate(r){let i=r.toDate(),o=""+(i.getMonth()+1),s=""+i.getDate(),a=i.getFullYear();return o.length<2&&(o="0"+o),s.length<2&&(s="0"+s),[a,o,s].join("-")}constructor(){this.currentPage="home",this.lastPage="home",this.showBookingsForYear=new Date().getFullYear(),this.showBookingsForMonth=new Date().getMonth()+1,this.tournamentModalTitle="",this.tournamentModalType="",this.tournamentModalValue="",this.tournamentId="",this.pages={home:"home","excel-match":"excel-match","excel-form":"excel-form","all-booking":"all-booking","add-booking":"add-booking"},this.bookingForm=new et({id:new me(""),date:new me("",Nn.required),name:new me("",Nn.required),number:new me(""),email:new me(""),booking_type:new me(""),start_time:new me(""),end_time:new me(""),total_amount:new me(0),amount_received:new me(0),balance:new me(0),comments:new me("")}),this.firstExcelData=[],this.fullExcelData=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function b4(t,e){if(t&1){let n=mt();m(0,"tr")(1,"th",4),y(2),Bt(3,"date"),O(4,"br"),y(5),Bt(6,"date"),g(),m(7,"td"),y(8),O(9,"br"),y(10),O(11,"br"),y(12),g(),m(13,"td"),y(14),O(15,"br"),y(16),O(17,"br"),y(18),g(),m(19,"td")(20,"button",5),R("click",function(){let i=Ae(n).$implicit,o=ce();return Me(o.updateBooking(i.id))}),y(21,"Update"),g()()()}if(t&2){let n=e.$implicit,r=ce();A(2),Ct(" ",$t(3,8,n.date.toDate(),"dd-MM-yyyy"),""),A(3),Ct(" ",$t(6,11,n.date.toDate(),"EEEE")," "),A(3),_e(n.name),A(2),_e(n.number),A(2),_e(n.booking_type),A(2),_e(n.start_time),A(2),_e(n.end_time),A(2),Ct("",r.getDurhour(n.start_time,n.end_time)," hr")}}var nx=(()=>{let e=class e{constructor(r){this.sharedService=r,this.db=fr(),this.bookings=[],this.router=w(Je)}ngOnInit(){this.get2daysBooking()}getDurhour(r,i){return r!=null&&i!=null?this.sharedService.calculateDurationHours(r,i):"x"}updateBooking(r){this.sharedService.updateBooking(r,this.bookings),this.router.navigateByUrl("/booking-form")}get2daysBooking(){return f(this,null,function*(){console.log("get2daysBooking()");let r=new Date().setHours(0,0,0,0),i=new Date(r);console.log(i);let o=Vr(hr(this.db,"bookings"),pr("date",">=",ge.fromDate(i))),s=yield ea(o);this.bookings=[],s.forEach(a=>{console.log(a.id," => ",a.data());let c=a.data(),u=new gn(a.id,c.date,c.name,c.number,c.email,c.booking_type,c.start_time,c.end_time,c.total_amount,c.amount_received,c.balance,c.comments);this.bookings.push(u)})})}};e.\u0275fac=function(i){return new(i||e)(M(Xe))},e.\u0275cmp=ve({type:e,selectors:[["app-bookings"]],standalone:!0,features:[we],decls:16,vars:1,consts:[[1,"container"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","button",1,"btn","btn-primary","mx-1",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"h3"),y(2," Today & Later "),g()(),m(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),y(7,"Date"),g(),m(8,"th",2),y(9,"Booked by"),g(),m(10,"th",2),y(11,"Slot"),g(),m(12,"th",2),y(13,"Action"),g()()(),m(14,"tbody"),Ne(15,b4,22,14,"tr",3),g()()),i&2&&(A(15),$("ngForOf",o.bookings))},dependencies:[ct,cn,Kn]});let t=e;return t})();var xo=class{constructor(e,n,r,i,o,s,a,c,u,l,d,h){this.id=e,this.date=n,this.sport=r,this.isLive=i,this.isCompleted=o,this.isLanding=s,this.bannerLastDate=a,this.bannerDesc=c,this.bannerTitle=u,this.formHeading=l,this.formDesc=d,this.formTerms=h}},wf={toFirestore(t){let e={id:t.id,date:t.date,sport:t.sport,isLive:t.isLive,isCompleted:t.isCompleted,isLanding:t.isCompleted,bannerLastDate:t.bannerLastDate,bannerDesc:t.bannerDesc,bannerTitle:t.bannerTitle,formHeading:t.formHeading,formDesc:t.formDesc,formTerms:t.formTerms};return Object.keys(e).forEach(n=>{e[n]===void 0&&delete e[n]}),e},fromFirestore(t,e){let n=t.data(e);return new xo(n.id,n.date,n.sport,n.isLive,n.isCompleted,n.isLanding,n.bannerLastDate,n.bannerDesc,n.bannerTitle,n.formHeading,n.formDesc,n.formTerms)}};var Ro=class{constructor(e,n){this.bannerTitle=e,this.bannerDesc=n}};var yn=(()=>{let e=class e{constructor(){this.db=fr(),this.tournamentQueryCompleted=Vr(hr(this.db,"tournament"),pr("isCompleted","==",!1)).withConverter(wf)}addData(r,i){return f(this,null,function*(){try{let o=yield ex(hr(this.db,i),r);yield ta(o,fe(T({},r),{id:o.id}))}catch(o){console.error("Error writing document: ",o),alert("Error writing document: "+o)}})}addTournament(r){console.log(r),this.addData(T({},r),"tournament")}getTournament(r){return f(this,null,function*(){console.log("firestore getTournament");let i=It(this.db,"tournament",r).withConverter(wf),o=yield mf(i);if(o.exists())return o.data();console.log("No such document!")})}removeAllLandingTournament(){return f(this,null,function*(){let r=Vr(hr(this.db,"tournament"),pr("isLanding","==",!0)),o=(yield ea(r)).docs.map(s=>f(this,null,function*(){let a=It(this.db,"tournament",s.id);return gf(a,{isLanding:!1})}));yield Promise.all(o),console.log("All landing-page tournaments have been updated to false.")})}setLandingTournament(r){return f(this,null,function*(){let i=It(this.db,"tournament",r);yield gf(i,{isLanding:!0})})}deleteTournament(r){return f(this,null,function*(){try{console.log("Deleting doc id",r),yield oI(It(this.db,"tournament",r))}catch(i){console.error("Error deleting document: ",i),alert("Error deleting document: "+i)}})}updateTournament(r,i){return f(this,null,function*(){console.log("firestore service: updating tournament"),console.log(r);let o=It(this.db,"tournament",i).withConverter(wf);yield ta(o,r)})}patchTournament(r,i){return f(this,null,function*(){let o=It(this.db,"tournament",i);yield gf(o,r),console.log("firestore service : patchTournament completed")})}addBooking(r){console.log(r),this.addData(r,"bookings")}updateBooking(r,i){return f(this,null,function*(){let o=T({},r);yield ta(It(this.db,"bookings",i),o)})}deleteBooking(r){return f(this,null,function*(){yield oI(It(this.db,"bookings",r))})}getDefaultTour(){return f(this,null,function*(){let r=It(this.db,"tournament","default"),i=yield mf(r);return i.exists()?new Ro(i.data().bannerTitle,i.data().bannerDesc):new Ro("x","x")})}setDefaultTour(r){return f(this,null,function*(){let i=It(this.db,"tournament","default");yield ta(i,T({},r)),console.log("Setting default successfull")})}getDefaultTourForm(){return f(this,null,function*(){let r=It(this.db,"tournament","defaultForm"),i=yield mf(r);return i.exists()?i.data():{}})}setDefaultTourForm(r){return f(this,null,function*(){let i=It(this.db,"tournament","defaultForm");yield ta(i,r),console.log("Setting defaultForm successfull")})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function C4(t,e){t&1&&(m(0,"button",31),y(1,` Upload Excel
`),g())}function T4(t,e){if(t&1){let n=mt();m(0,"div",32)(1,"button",33),R("click",function(){Ae(n);let i=ce();return Me(i.goBack())}),y(2," Close "),g(),m(3,"button",34),R("click",function(){Ae(n);let i=ce();return Me(i.onDelete())}),y(4," Delete Booking "),g()()}}function S4(t,e){if(t&1&&(m(0,"option",35),y(1),g()),t&2){let n=e.$implicit;br("value",n),A(),_e(n)}}function A4(t,e){if(t&1&&(m(0,"option",35),y(1),g()),t&2){let n=e.$implicit;br("value",n),A(),_e(n)}}var rx=(()=>{let e=class e{constructor(r){this.location=r,this.startTimes=[],this.bookingForm=new et({}),this.constantsService=w(vf),this.sharedService=w(Xe),this.firestoreService=w(yn),this.startTimes=this.constantsService.getStartTimes(),this.bookingForm=this.sharedService.getBookingForm(),console.log(this.bookingForm.value)}goBack(){this.location.back()}onSubmit(){console.warn(this.bookingForm.value),this.bookingData=this.bookingForm.value;let r=this.sharedService.getBookingData(this.bookingData);this.bookingData.id!==null&&this.bookingData.id!==""?(console.log("updateData()"),this.firestoreService.updateBooking(r,this.bookingData.id),this.location.back(),this.bookingForm.reset()):(console.log("addData()"),this.firestoreService.addBooking(r),alert("Booking added!"),this.bookingForm.reset())}onDelete(){console.log("onDelete()"),confirm("Are you sure you want to delete this booking?")&&(this.bookingData=this.bookingForm.value,this.firestoreService.deleteBooking(this.bookingData.id),console.log("Delete Successful"),this.location.back())}};e.\u0275fac=function(i){return new(i||e)(M(Wi))},e.\u0275cmp=ve({type:e,selectors:[["app-bookingform"]],standalone:!0,features:[we],decls:55,vars:8,consts:[["routerLink","/excel-form","type","button","class","btn btn-primary mx-1",4,"ngIf"],["class","d-flex flex-row-reverse",4,"ngIf"],[1,"container"],[1,"row",3,"ngSubmit","formGroup"],["id","id","hidden","","formControlName","id"],[1,"col-12","col-lg-6"],["for","date",1,"form-label","mt-4"],["id","date","type","date","placeholder","Enter Date","formControlName","date",1,"form-control"],["for","name",1,"form-label","mt-4"],["id","name","type","text","placeholder","Enter Name","formControlName","name",1,"form-control"],["for","number",1,"form-label","mt-4"],["id","number","type","tel","placeholder","Enter Mobile","formControlName","number",1,"form-control"],["for","email",1,"form-label","mt-4"],["id","email","type","email","placeholder","Enter Email","formControlName","email",1,"form-control"],["for","booking_type",1,"form-label","mt-4"],["id","booking_type","type","text","placeholder","Enter Booking Type","formControlName","booking_type",1,"form-control"],[1,"col-6","col-lg-6"],["for","start_time",1,"form-label","mt-4"],["id","start_time","formControlName","start_time",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","end_time",1,"form-label","mt-4"],["id","end_time","formControlName","end_time",1,"form-select"],["for","total_amount",1,"form-label","mt-4"],["id","total_amount","type","number","placeholder","Enter Total Amount","formControlName","total_amount",1,"form-control"],["for","amount_received",1,"form-label","mt-4"],["id","amount_received","type","number","placeholder","Enter Amount Received","formControlName","amount_received",1,"form-control"],["for","balance",1,"form-label","mt-4"],["id","balance","type","number","formControlName","balance",1,"form-control",3,"readOnly","value"],["for","comments",1,"form-label","mt-4"],["id","comments","type","text","placeholder","Enter Comments","formControlName","comments",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["routerLink","/excel-form","type","button",1,"btn","btn-primary","mx-1"],[1,"d-flex","flex-row-reverse"],["type","button",1,"btn","btn-primary","mx-1","float-end",3,"click"],["type","button",1,"btn","btn-danger","mx-1","float-end",3,"click"],[3,"value"]],template:function(i,o){if(i&1&&(Ne(0,C4,2,0,"button",0)(1,T4,5,0,"div",1),m(2,"div",2)(3,"form",3),R("ngSubmit",function(){return o.onSubmit()}),O(4,"input",4),m(5,"div",5)(6,"label",6),y(7,"Date: "),g(),O(8,"input",7),g(),m(9,"div",5)(10,"label",8),y(11,"Name: "),g(),O(12,"input",9),g(),m(13,"div",5)(14,"label",10),y(15,"Mobile No.: "),g(),O(16,"input",11),g(),m(17,"div",5)(18,"label",12),y(19,"Email: "),g(),O(20,"input",13),g(),m(21,"div",5)(22,"label",14),y(23,"Booking Type: "),g(),O(24,"input",15),g(),m(25,"div",16)(26,"label",17),y(27,"Start Time"),g(),m(28,"select",18),Ne(29,S4,2,2,"option",19),g()(),m(30,"div",16)(31,"label",20),y(32,"End Time"),g(),m(33,"select",21),Ne(34,A4,2,2,"option",19),g()(),m(35,"div",5)(36,"label",22),y(37,"Total Amount: "),g(),O(38,"input",23),g(),m(39,"div",5)(40,"label",24),y(41,"Amount Received: "),g(),O(42,"input",25),g(),m(43,"div",5)(44,"label",26),y(45,"Balance: "),g(),O(46,"input",27),g(),m(47,"div",5)(48,"label",28),y(49,"Comments: "),g(),O(50,"input",29),g(),m(51,"p"),y(52,"Complete the form to enable button."),g(),m(53,"button",30),y(54," Submit "),g()()()),i&2){let s,a;$("ngIf",((s=o.bookingForm.get("id"))==null?null:s.value)===""||!((s=o.bookingForm.get("id"))!=null&&s.value)),A(),$("ngIf",((a=o.bookingForm.get("id"))==null?null:a.value)!==""&&((a=o.bookingForm.get("id"))==null?null:a.value)),A(2),$("formGroup",o.bookingForm),A(26),$("ngForOf",o.startTimes),A(5),$("ngForOf",o.startTimes),A(12),$("readOnly",!0)("value",o.bookingForm.get("total_amount").value-o.bookingForm.get("amount_received").value),A(7),$("disabled",!o.bookingForm.valid)}},dependencies:[hn,Ot,Cs,Ts,dn,av,pi,Pt,kt,Wt,Kt,ct,cn,Xr,gs]});let t=e;return t})();function M4(t,e){if(t&1&&(m(0,"option",11),y(1),g()),t&2){let n=e.$implicit;$("value",n),A(),_e(n)}}function x4(t,e){if(t&1&&(m(0,"option",11),y(1),g()),t&2){let n=e.$implicit;$("value",n),A(),_e(n)}}function R4(t,e){if(t&1){let n=mt();m(0,"tr")(1,"th",12),y(2),Bt(3,"date"),O(4,"br"),y(5),Bt(6,"date"),g(),m(7,"td"),y(8),O(9,"br"),y(10),O(11,"br"),y(12),g(),m(13,"td"),y(14),O(15,"br"),y(16),O(17,"br"),y(18),g(),m(19,"td")(20,"button",13),R("click",function(){let i=Ae(n).$implicit,o=ce();return Me(o.updateBooking(i.id))}),y(21,"Update"),g()()()}if(t&2){let n=e.$implicit,r=ce();A(2),Ct(" ",$t(3,8,n.date.toDate(),"dd-MM-yyyy"),""),A(3),Ct(" ",$t(6,11,n.date.toDate(),"EEEE")," "),A(3),_e(n.name),A(2),_e(n.number),A(2),_e(n.booking_type),A(2),_e(n.start_time),A(2),_e(n.end_time),A(2),Ct("",r.getDurhour(n.start_time,n.end_time)," hr")}}var ix=(()=>{let e=class e{constructor(r){this.sharedService=r,this.bookings=[],this.router=w(Je),this.years=[],this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.bookMonthYear=new et({year:new me(this.sharedService.showBookingsForYear),month:new me(this.getMonthName(this.sharedService.showBookingsForMonth))})}ngOnInit(){return f(this,null,function*(){this.bookMonthYear.get("year")?.valueChanges.subscribe(o=>{console.log("Year changed:",o),this.sharedService.showBookingsForYear=o,console.log("updating year"),this.bookings=[],this.getAllBooking()}),this.bookMonthYear.get("month")?.valueChanges.subscribe(o=>{console.log("Month changed:",o),console.log("updating month"," - current :",this.sharedService.showBookingsForMonth,"new :",o),this.sharedService.showBookingsForMonth=this.getMonthNumber(o),this.bookings=[],this.getAllBooking()}),yield this.getAllBooking();let r=new Date().getFullYear(),i=2021;this.years=Array.from({length:r-i+1},(o,s)=>i+s)})}getMonthNumber(r){return this.months.indexOf(r)+1}getMonthName(r){return this.months[r-1]}getAllBooking(){return f(this,null,function*(){let r=fr(),i=this.sharedService.showBookingsForYear,o=this.sharedService.showBookingsForMonth,s=new Date(i,o-1,1),a=new Date(i,o,0);console.log("getAllBooking()",s,a);let c=Vr(hr(r,"bookings"),pr("date",">=",ge.fromDate(s)),pr("date","<=",ge.fromDate(a))),u=yield ea(c);console.log("Number of querySnapshot is",u.size),u.forEach(l=>{let d=l.data(),h=new gn(l.id,d.date,d.name,d.number,d.email,d.booking_type,d.start_time,d.end_time,d.total_amount,d.amount_received,d.balance,d.comments);this.bookings.push(h)})})}updateBooking(r){this.sharedService.updateBooking(r,this.bookings),this.router.navigateByUrl("/booking-form")}getDurhour(r,i){return r!=null&&i!=null?this.sharedService.calculateDurationHours(r,i):"x"}};e.\u0275fac=function(i){return new(i||e)(M(Xe))},e.\u0275cmp=ve({type:e,selectors:[["app-allbookings"]],standalone:!0,features:[we],decls:26,vars:4,consts:[[1,"container"],[3,"formGroup"],[1,"row"],[1,"col-6","col-lg-6"],["for","year",1,"form-label","mt-4"],["id","year","formControlName","year",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["id","year","formControlName","month",1,"form-select"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[3,"value"],["scope","row"],["type","button",1,"btn","btn-primary","mx-1",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),y(5,"Year: "),g(),m(6,"select",5),Ne(7,M4,2,2,"option",6),g()(),m(8,"div",3)(9,"label",4),y(10,"Month: "),g(),m(11,"select",7),Ne(12,x4,2,2,"option",6),g()()()()(),m(13,"table",8)(14,"thead")(15,"tr")(16,"th",9),y(17,"Date"),g(),m(18,"th",9),y(19,"Booked by"),g(),m(20,"th",9),y(21,"Slot"),g(),m(22,"th",9),y(23,"Action"),g()()(),m(24,"tbody"),Ne(25,R4,22,14,"tr",10),g()()),i&2&&(A(),$("formGroup",o.bookMonthYear),A(6),$("ngForOf",o.years),A(5),$("ngForOf",o.months),A(13),$("ngForOf",o.bookings))},dependencies:[ct,cn,Kn,hn,Ot,Cs,Ts,pi,Pt,kt,Wt,Kt]});let t=e;return t})();var ox=(()=>{let e=class e{constructor(r){this.sharedService=r,this.router=w(Je),this.excelForm=new et({excel_data:new me("")})}onSubmitExcel(){console.warn(this.excelForm.value.excel_data);let r=this.excelForm.value.excel_data?.split(`
`)||[],i=[];r.forEach(o=>{let s=o.split("	");i.push(s)}),console.log("Excel lines:",i.length),this.sharedService.fullExcelData=i,this.sharedService.firstExcelData=i[0],this.router.navigateByUrl("/excel-match")}};e.\u0275fac=function(i){return new(i||e)(M(Xe))},e.\u0275cmp=ve({type:e,selectors:[["app-excel-form"]],standalone:!0,features:[we],decls:14,vars:2,consts:[[1,"container"],[1,"row",3,"ngSubmit","formGroup"],["for","excel_data",1,"form-label","mt-4"],["id","excel_data","cols","30","rows","10","placeholder","Paste Excel Data","formControlName","excel_data",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"form",1),R("ngSubmit",function(){return o.onSubmitExcel()}),m(2,"label",2),y(3,"Excel Data: "),g(),O(4,"textarea",3),m(5,"button",4),y(6," Submit "),g()()(),m(7,"div",0)(8,"p"),y(9,"Note:"),g(),m(10,"p"),y(11,"Pasted data is split by newline (for Rows) and then split by tab (for Columns)."),g(),m(12,"p"),y(13,"Tested on google sheets"),g()()),i&2&&(A(),$("formGroup",o.excelForm),A(4),$("disabled",!o.excelForm.valid))},dependencies:[hn,Ot,dn,Pt,kt,Wt,Kt]});let t=e;return t})();function N4(t,e){if(t&1&&(m(0,"option",10),y(1),g()),t&2){let n=e.$implicit,r=e.first;$("selected",r),A(),_e(n)}}function P4(t,e){if(t&1){let n=mt();m(0,"div",4),y(1),g(),m(2,"div",5)(3,"select",6),qm("ngModelChange",function(i){let o=Ae(n).index,s=ce();return ND(s.selectedFields[o],i)||(s.selectedFields[o]=i),Me(i)}),Ne(4,N4,2,2,"option",7),g()(),m(5,"div",5)(6,"fieldset",8),O(7,"input",9),g()()}if(t&2){let n=e.$implicit,r=e.index,i=ce();A(),$m(" Row",r+1," (",i.getAlphabet(r+1),") "),A(2),Hi("id","row",r,""),Hi("name","select",r,""),Hm("ngModel",i.selectedFields[r]),A(),$("ngForOf",i.formFields),A(3),br("placeholder",n)}}var sx=(()=>{let e=class e{constructor(r){this.sharedService=r,this.formFields=[],this.selectedFields=[],this.firestoreService=w(yn),this.router=w(Je),this.firstExcelData=this.sharedService.firstExcelData;let i=new gn("",ge.now(),"",new Number,"","","","",new Number,new Number,new Number,""),o=Object.keys(i).slice(1);o.unshift("---"),this.formFields=o}ngOnInit(){this.sharedService.firstExcelData.forEach((r,i)=>{this.selectedFields[i]=this.formFields[0]})}onSubmit(){console.log("Selected Fields:",this.selectedFields),this.sharedService.fullExcelData.forEach(r=>{let i={};this.formFields.slice(1).forEach((s,a)=>{let c=this.selectedFields.indexOf(s);c!==-1?i[s]=r[c]:i[s]=""}),console.log(i);let o=this.sharedService.getBookingData(i);this.firestoreService.addBooking(o)}),this.sharedService.fullExcelData=[],this.sharedService.firstExcelData=[],this.router.navigateByUrl("/")}getAlphabet(r){return String.fromCharCode(65+r-1)}};e.\u0275fac=function(i){return new(i||e)(M(Xe))},e.\u0275cmp=ve({type:e,selectors:[["app-excel-match"]],standalone:!0,features:[we],decls:5,vars:1,consts:[[1,"container"],[1,"row",3,"ngSubmit"],["ngFor","",3,"ngForOf"],["type","submit",1,"btn","btn-primary"],[1,"col-2"],[1,"col-5"],[1,"form-select",3,"ngModelChange","id","name","ngModel"],[3,"selected",4,"ngFor","ngForOf"],["disabled",""],["id","disabledInput","type","text","disabled","",1,"form-control",3,"placeholder"],[3,"selected"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"form",1),R("ngSubmit",function(){return o.onSubmit()}),Ne(2,P4,8,9,"ng-template",2),m(3,"button",3),y(4,"Submit"),g()()()),i&2&&(A(2),$("ngForOf",o.firstExcelData))},dependencies:[ct,cn,QT,Ot,Cs,Ts,pi,Pt,kt,sv,ov]});let t=e;return t})();function k4(t,e){if(t&1){let n=mt();m(0,"button",24),R("click",function(){Ae(n);let i=ce().$implicit,o=ce();return Me(o.landingPage(i.id))}),y(1,"Set as Landing Page"),g()}}function O4(t,e){if(t&1){let n=mt();m(0,"button",24),R("click",function(){Ae(n);let i=ce().$implicit,o=ce();return Me(o.removeLandingPage(i.id))}),y(1,"Remove Landing Page"),g()}}function F4(t,e){if(t&1){let n=mt();m(0,"tr")(1,"td"),y(2),Bt(3,"date"),g(),m(4,"td"),y(5),g(),m(6,"td")(7,"input",19),R("change",function(i){let o=Ae(n).$implicit,s=ce();return Me(s.updateIsLive(o.id,i))}),g()(),m(8,"td")(9,"button",20),R("click",function(){let i=Ae(n).$implicit,o=ce();return Me(o.editTour(i.id))}),y(10,"Edit"),g(),m(11,"button",21),R("click",function(){let i=Ae(n).$implicit,o=ce();return Me(o.deleteTour(i.id))}),y(12,"Delete"),g(),m(13,"button",22),R("click",function(){let i=Ae(n).$implicit,o=ce();return Me(o.complete(i.id))}),y(14,"Completed"),g(),m(15,"button",20),R("click",function(){let i=Ae(n).$implicit,o=ce();return Me(o.manage(i.id))}),y(16,"Manage"),g(),Ne(17,k4,2,0,"button",23)(18,O4,2,0,"button",23),g()()}if(t&2){let n=e.$implicit;A(2),_e($t(3,5,n.date.toDate(),"dd-MM-yyyy")),A(3),_e(n.sport),A(2),$("checked",n.isLive),A(10),$("ngIf",n.isLanding==!1),A(),$("ngIf",n.isLanding==!0)}}var ax=(()=>{let e=class e{constructor(){this.sharedService=w(Xe),this.firestoreService=w(yn),this.router=w(Je),this.tournaments=[],this.createTourForm=new et({date:new me("",Nn.required),sport:new me("cricket",Nn.required)})}ngOnInit(){this.getAllTournament()}ngOnDestroy(){this.unsubscribe&&(console.log("unsubscribing tournament"),this.unsubscribe())}create(){return f(this,null,function*(){console.log(this.createTourForm.value);let r=yield this.firestoreService.getDefaultTour(),i=new Date(this.createTourForm.value.date),o=new Date(i);o.setDate(i.getDate()-1),this.firestoreService.addTournament(new xo("",ge.fromDate(i),this.createTourForm.value.sport,!1,!1,!1,ge.fromDate(o),r.bannerDesc,r.bannerTitle,"","",""))})}deleteTour(r){window.confirm("Are you sure to Delete this tournament?")&&this.firestoreService.deleteTournament(r)}editTour(r){this.sharedService.tournamentId=r,this.router.navigateByUrl("/edit-tournament")}complete(r){let i=this.tournaments.find(o=>o.id===r);i.isCompleted=!0,this.firestoreService.updateTournament(i,r)}manage(r){this.router.navigateByUrl("/manage-tournament")}landingPage(r){return f(this,null,function*(){yield this.firestoreService.removeAllLandingTournament(),yield this.firestoreService.setLandingTournament(r)})}removeLandingPage(r){return f(this,null,function*(){let i=this.tournaments.find(o=>o.id===r);i?(i.isLanding=!1,yield this.firestoreService.updateTournament(i,r),console.log("removeLandingPage: removed successfully")):console.log("removeLandingPage: not found")})}getAllTournament(){return f(this,null,function*(){let r=this.firestoreService.tournamentQueryCompleted;this.unsubscribe=na(r,i=>{this.tournaments=[],new Date().setHours(0,0,0,0),console.log("getAllTournament()"),i.forEach(s=>{let a=s.data();this.tournaments.push(a)}),console.log(this.tournaments)})})}updateIsLive(r,i){let o=this.tournaments.find(u=>u.id===r),s=i.target.checked,a=s?"Do you want to mark this event live?":"Do you want to mark this event not live?";window.confirm(a)?(console.log("updateIsLive",r),o.isLive=s,this.firestoreService.updateTournament(o,r)):i.target.checked=!s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-tournament"]],standalone:!0,features:[we],decls:41,vars:3,consts:[[1,"container","my-3",3,"ngSubmit","formGroup"],[1,"card","p-3"],[1,"row"],[1,"col-md-4"],[1,"form-label"],["type","date","formControlName","date",1,"form-control"],[1,"form-check"],["id","formCheck-1","type","radio","value","cricket","formControlName","sport",1,"form-check-input"],["for","formCheck-1",1,"form-check-label"],["id","formCheck-2","type","radio","value","football","formControlName","sport",1,"form-check-input"],["for","formCheck-2",1,"form-check-label"],[1,"col-md-4","d-xl-flex","justify-content-xl-center","align-items-xl-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"container"],[1,"d-flex","justify-content-between"],["routerLink","/old-tournaments",1,"btn","btn-primary"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["type","checkbox",3,"change","checked"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm","me-3",3,"click"],["class","btn btn-primary btn-sm","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"]],template:function(i,o){i&1&&(m(0,"form",0),R("ngSubmit",function(){return o.create()}),m(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),y(5,"Date"),g(),O(6,"input",5),g(),m(7,"div",3)(8,"label",4),y(9,"Sport"),g(),m(10,"div",6),O(11,"input",7),m(12,"label",8),y(13,"Cricket"),g()(),m(14,"div",6),O(15,"input",9),m(16,"label",10),y(17,"Football"),g()()(),m(18,"div",11)(19,"button",12),y(20,"Create"),g()()()()(),m(21,"div",13)(22,"div",14)(23,"h3"),y(24,"Upcoming Tournaments"),g(),m(25,"button",15),y(26,"View Completed"),g()(),m(27,"div",16)(28,"table",17)(29,"thead")(30,"tr")(31,"th"),y(32,"Date"),g(),m(33,"th"),y(34,"Sport"),g(),m(35,"th"),y(36,"Live"),g(),m(37,"th"),y(38,"Action"),g()()(),m(39,"tbody"),Ne(40,F4,19,8,"tr",18),g()()()()),i&2&&($("formGroup",o.createTourForm),A(19),$("disabled",!o.createTourForm.valid),A(21),$("ngForOf",o.tournaments))},dependencies:[hn,Ot,dn,cv,Pt,kt,Wt,Kt,ct,cn,Xr,Kn,gs]});let t=e;return t})();function V4(t,e){if(t&1){let n=mt();m(0,"tr")(1,"td"),y(2),Bt(3,"date"),g(),m(4,"td"),y(5),g(),m(6,"td")(7,"button",6),R("click",function(){let i=Ae(n).$implicit,o=ce();return Me(o.editTour(i.id))}),y(8,"Edit"),g(),m(9,"button",7),R("click",function(){let i=Ae(n).$implicit,o=ce();return Me(o.deleteTour(i.id))}),y(10,"Delete"),g(),m(11,"button",8),R("click",function(){let i=Ae(n).$implicit,o=ce();return Me(o.incomplete(i.id))}),y(12,"Incomplete"),g()()()}if(t&2){let n=e.$implicit;A(2),_e($t(3,2,n.date.toDate(),"dd-MM-yyyy")),A(3),_e(n.sport)}}var cx=(()=>{let e=class e{constructor(){this.tournaments=[],this.firestoreService=w(yn)}ngOnInit(){this.getAllTournament()}ngOnDestroy(){this.unsubscribe&&(console.log("unsubscribing tournament"),this.unsubscribe())}getAllTournament(){return f(this,null,function*(){let r=fr(),i=Vr(hr(r,"tournament"),pr("isCompleted","==",!0));this.unsubscribe=na(i,o=>{this.tournaments=[],new Date().setHours(0,0,0,0),console.log("getAllTournament()"),o.forEach(a=>{let c=a.data();this.tournaments.push({id:a.id,date:c.date,sport:c.sport,isLive:c.isLive,isCompleted:c.isCompleted,isLanding:c.isLanding,bannerLastDate:c.bannerLastDate,bannerDesc:c.bannerDesc,bannerTitle:c.bannerTitle,formHeading:c.formHeading,formDesc:c.formDesc,formTerms:c.formTerms})})})})}editTour(r){}deleteTour(r){window.confirm("Are you sure to Delete this tournament?")&&this.firestoreService.deleteTournament(r)}incomplete(r){let i=this.tournaments.find(o=>o.id===r);i.isCompleted=!1,this.firestoreService.updateTournament(i,r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-old-tournaments"]],standalone:!0,features:[we],decls:18,vars:1,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["routerLink","/old-tournaments",1,"btn","btn-primary"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"div",1)(2,"h3"),y(3,"Upcoming Tournaments"),g(),m(4,"button",2),y(5,"View Completed"),g()(),m(6,"div",3)(7,"table",4)(8,"thead")(9,"tr")(10,"th"),y(11,"Date"),g(),m(12,"th"),y(13,"Sport"),g(),m(14,"th"),y(15,"Action"),g()()(),m(16,"tbody"),Ne(17,V4,13,5,"tr",5),g()()()()),i&2&&(A(17),$("ngForOf",o.tournaments))},dependencies:[ct,cn,Kn]});let t=e;return t})();var ux=(()=>{let e=class e{constructor(){this.firestoreService=w(yn),this.tourForm=new et({heading:new me(""),description:new me(""),terms:new me("")})}ngOnChanges(r){this.tournament&&(console.log("change detected: ",this.tournament),this.tourForm.patchValue({heading:this.tournament.formHeading,description:this.tournament.formDesc,terms:this.tournament.formTerms}))}onSubmit(){let r=this.tourForm.value,i={};r.heading!==void 0&&(i.formHeading=r.heading),r.description!==void 0&&(i.formDesc=r.description),r.terms!==void 0&&(i.formTerms=r.terms),console.log(i),this.firestoreService.patchTournament(i,this.tournament.id),alert("Successfully updated")}updateDefaults(){if(confirm("This will override previous defaults, continue?")){let r=this.tourForm.value,i={};r.heading!==void 0&&(i.formHeading=r.heading),r.description!==void 0&&(i.formDesc=r.description),r.terms!==void 0&&(i.formTerms=r.terms),this.firestoreService.setDefaultTourForm(i),alert("Setting defaults successful")}}applyDefaults(){return f(this,null,function*(){let r=yield this.firestoreService.getDefaultTourForm();this.tourForm.patchValue({heading:r.formHeading,description:r.formDesc,terms:r.formTerms})})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-edit-tournament-form"]],inputs:{tournament:"tournament"},standalone:!0,features:[nn,we],decls:31,vars:1,consts:[[1,"container"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"btn","btn-outline-danger","btn-sm","me-2",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"card-body"],[1,"row",3,"ngSubmit","formGroup"],[1,"col-12"],["for","heading",1,"form-label","mt-4"],["id","heading","type","text","placeholder","Enter Heading","formControlName","heading",1,"form-control"],["for","description",1,"form-label","mt-4"],["id","description","type","text","placeholder","Enter description","formControlName","description",1,"form-control"],[1,"mt-4"],[1,""],["for","terms",1,"form-label","mt-4"],["id","terms","type","text","placeholder","Enter terms","formControlName","terms","rows","10",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-2"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),y(4,"Tournament Form Content"),g(),m(5,"div")(6,"button",3),R("click",function(){return o.updateDefaults()}),y(7,"Save as Default"),g(),m(8,"button",4),R("click",function(){return o.applyDefaults()}),y(9,"Apply Default"),g()()(),m(10,"div",5)(11,"form",6),R("ngSubmit",function(){return o.onSubmit()}),m(12,"div",7)(13,"label",8),y(14,"Heading: "),g(),O(15,"input",9),g(),m(16,"div",7)(17,"label",10),y(18,"Description: "),g(),O(19,"input",11),g(),m(20,"div",7)(21,"p",12),y(22,"Players:"),g(),m(23,"p",13),y(24,"[10 players name and number]"),g()(),m(25,"div",7)(26,"label",14),y(27,"Terms: "),g(),O(28,"textarea",15),g(),m(29,"button",16),y(30," Submit "),g()()()()()),i&2&&(A(11),$("formGroup",o.tourForm))},dependencies:[hn,Ot,dn,Pt,kt,Wt,Kt]});let t=e;return t})();var L4=["modal"];function U4(t,e){if(t&1){let n=mt();m(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h5",18),y(5),g(),m(6,"button",19),R("click",function(){Ae(n);let i=ce();return Me(i.closeModal())}),O(7,"span",20),g()(),m(8,"div",21),O(9,"input",22,0),g(),m(11,"div",23)(12,"button",24),R("click",function(){Ae(n);let i=RD(10),o=ce();return o.closeModal(),Me(o.onSubmit(o.tournamentModalKey,i.value))}),y(13," Save changes "),g(),m(14,"button",25),R("click",function(){Ae(n);let i=ce();return Me(i.closeModal())}),y(15," Close "),g()()()()()}if(t&2){let n=ce();A(5),_e(n.tournamentModalTitle),A(4),br("type",n.tournamentModalType=="date"?"date":"text"),Hi("placeholder","Enter ",n.tournamentModalTitle,""),br("value",n.tournamentModalValue)}}var lx=(()=>{let e=class e{constructor(){this.sharedService=w(Xe),this.firestoreService=w(yn),this.isVisible=!1,this.tourId="",this.tournamentModalTitle="",this.tournamentModalType="",this.tournamentModalValue="",this.tournamentModalKey=""}openModal(){this.isVisible=!0,console.log()}closeModal(){this.isVisible=!1}ngOnInit(){this.tourId=this.sharedService.tournamentId,this.getDefaultTour(),this.listenData()}ngOnDestroy(){this.unsubscribe&&(console.log("unsubscribing edit"),this.unsubscribe())}getDefaultTour(){return f(this,null,function*(){this.defaultTournament=yield this.firestoreService.getDefaultTour()})}listenData(){let r=fr(),i=It(r,"tournament/"+this.tourId);this.unsubscribe=na(i,o=>{if(o.exists()){let s=o.data();this.tournament=new xo(s.id,s.date,s.sport,s.isLive,s.isCompleted,s.isLanding,s.bannerLastDate,s.bannerDesc,s.bannerTitle,s.formHeading,s.formDesc,s.formTerms),console.log("Document data:",this.tournament)}else console.log("No such document!")})}setTourModal(r,i,o,s){this.tournamentModalTitle=r,this.tournamentModalType=i,this.tournamentModalValue=o,this.tournamentModalKey=s}editHeading(){this.setTourModal("Title","text",this.tournament.bannerTitle,"bannerTitle")}editDate(){this.setTourModal("Date","date",this.sharedService.convertTimestampToDateStr(this.tournament.date),"date")}editDesc(){this.setTourModal("Description","text",this.tournament.bannerDesc,"bannerDesc")}editLastDate(){this.setTourModal("Last Date","date",this.sharedService.convertTimestampToDateStr(this.tournament.bannerLastDate),"bannerLastDate")}onSubmit(r,i){console.log("Submitted value:",i);let o=T({},this.tournament);o[r]=i,this.firestoreService.updateTournament(o,this.tourId)}updateDefaults(){confirm("This will over ride previous defaults, continue?")&&(this.firestoreService.setDefaultTour(new Ro(this.tournament.bannerTitle,this.tournament.bannerDesc)),this.defaultTournament.bannerTitle=this.tournament.bannerTitle,this.defaultTournament.bannerDesc=this.tournament.bannerDesc,alert("Setting defaults successfull"))}applyDefaults(){let r=T({},this.tournament);r.bannerTitle=this.defaultTournament.bannerTitle,r.bannerDesc=this.defaultTournament.bannerDesc,this.firestoreService.updateTournament(r,this.tourId)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-edit-tournament"]],viewQuery:function(i,o){if(i&1&&xD(L4,5),i&2){let s;jm(s=Bm())&&(o.modal=s.first)}},standalone:!0,features:[we],decls:33,vars:12,consts:[["inputField",""],[1,"container"],[1,"card","my-3"],[1,"card-header","d-flex","justify-content-between"],[1,"btn","btn-outline-danger","btn-sm","me-2",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"card-body"],[1,"card-title"],[1,"btn","btn-outline-warning","btn-sm",3,"click"],[1,"text-muted","card-subtitle","mb-2"],[1,"card-text"],["type","button","routerLink","/tourn-form","disabled","",1,"btn","btn-primary"],[3,"tournament"],["class","modal d-block",4,"ngIf"],[1,"modal","d-block"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","text",1,"form-control",3,"type","placeholder","value"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(m(0,"div",1)(1,"div",2)(2,"div",3)(3,"div"),y(4,"Sample"),g(),m(5,"div")(6,"button",4),R("click",function(){return o.updateDefaults()}),y(7,"Save as Default"),g(),m(8,"button",5),R("click",function(){return o.applyDefaults()}),y(9,"Apply Default"),g()()(),m(10,"div",6)(11,"h4",7),y(12),m(13,"button",8),R("click",function(){return o.editHeading(),o.openModal()}),y(14," Edit "),g()(),m(15,"h6",9),y(16),Bt(17,"date"),m(18,"button",8),R("click",function(){return o.editDate(),o.openModal()}),y(19," Edit "),g()(),m(20,"p",10),y(21),m(22,"button",8),R("click",function(){return o.editDesc(),o.openModal()}),y(23," Edit "),g()(),m(24,"p",10),y(25),Bt(26,"date"),m(27,"button",8),R("click",function(){return o.editLastDate(),o.openModal()}),y(28," Edit "),g()(),m(29,"button",11),y(30," Create Team "),g()()()(),O(31,"app-edit-tournament-form",12),Ne(32,U4,16,5,"div",13)),i&2&&(A(12),Ct(" ",o.tournament==null?null:o.tournament.bannerTitle," "),A(4),Ct(" ",$t(17,6,o.tournament==null?null:o.tournament.date.toDate(),"dd-MM-yyyy")," "),A(5),Ct(" ",o.tournament==null?null:o.tournament.bannerDesc," "),A(4),Ct(" Last date to apply: ",$t(26,9,o.tournament==null?null:o.tournament.bannerLastDate.toDate(),"dd-MM-yyyy")," "),A(6),$("tournament",o.tournament),A(),$("ngIf",o.isVisible))},dependencies:[ct,Xr,Kn,ux]});let t=e;return t})();var dx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-manage-tournament"]],standalone:!0,features:[we],decls:28,vars:0,consts:[[1,"container","mt-2"],[1,"row"],[1,"col-md-4"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary","rounded-pill"],[1,"col-md-8"],[1,"btn","btn-primary"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5"),y(6,"Applications"),g()(),m(7,"div",5)(8,"ul",6)(9,"li",7),y(10," Cras justo odio "),m(11,"span",8),y(12,"14"),g()(),m(13,"li",7),y(14," Dapibus ac facilisis in "),m(15,"span",8),y(16,"2"),g()(),m(17,"li",7),y(18," Morbi leo risus "),m(19,"span",8),y(20,"1"),g()()()()()(),m(21,"div",9)(22,"div",3)(23,"div",4),y(24," Matches "),g(),m(25,"div",5)(26,"button",10),y(27,"Add match"),g()()()()()())}});let t=e;return t})();var hx=[{path:"",component:nx,title:"Bookings"},{path:"login",component:YT,title:"Login"},{path:"booking-form",component:rx,title:"Booking Form"},{path:"all-bookings",component:ix,title:"All Bookings"},{path:"excel-form",component:ox,title:"Excel Form"},{path:"excel-match",component:sx,title:"Excel Match"},{path:"tournament",component:ax,title:"Tournament"},{path:"old-tournaments",component:cx,title:"Old Tournament"},{path:"edit-tournament",component:lx,title:"Edit Tournament"},{path:"manage-tournament",component:dx,title:"Manage Tournament"},{path:"**",redirectTo:""}];var j4={apiKey:"AIzaSyCP29nVcnjbsOXNeSXVZgRlVjhCJNCcYgY",authDomain:"essos-13593.firebaseapp.com",projectId:"essos-13593",storageBucket:"essos-13593.appspot.com",messagingSenderId:"234509148552",appId:"1:234509148552:web:19e5316606e6a5eaeb1a3d"},fx={providers:[qb(hx),sm([_C(()=>wC(j4)),mT(()=>gT())])]};var px=(()=>{let e=class e{constructor(){this.firebaseAuth=w(Rn),this.router=w(Je),this.sharedService=w(Xe)}logout(){console.log("Logging out"),this.firebaseAuth.signOut()}addBooking(){this.sharedService.bookingForm.reset(),this.router.navigateByUrl("/booking-form")}collapseNavbar(){let r=document.getElementById("navbarColor02");r.classList.contains("show")&&r.classList.remove("show")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-navbar"]],standalone:!0,features:[we],decls:25,vars:0,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarColor02","aria-controls","navbarColor02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-5","mb-lg-0"],[1,"nav-item"],["routerLink","/",1,"nav-link",3,"click"],[1,"visually-hidden"],["routerLink","/all-bookings",1,"nav-link",3,"click"],[1,"btn","btn-secondary",3,"click"],["routerLink","/tournament",1,"btn","btn-secondary",3,"click"],[1,"d-flex"],[1,"btn","btn-success","my-2","my-sm-0",3,"click"]],template:function(i,o){i&1&&(m(0,"nav",0)(1,"div",1)(2,"a",2),R("click",function(){return o.collapseNavbar()}),y(3,"ESSOS"),g(),m(4,"button",3),O(5,"span",4),g(),m(6,"div",5)(7,"ul",6)(8,"li",7)(9,"button",8),R("click",function(){return o.collapseNavbar()}),y(10,"Home "),m(11,"span",9),y(12,"(current)"),g()()(),m(13,"li",7)(14,"button",10),R("click",function(){return o.collapseNavbar()}),y(15,"All Bookings"),g()(),m(16,"li",7)(17,"button",11),R("click",function(){return o.addBooking(),o.collapseNavbar()}),y(18,"Add Booking"),g()(),m(19,"li",7)(20,"button",12),R("click",function(){return o.collapseNavbar()}),y(21,"Tournaments"),g()()(),m(22,"div",13)(23,"button",14),R("click",function(){return o.logout()}),y(24,"Logout"),g()()()()())},dependencies:[gs]});let t=e;return t})();function B4(t,e){t&1&&O(0,"app-navbar")}var mx=(()=>{let e=class e{constructor(){this.title="angular-essos",this.isLoggedin=null,this.firebaseAuth=w(Rn),this.sharedService=w(Xe),this.router=w(Je)}ngOnInit(){this.checkLoginStatus()}checkLoginStatus(){this.firebaseAuth.onAuthStateChanged(r=>{r?(console.log("checkLoginStatus: redirecting to home"),this.router.navigateByUrl("/"),this.isLoggedin=!0):(console.log("checkLoginStatus: redirecting to login."),this.router.navigateByUrl("/login"),this.isLoggedin=!1)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-root"]],standalone:!0,features:[we],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(i,o){i&1&&(Ne(0,B4,1,0,"app-navbar",0),O(1,"router-outlet")),i&2&&$("ngIf",o.isLoggedin)},dependencies:[Bg,ct,Xr,px]});let t=e;return t})();ub(mx,fx).catch(t=>console.error(t));
