var ER=Object.defineProperty,DR=Object.defineProperties;var CR=Object.getOwnPropertyDescriptors;var xI=Object.getOwnPropertySymbols,bR=Object.getPrototypeOf,TR=Object.prototype.hasOwnProperty,SR=Object.prototype.propertyIsEnumerable,AR=Reflect.get;var PI=(t,e,n)=>e in t?ER(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})TR.call(e,n)&&PI(t,n,e[n]);if(xI)for(var n of xI(e))SR.call(e,n)&&PI(t,n,e[n]);return t},le=(t,e)=>DR(t,CR(e));var vr=(t,e,n)=>AR(bR(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var OI=null;var tf=1,nf=Symbol("SIGNAL");function oe(t){let e=OI;return OI=t,e}var kI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function RR(t){if(!(sf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===tf)){if(!t.producerMustRecompute(t)&&!rf(t)){t.dirty=!1,t.lastCleanEpoch=tf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=tf}}function FI(t){return t&&(t.nextProducerIndex=0),oe(t)}function VI(t,e){if(oe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(sf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)of(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rf(t){Fc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(RR(n),r!==n.version))return!0}return!1}function LI(t){if(Fc(t),sf(t))for(let e=0;e<t.producerNode.length;e++)of(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function of(t,e){if(MR(t),Fc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)of(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Fc(i),i.producerIndexOfThis[r]=e}}function sf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function MR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function NR(){throw new Error}var xR=NR;function UI(t){xR=t}function U(t){return typeof t=="function"}function oo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Vc=oo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ri(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(o){e=o instanceof Vc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{jI(o)}catch(s){e=e??[],s instanceof Vc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Vc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)jI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ri(n,e)}remove(e){let{_finalizers:n}=this;n&&ri(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var af=Ne.EMPTY;function Lc(t){return t instanceof Ne||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function jI(t){U(t)?t():t.unsubscribe()}var Kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var so={setTimeout(t,e,...n){let{delegate:r}=so;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=so;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Uc(t){so.setTimeout(()=>{let{onUnhandledError:e}=Kt;if(e)e(t);else throw t})}function Ps(){}var BI=cf("C",void 0,void 0);function $I(t){return cf("E",void 0,t)}function HI(t){return cf("N",t,void 0)}function cf(t,e,n){return{kind:t,value:e,error:n}}var ii=null;function ao(t){if(Kt.useDeprecatedSynchronousErrorHandling){let e=!ii;if(e&&(ii={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ii;if(ii=null,n)throw r}}else t()}function qI(t){Kt.useDeprecatedSynchronousErrorHandling&&ii&&(ii.errorThrown=!0,ii.error=t)}var oi=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Lc(e)&&e.add(this)):this.destination=kR}static create(e,n,r){return new co(e,n,r)}next(e){this.isStopped?lf(HI(e),this):this._next(e)}error(e){this.isStopped?lf($I(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lf(BI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PR=Function.prototype.bind;function uf(t,e){return PR.call(t,e)}var df=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){jc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){jc(r)}else jc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){jc(n)}}},co=class extends oi{constructor(e,n,r){super();let i;if(U(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Kt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uf(e.next,o),error:e.error&&uf(e.error,o),complete:e.complete&&uf(e.complete,o)}):i=e}this.destination=new df(i)}};function jc(t){Kt.useDeprecatedSynchronousErrorHandling?qI(t):Uc(t)}function OR(t){throw t}function lf(t,e){let{onStoppedNotification:n}=Kt;n&&so.setTimeout(()=>n(t,e))}var kR={closed:!0,next:Ps,error:OR,complete:Ps};var uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ct(t){return t}function hf(...t){return ff(t)}function ff(t){return t.length===0?Ct:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=VR(n)?n:new co(n,r,i);return ao(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=GI(r),new r((i,o)=>{let s=new co({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[uo](){return this}pipe(...n){return ff(n)(this)}toPromise(n){return n=GI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function GI(t){var e;return(e=t??Kt.Promise)!==null&&e!==void 0?e:Promise}function FR(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function VR(t){return t&&t instanceof oi||FR(t)&&Lc(t)}function pf(t){return U(t?.lift)}function re(t){return e=>{if(pf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(t,e,n,r,i){return new mf(t,e,n,r,i)}var mf=class extends oi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function lo(){return re((t,e)=>{let n=null;t._refCount++;let r=Q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ho=class extends ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(Q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return lo()(this)}};var zI=oo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var dt=(()=>{class t extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Bc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new zI}next(n){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?af:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,ri(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ne;return n.source=this,n}}return t.create=(e,n)=>new Bc(e,n),t})(),Bc=class extends dt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:af}};var Je=class extends dt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gf={now(){return(gf.delegate||Date).now()},delegate:void 0};var $c=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var Os={setInterval(t,e,...n){let{delegate:r}=Os;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Os;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var fo=class extends $c{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Os.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Os.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ri(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var po=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};po.now=gf.now;var mo=class extends po{constructor(e,n=po.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var yf=new mo(fo);var Hc=class extends fo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var qc=class extends mo{};var vf=new qc(Hc);var bt=new ne(t=>t.complete());function WI(t){return t&&U(t.schedule)}function KI(t){return t[t.length-1]}function Gc(t){return U(KI(t))?t.pop():void 0}function _r(t){return WI(KI(t))?t.pop():void 0}function _f(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function QI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(t){return this instanceof si?(this.v=t,this):new si(t)}function JI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(p){return new Promise(function(g,I){o.push([h,p,g,I])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(g){d(o[0][3],g)}}function c(h){h.value instanceof si?Promise.resolve(h.value.v).then(u,l):d(o[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function ZI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof QI=="function"?QI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var zc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Wc(t){return U(t?.then)}function Kc(t){return U(t[uo])}function Qc(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function Yc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function LR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jc=LR();function Zc(t){return U(t?.[Jc])}function Xc(t){return JI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield si(n.read());if(i)return yield si(void 0);yield yield si(r)}}finally{n.releaseLock()}})}function eu(t){return U(t?.getReader)}function Oe(t){if(t instanceof ne)return t;if(t!=null){if(Kc(t))return UR(t);if(zc(t))return jR(t);if(Wc(t))return BR(t);if(Qc(t))return XI(t);if(Zc(t))return $R(t);if(eu(t))return HR(t)}throw Yc(t)}function UR(t){return new ne(e=>{let n=t[uo]();if(U(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jR(t){return new ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function BR(t){return new ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Uc)})}function $R(t){return new ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function XI(t){return new ne(e=>{qR(t,e).catch(n=>e.error(n))})}function HR(t){return XI(Xc(t))}function qR(t,e){var n,r,i,o;return YI(this,void 0,void 0,function*(){try{for(n=ZI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ir(t,e=0){return re((n,r)=>{n.subscribe(Q(r,i=>vt(r,t,()=>r.next(i),e),()=>vt(r,t,()=>r.complete(),e),i=>vt(r,t,()=>r.error(i),e)))})}function wr(t,e=0){return re((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ew(t,e){return Oe(t).pipe(wr(e),Ir(e))}function tw(t,e){return Oe(t).pipe(wr(e),Ir(e))}function nw(t,e){return new ne(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function rw(t,e){return new ne(n=>{let r;return vt(n,e,()=>{r=t[Jc](),vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}function tu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ne(n=>{vt(n,e,()=>{let r=t[Symbol.asyncIterator]();vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function iw(t,e){return tu(Xc(t),e)}function ow(t,e){if(t!=null){if(Kc(t))return ew(t,e);if(zc(t))return nw(t,e);if(Wc(t))return tw(t,e);if(Qc(t))return tu(t,e);if(Zc(t))return rw(t,e);if(eu(t))return iw(t,e)}throw Yc(t)}function De(t,e){return e?ow(t,e):Oe(t)}function $(...t){let e=_r(t);return De(t,e)}function go(t,e){let n=U(t)?t:()=>t,r=i=>i.error(n());return new ne(e?i=>e.schedule(r,0,i):r)}function If(t){return!!t&&(t instanceof ne||U(t.lift)&&U(t.subscribe))}var Gn=oo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Y(t,e){return re((n,r)=>{let i=0;n.subscribe(Q(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:GR}=Array;function zR(t,e){return GR(e)?t(...e):t(e)}function nu(t){return Y(e=>zR(t,e))}var{isArray:WR}=Array,{getPrototypeOf:KR,prototype:QR,keys:YR}=Object;function ru(t){if(t.length===1){let e=t[0];if(WR(e))return{args:e,keys:null};if(JR(e)){let n=YR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function JR(t){return t&&typeof t=="object"&&KR(t)===QR}function iu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ou(...t){let e=_r(t),n=Gc(t),{args:r,keys:i}=ru(t);if(r.length===0)return De([],e);let o=new ne(ZR(r,e,i?s=>iu(i,s):Ct));return n?o.pipe(nu(n)):o}function ZR(t,e,n=Ct){return r=>{sw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)sw(e,()=>{let u=De(t[c],e),l=!1;u.subscribe(Q(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function sw(t,e,n){t?vt(n,t,e):e()}function aw(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=I=>u<r?g(I):c.push(I),g=I=>{o&&e.next(I),u++;let w=!1;Oe(n(I,l++)).subscribe(Q(e,A=>{i?.(A),o?p(A):e.next(A)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<r;){let A=c.shift();s?vt(e,s,()=>g(A)):g(A)}h()}catch(A){e.error(A)}}))};return t.subscribe(Q(e,p,()=>{d=!0,h()})),()=>{a?.()}}function je(t,e,n=1/0){return U(e)?je((r,i)=>Y((o,s)=>e(r,o,i,s))(Oe(t(r,i))),n):(typeof e=="number"&&(n=e),re((r,i)=>aw(r,i,t,n)))}function wf(t=1/0){return je(Ct,t)}function cw(){return wf(1)}function yo(...t){return cw()(De(t,_r(t)))}function su(t){return new ne(e=>{Oe(t()).subscribe(e)})}function Ef(...t){let e=Gc(t),{args:n,keys:r}=ru(t),i=new ne(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Oe(n[l]).subscribe(Q(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?iu(r,a):a),o.complete())}))}});return e?i.pipe(nu(e)):i}function Qt(t,e){return re((n,r)=>{let i=0;n.subscribe(Q(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Er(t){return re((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Q(n,void 0,void 0,s=>{o=Oe(t(s,Er(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function uw(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(Q(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function vo(t,e){return U(e)?je(t,e,1):je(t,1)}function Dr(t){return re((e,n)=>{let r=!1;e.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function zn(t){return t<=0?()=>bt:re((e,n)=>{let r=0;e.subscribe(Q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Df(t){return Y(()=>t)}function au(t=XR){return re((e,n)=>{let r=!1;e.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function XR(){return new Gn}function ks(t){return re((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function hn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,o)=>t(i,o,r)):Ct,zn(1),n?Dr(e):au(()=>new Gn))}function _o(t){return t<=0?()=>bt:re((e,n)=>{let r=[];e.subscribe(Q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Cf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,o)=>t(i,o,r)):Ct,_o(1),n?Dr(e):au(()=>new Gn))}function bf(t,e){return re(uw(t,e,arguments.length>=2,!0))}function Tf(...t){let e=_r(t);return re((n,r)=>{(e?yo(t,n,e):yo(t,n)).subscribe(r)})}function Yt(t,e){return re((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Q(r,c=>{i?.unsubscribe();let u=0,l=o++;Oe(t(c,l)).subscribe(i=Q(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Sf(t){return re((e,n)=>{Oe(t).subscribe(Q(n,()=>n.complete(),Ps)),!n.closed&&e.subscribe(n)})}function Be(t,e,n){let r=U(t)||e||n?{next:t,error:e,complete:n}:t;return r?re((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Q(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ct}var eM="https://g.co/ng/security#xss",R=class extends Error{constructor(e,n){super(Mp(e,n)),this.code=e}};function Mp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Qs(t){return{toString:t}.toString()}var cu="__parameters__";function tM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Ww(t,e,n){return Qs(()=>{let r=tM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(cu)?c[cu]:Object.defineProperty(c,cu,{value:[]})[cu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Wn=globalThis;function me(t){for(let e in t)if(t[e]===me)return e;throw Error("Could not find renamed property on target object.")}function nM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function lw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var rM=me({__forward_ref__:me});function Vt(t){return t.__forward_ref__=Vt,t.toString=function(){return ft(this())},t}function ht(t){return Kw(t)?t():t}function Kw(t){return typeof t=="function"&&t.hasOwnProperty(rM)&&t.__forward_ref__===Vt}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fu(t){return dw(t,Yw)||dw(t,Jw)}function Qw(t){return Fu(t)!==null}function dw(t,e){return t.hasOwnProperty(e)?t[e]:null}function iM(t){let e=t&&(t[Yw]||t[Jw]);return e||null}function hw(t){return t&&(t.hasOwnProperty(fw)||t.hasOwnProperty(oM))?t[fw]:null}var Yw=me({\u0275prov:me}),fw=me({\u0275inj:me}),Jw=me({ngInjectableDef:me}),oM=me({ngInjectorDef:me}),O=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Zw(t){return t&&!!t.\u0275providers}var sM=me({\u0275cmp:me}),aM=me({\u0275dir:me}),cM=me({\u0275pipe:me}),uM=me({\u0275mod:me}),gu=me({\u0275fac:me}),Fs=me({__NG_ELEMENT_ID__:me}),pw=me({__NG_ENV_ID__:me});function Vs(t){return typeof t=="string"?t:t==null?"":String(t)}function lM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Vs(t)}function dM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new R(-200,t)}function Np(t,e){throw new R(-201,!1)}var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),qf;function Xw(){return qf}function _t(t){let e=qf;return qf=t,e}function eE(t,e,n){let r=Fu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;Np(t,"Injector")}var hM={},Ls=hM,Gf="__NG_DI_FLAG__",yu="ngTempTokenPath",fM="ngTokenPath",pM=/\n/gm,mM="\u0275",mw="__source",Do;function gM(){return Do}function Cr(t){let e=Do;return Do=t,e}function yM(t,e=z.Default){if(Do===void 0)throw new R(-203,!1);return Do===null?eE(t,void 0,e):Do.get(t,e&z.Optional?null:void 0,e)}function W(t,e=z.Default){return(Xw()||yM)(ht(t),e)}function E(t,e=z.Default){return W(t,Vu(e))}function Vu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zf(t){let e=[];for(let n=0;n<t.length;n++){let r=ht(t[n]);if(Array.isArray(r)){if(r.length===0)throw new R(900,!1);let i,o=z.Default;for(let s=0;s<r.length;s++){let a=r[s],c=vM(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function tE(t,e){return t[Gf]=e,t.prototype[Gf]=e,t}function vM(t){return t[Gf]}function _M(t,e,n,r){let i=t[yu];throw e[mw]&&i.unshift(e[mw]),t.message=IM(`
`+t.message,i,n,r),t[fM]=i,t[yu]=null,t}function IM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==mM?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ft(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pM,`
  `)}`}var _n=tE(Ww("Optional"),8);var nE=tE(Ww("SkipSelf"),4);function li(t,e){let n=t.hasOwnProperty(gu);return n?t[gu]:null}function xp(t,e){t.forEach(n=>Array.isArray(n)?xp(n,e):e(n))}function rE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function EM(t,e,n){let r=Ys(t,e);return r>=0?t[r|1]=n:(r=~r,wM(t,r,e,n)),r}function Af(t,e){let n=Ys(t,e);if(n>=0)return t[n|1]}function Ys(t,e){return DM(t,e,1)}function DM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var bo={},Pt=[],To=new O(""),iE=new O("",-1),oE=new O(""),_u=class{get(e,n=Ls){if(n===Ls){let r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}},sE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(sE||{}),mn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(mn||{}),Ze=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ze||{});function CM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Wf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];TM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function bM(t){return t===3||t===4||t===6}function TM(t){return t.charCodeAt(0)===64}function Us(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?gw(t,n,i,null,e[++r]):gw(t,n,i,null,null))}}return t}function gw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var aE="ng-template";function SM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Pp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Pp(t){return t.type===4&&t.value!==aE}function AM(t,e,n){let r=t.type===4&&!n?aE:t.value;return e===r}function RM(t,e,n){let r=4,i=t.attrs,o=i!==null?xM(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Jt(r)&&!Jt(c))return!1;if(s&&Jt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!AM(t,c,n)||c===""&&e.length===1){if(Jt(r))return!1;s=!0}}else if(r&8){if(i===null||!SM(t,i,c,n)){if(Jt(r))return!1;s=!0}}else{let u=e[++a],l=MM(c,i,Pp(t),n);if(l===-1){if(Jt(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Jt(r))return!1;s=!0}}}}return Jt(r)||s}function Jt(t){return(t&1)===0}function MM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return PM(e,t)}function NM(t,e,n=!1){for(let r=0;r<e.length;r++)if(RM(t,e[r],n))return!0;return!1}function xM(t){for(let e=0;e<t.length;e++){let n=t[e];if(bM(n))return e}return t.length}function PM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function yw(t,e){return t?":not("+e.trim()+")":e}function OM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jt(s)&&(e+=yw(o,i),i=""),r=s,o=o||!Jt(r);n++}return i!==""&&(e+=yw(o,i)),e}function kM(t){return t.map(OM).join(",")}function FM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Jt(i))break;i=o}r++}return{attrs:e,classes:n}}function He(t){return Qs(()=>{let e=fE(t),n=le(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===sE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mn.Emulated,styles:t.styles||Pt,_:null,schemas:t.schemas||null,tView:null,id:""});pE(n);let r=t.dependencies;return n.directiveDefs=_w(r,!1),n.pipeDefs=_w(r,!0),n.id=UM(n),n})}function VM(t){return di(t)||uE(t)}function LM(t){return t!==null}function Ut(t){return Qs(()=>({type:t.type,bootstrap:t.bootstrap||Pt,declarations:t.declarations||Pt,imports:t.imports||Pt,exports:t.exports||Pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vw(t,e){if(t==null)return bo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Ze.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Ze.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ce(t){return Qs(()=>{let e=fE(t);return pE(e),e})}function cE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function di(t){return t[sM]||null}function uE(t){return t[aM]||null}function lE(t){return t[cM]||null}function dE(t){let e=di(t)||uE(t)||lE(t);return e!==null?e.standalone:!1}function hE(t,e){let n=t[uM]||null;if(!n&&e===!0)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function fE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||bo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Pt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vw(t.inputs,e),outputs:vw(t.outputs),debugInfo:null}}function pE(t){t.features?.forEach(e=>e(t))}function _w(t,e){if(!t)return null;let n=e?lE:VM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(LM)}function UM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lu(t){return{\u0275providers:t}}function Op(...t){return{\u0275providers:mE(!0,t),\u0275fromNgModule:!0}}function mE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return xp(e,s=>{let a=s;Kf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&gE(i,o),n}function gE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];kp(i,o=>{e(o,r)})}}function Kf(t,e,n,r){if(t=ht(t),!t)return!1;let i=null,o=hw(t),s=!o&&di(t);if(!o&&!s){let c=t.ngModule;if(o=hw(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Kf(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{xp(o.imports,l=>{Kf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&gE(u,e)}if(!a){let u=li(i)||(()=>new i);e({provide:i,useFactory:u,deps:Pt},i),e({provide:oE,useValue:i,multi:!0},i),e({provide:To,useValue:()=>W(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;kp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function kp(t,e){for(let n of t)Zw(n)&&(n=n.\u0275providers),Array.isArray(n)?kp(n,e):e(n)}var jM=me({provide:String,useValue:me});function yE(t){return t!==null&&typeof t=="object"&&jM in t}function BM(t){return!!(t&&t.useExisting)}function $M(t){return!!(t&&t.useFactory)}function So(t){return typeof t=="function"}function HM(t){return!!t.useClass}var Uu=new O(""),du={},qM={},Rf;function Fp(){return Rf===void 0&&(Rf=new _u),Rf}var kt=class{},js=class extends kt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yf(e,s=>this.processProvider(s)),this.records.set(iE,Io(void 0,this)),i.has("environment")&&this.records.set(kt,Io(void 0,this));let o=this.records.get(Uu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(oE,Pt,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Cr(this),r=_t(void 0),i;try{return e()}finally{Cr(n),_t(r)}}get(e,n=Ls,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(pw))return e[pw](this);r=Vu(r);let i,o=Cr(this),s=_t(void 0);try{if(!(r&z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=QM(e)&&Fu(e);u&&this.injectableDefInScope(u)?c=Io(Qf(e),du):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&z.Self?Fp():this.parent;return n=r&z.Optional&&n===Ls?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[yu]=a[yu]||[]).unshift(ft(e)),o)throw a;return _M(a,e,"R3InjectorError",this.source)}else throw a}finally{_t(s),Cr(o)}}resolveInjectorInitializers(){let e=oe(null),n=Cr(this),r=_t(void 0),i;try{let o=this.get(To,Pt,z.Self);for(let s of o)s()}finally{Cr(n),_t(r),oe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){e=ht(e);let n=So(e)?e:ht(e&&e.provide),r=zM(e);if(!So(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Io(void 0,du,!0),i.factory=()=>zf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=oe(null);try{return n.value===du&&(n.value=qM,n.value=n.factory()),typeof n.value=="object"&&n.value&&KM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ht(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Qf(t){let e=Fu(t),n=e!==null?e.factory:li(t);if(n!==null)return n;if(t instanceof O)throw new R(204,!1);if(t instanceof Function)return GM(t);throw new R(204,!1)}function GM(t){if(t.length>0)throw new R(204,!1);let n=iM(t);return n!==null?()=>n.factory(t):()=>new t}function zM(t){if(yE(t))return Io(void 0,t.useValue);{let e=vE(t);return Io(e,du)}}function vE(t,e,n){let r;if(So(t)){let i=ht(t);return li(i)||Qf(i)}else if(yE(t))r=()=>ht(t.useValue);else if($M(t))r=()=>t.useFactory(...zf(t.deps||[]));else if(BM(t))r=()=>W(ht(t.useExisting));else{let i=ht(t&&(t.useClass||t.provide));if(WM(t))r=()=>new i(...zf(t.deps));else return li(i)||Qf(i)}return r}function Io(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function WM(t){return!!t.deps}function KM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function QM(t){return typeof t=="function"||typeof t=="object"&&t instanceof O}function Yf(t,e){for(let n of t)Array.isArray(n)?Yf(n,e):n&&Zw(n)?Yf(n.\u0275providers,e):e(n)}function _i(t,e){t instanceof js&&t.assertNotDestroyed();let n,r=Cr(t),i=_t(void 0);try{return e()}finally{Cr(r),_t(i)}}function YM(){return Xw()!==void 0||gM()!=null}function JM(t){return typeof t=="function"}var Jn=0,J=1,V=2,ot=3,Zt=4,en=5,Iu=6,Bs=7,Xt=8,Ao=9,gn=10,xe=11,$s=12,Iw=13,Po=14,yn=15,ju=16,wo=17,Ro=18,Bu=19,_E=20,br=21,Mf=22,hi=23,Ft=25,IE=1;var fi=7,wu=8,Eu=9,Ot=10,Vp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Vp||{});function ci(t){return Array.isArray(t)&&typeof t[IE]=="object"}function Zn(t){return Array.isArray(t)&&t[IE]===!0}function Lp(t){return(t.flags&4)!==0}function $u(t){return t.componentOffset>-1}function Hu(t){return(t.flags&1)===1}function Tr(t){return!!t.template}function ZM(t){return(t[V]&512)!==0}var Jf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function wE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Xn(){return EE}function EE(t){return t.type.prototype.ngOnChanges&&(t.setInput=eN),XM}Xn.ngInherit=!0;function XM(){let t=CE(this),e=t?.current;if(e){let n=t.previous;if(n===bo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function eN(t,e,n,r,i){let o=this.declaredInputs[r],s=CE(t)||tN(t,{previous:bo,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Jf(u&&u.currentValue,n,c===bo),wE(t,e,i,n)}var DE="__ngSimpleChanges__";function CE(t){return t[DE]||null}function tN(t,e){return t[DE]=e}var ww=null;var fn=function(t,e,n){ww?.(t,e,n)},nN="svg",rN="math",iN=!1;function oN(){return iN}function vn(t){for(;Array.isArray(t);)t=t[Jn];return t}function bE(t,e){return vn(e[t])}function jt(t,e){return vn(e[t.index])}function TE(t,e){return t.data[e]}function SE(t,e){return t[e]}function Rr(t,e){let n=e[t];return ci(n)?n:n[Jn]}function Up(t){return(t[V]&128)===128}function sN(t){return Zn(t[ot])}function Mo(t,e){return e==null?null:t[e]}function AE(t){t[wo]=0}function aN(t){t[V]&1024||(t[V]|=1024,Up(t)&&Hs(t))}function cN(t,e){for(;t>0;)e=e[Po],t--;return e}function jp(t){return!!(t[V]&9216||t[hi]?.dirty)}function Zf(t){t[gn].changeDetectionScheduler?.notify(1),jp(t)?Hs(t):t[V]&64&&(oN()?(t[V]|=1024,Hs(t)):t[gn].changeDetectionScheduler?.notify())}function Hs(t){t[gn].changeDetectionScheduler?.notify();let e=qs(t);for(;e!==null&&!(e[V]&8192||(e[V]|=8192,!Up(e)));)e=qs(e)}function RE(t,e){if((t[V]&256)===256)throw new R(911,!1);t[br]===null&&(t[br]=[]),t[br].push(e)}function uN(t,e){if(t[br]===null)return;let n=t[br].indexOf(e);n!==-1&&t[br].splice(n,1)}function qs(t){let e=t[ot];return Zn(e)?e[ot]:e}var G={lFrame:VE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function lN(){return G.lFrame.elementDepthCount}function dN(){G.lFrame.elementDepthCount++}function hN(){G.lFrame.elementDepthCount--}function ME(){return G.bindingsEnabled}function fN(){return G.skipHydrationRootTNode!==null}function pN(t){return G.skipHydrationRootTNode===t}function mN(){G.skipHydrationRootTNode=null}function fe(){return G.lFrame.lView}function Xe(){return G.lFrame.tView}function In(t){return G.lFrame.contextLView=t,t[Xt]}function wn(t){return G.lFrame.contextLView=null,t}function It(){let t=NE();for(;t!==null&&t.type===64;)t=t.parent;return t}function NE(){return G.lFrame.currentTNode}function gN(){let t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ii(t,e){let n=G.lFrame;n.currentTNode=t,n.isParent=e}function Bp(){return G.lFrame.isParent}function xE(){G.lFrame.isParent=!1}function yN(){return G.lFrame.contextLView}function vN(){let t=G.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function _N(){return G.lFrame.bindingIndex}function IN(t){return G.lFrame.bindingIndex=t}function qu(){return G.lFrame.bindingIndex++}function PE(t){let e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function wN(){return G.lFrame.inI18n}function EN(t,e){let n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xf(e)}function DN(){return G.lFrame.currentDirectiveIndex}function Xf(t){G.lFrame.currentDirectiveIndex=t}function CN(t){let e=G.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function OE(t){G.lFrame.currentQueryIndex=t}function bN(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[en]:null}function kE(t,e,n){if(n&z.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&z.Host);)if(i=bN(o),i===null||(o=o[Po],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=G.lFrame=FE();return r.currentTNode=e,r.lView=t,!0}function $p(t){let e=FE(),n=t[J];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function FE(){let t=G.lFrame,e=t===null?null:t.child;return e===null?VE(t):e}function VE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function LE(){let t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var UE=LE;function Hp(){let t=LE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function TN(t){return(G.lFrame.contextLView=cN(t,G.lFrame.contextLView))[Xt]}function wi(){return G.lFrame.selectedIndex}function pi(t){G.lFrame.selectedIndex=t}function Gu(){let t=G.lFrame;return TE(t.tView,t.selectedIndex)}function SN(){return G.lFrame.currentNamespace}var jE=!0;function zu(){return jE}function Wu(t){jE=t}function AN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=EE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Ku(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function hu(t,e,n){BE(t,e,3,n)}function fu(t,e,n,r){(t[V]&3)===n&&BE(t,e,n,r)}function Nf(t,e){let n=t[V];(n&3)===e&&(n&=16383,n+=1,t[V]=n)}function BE(t,e,n,r){let i=r!==void 0?t[wo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[wo]+=65536),(a<o||o==-1)&&(RN(t,n,e,c),t[wo]=(t[wo]&4294901760)+c+2),c++}function Ew(t,e){fn(4,t,e);let n=oe(null);try{e.call(t)}finally{oe(n),fn(5,t,e)}}function RN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[V]>>14<t[wo]>>16&&(t[V]&3)===e&&(t[V]+=16384,Ew(a,o)):Ew(a,o)}var Co=-1,mi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function MN(t){return t instanceof mi}function NN(t){return(t.flags&8)!==0}function xN(t){return(t.flags&16)!==0}function $E(t){return t!==Co}function Du(t){return t&32767}function PN(t){return t>>16}function Cu(t,e){let n=PN(t),r=e;for(;n>0;)r=r[Po],n--;return r}var ep=!0;function bu(t){let e=ep;return ep=t,e}var ON=256,HE=ON-1,qE=5,kN=0,pn={};function FN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fs)&&(r=n[Fs]),r==null&&(r=n[Fs]=kN++);let i=r&HE,o=1<<i;e.data[t+(i>>qE)]|=o}function Tu(t,e){let n=GE(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,xf(r.data,t),xf(e,null),xf(r.blueprint,null));let i=qp(t,e),o=t.injectorIndex;if($E(i)){let s=Du(i),a=Cu(i,e),c=a[J].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function xf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function GE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function qp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=YE(i),r===null)return Co;if(n++,i=i[Po],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Co}function tp(t,e,n){FN(t,e,n)}function zE(t,e,n){if(n&z.Optional||t!==void 0)return t;Np(e,"NodeInjector")}function WE(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),!(n&(z.Self|z.Host))){let i=t[Ao],o=_t(void 0);try{return i?i.get(e,r,n&z.Optional):eE(e,r,n&z.Optional)}finally{_t(o)}}return zE(r,e,n)}function KE(t,e,n,r=z.Default,i){if(t!==null){if(e[V]&2048&&!(r&z.Self)){let s=BN(t,e,n,r,pn);if(s!==pn)return s}let o=QE(t,e,n,r,pn);if(o!==pn)return o}return WE(e,n,r,i)}function QE(t,e,n,r,i){let o=UN(n);if(typeof o=="function"){if(!kE(e,t,r))return r&z.Host?zE(i,n,r):WE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&z.Optional))Np(n);else return s}finally{UE()}}else if(typeof o=="number"){let s=null,a=GE(t,e),c=Co,u=r&z.Host?e[yn][en]:null;for((a===-1||r&z.SkipSelf)&&(c=a===-1?qp(t,e):e[a+8],c===Co||!Cw(r,!1)?a=-1:(s=e[J],a=Du(c),e=Cu(c,e)));a!==-1;){let l=e[J];if(Dw(o,a,l.data)){let d=VN(a,e,n,s,r,u);if(d!==pn)return d}c=e[a+8],c!==Co&&Cw(r,e[J].data[a+8]===u)&&Dw(o,a,e)?(s=l,a=Du(c),e=Cu(c,e)):a=-1}}return i}function VN(t,e,n,r,i,o){let s=e[J],a=s.data[t+8],c=r==null?$u(a)&&ep:r!=s&&(a.type&3)!==0,u=i&z.Host&&o===a,l=LN(a,s,n,c,u);return l!==null?No(e,s,l,a):pn}function LN(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let g=s[p];if(p<c&&n===g||p>=c&&g.type===n)return p}if(i){let p=s[c];if(p&&Tr(p)&&p.type===n)return c}return null}function No(t,e,n,r){let i=t[n],o=e.data;if(MN(i)){let s=i;s.resolving&&dM(lM(o[n]));let a=bu(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?_t(s.injectImpl):null,l=kE(t,r,z.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&AN(n,o[n],e)}finally{u!==null&&_t(u),bu(a),s.resolving=!1,UE()}}return i}function UN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fs)?t[Fs]:void 0;return typeof e=="number"?e>=0?e&HE:jN:e}function Dw(t,e,n){let r=1<<t;return!!(n[e+(t>>qE)]&r)}function Cw(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var ui=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return KE(this._tNode,this._lView,e,Vu(r),n)}};function jN(){return new ui(It(),fe())}function er(t){return Qs(()=>{let e=t.prototype.constructor,n=e[gu]||np(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[gu]||np(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function np(t){return Kw(t)?()=>{let e=np(ht(t));return e&&e()}:li(t)}function BN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[V]&2048&&!(s[V]&512);){let a=QE(o,s,n,r|z.Self,pn);if(a!==pn)return a;let c=o.parent;if(!c){let u=s[_E];if(u){let l=u.get(n,pn,r);if(l!==pn)return l}c=YE(s),s=s[Po]}o=c}return i}function YE(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[en]:null}function bw(t,e=null,n=null,r){let i=JE(t,e,n,r);return i.resolveInjectorInitializers(),i}function JE(t,e=null,n=null,r,i=new Set){let o=[n||Pt,Op(t)];return r=r||(typeof t=="object"?void 0:ft(t)),new js(o,e||Fp(),r||null,i)}var En=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return bw({name:""},i,r,"");{let o=r.name??"";return bw({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Ls,e.NULL=new _u,e.\u0275prov=P({token:e,providedIn:"any",factory:()=>W(iE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var $N="ngOriginalError";function Pf(t){return t[$N]}var Kn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Pf(e);for(;n&&Pf(n);)n=Pf(n);return n||null}},ZE=new O("",{providedIn:"root",factory:()=>E(Kn).handleError.bind(void 0)}),XE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),rp=class extends XE{constructor(e){super(),this._lView=e}onDestroy(e){return RE(this._lView,e),()=>uN(this._lView,e)}};function HN(){return new rp(fe())}function qN(){return Qu(It(),fe())}function Qu(t,e){return new tr(jt(t,e))}var tr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=qN;let t=e;return t})();var ip=class extends dt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,YM()&&(this.destroyRef=E(XE,{optional:!0})??void 0)}emit(e){let n=oe(null);try{super.next(e)}finally{oe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Of(o),i&&(i=Of(i)),s&&(s=Of(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}};function Of(t){return e=>{setTimeout(t,void 0,e)}}var $e=ip;function eD(t){return(t.flags&128)===128}var tD=new Map,GN=0;function zN(){return GN++}function WN(t){tD.set(t[Bu],t)}function KN(t){tD.delete(t[Bu])}var Tw="__ngContext__";function Sr(t,e){ci(e)?(t[Tw]=e[Bu],WN(e)):t[Tw]=e}function nD(t){return iD(t[$s])}function rD(t){return iD(t[Zt])}function iD(t){for(;t!==null&&!Zn(t);)t=t[Zt];return t}var op;function oD(t){op=t}function QN(){if(op!==void 0)return op;if(typeof document<"u")return document;throw new R(210,!1)}var Gp=new O("",{providedIn:"root",factory:()=>YN}),YN="ng",zp=new O(""),Mr=new O("",{providedIn:"platform",factory:()=>"unknown"});var Wp=new O("",{providedIn:"root",factory:()=>QN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var JN="h",ZN="b";var XN=()=>null;function Kp(t,e,n=!1){return XN(t,e,n)}var sD=!1,ex=new O("",{providedIn:"root",factory:()=>sD});var sp=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eM})`}};function Qp(t){return t instanceof sp?t.changingThisBreaksApplicationSecurity:t}var tx=/^>|^->|<!--|-->|--!>|<!-$/g,nx=/(<|>)/g,rx="\u200B$1\u200B";function ix(t){return t.replace(tx,e=>e.replace(nx,rx))}function aD(t){return t instanceof Function?t():t}var Qn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qn||{}),ox;function Yp(t,e){return ox(t,e)}function Eo(t,e,n,r,i){if(r!=null){let o,s=!1;Zn(r)?o=r:ci(r)&&(s=!0,r=r[Jn]);let a=vn(r);t===0&&n!==null?i==null?hD(e,n,a):Su(e,n,a,i||null,!0):t===1&&n!==null?Su(e,n,a,i||null,!0):t===2?Dx(e,a,s):t===3&&e.destroyNode(a),o!=null&&bx(e,t,o,n,i)}}function sx(t,e){return t.createText(e)}function ax(t,e,n){t.setValue(e,n)}function cx(t,e){return t.createComment(ix(e))}function cD(t,e,n){return t.createElement(e,n)}function ux(t,e){uD(t,e),e[Jn]=null,e[en]=null}function lx(t,e,n,r,i,o){r[Jn]=i,r[en]=e,Ju(t,r,n,1,i,o)}function uD(t,e){e[gn].changeDetectionScheduler?.notify(1),Ju(t,e,e[xe],2,null,null)}function dx(t){let e=t[$s];if(!e)return kf(t[J],t);for(;e;){let n=null;if(ci(e))n=e[$s];else{let r=e[Ot];r&&(n=r)}if(!n){for(;e&&!e[Zt]&&e!==t;)ci(e)&&kf(e[J],e),e=e[ot];e===null&&(e=t),ci(e)&&kf(e[J],e),n=e&&e[Zt]}e=n}}function hx(t,e,n,r){let i=Ot+r,o=n.length;r>0&&(n[i-1][Zt]=e),r<o-Ot?(e[Zt]=n[i],rE(n,Ot+r,e)):(n.push(e),e[Zt]=null),e[ot]=n;let s=e[ju];s!==null&&n!==s&&fx(s,e);let a=e[Ro];a!==null&&a.insertView(t),Zf(e),e[V]|=128}function fx(t,e){let n=t[Eu],i=e[ot][ot][yn];e[yn]!==i&&(t[V]|=Vp.HasTransplantedViews),n===null?t[Eu]=[e]:n.push(e)}function lD(t,e){let n=t[Eu],r=n.indexOf(e);n.splice(r,1)}function ap(t,e){if(t.length<=Ot)return;let n=Ot+e,r=t[n];if(r){let i=r[ju];i!==null&&i!==t&&lD(i,r),e>0&&(t[n-1][Zt]=r[Zt]);let o=vu(t,Ot+e);ux(r[J],r);let s=o[Ro];s!==null&&s.detachView(o[J]),r[ot]=null,r[Zt]=null,r[V]&=-129}return r}function dD(t,e){if(!(e[V]&256)){let n=e[xe];n.destroyNode&&Ju(t,e,n,3,null,null),dx(e)}}function kf(t,e){if(e[V]&256)return;let n=oe(null);try{e[V]&=-129,e[V]|=256,e[hi]&&LI(e[hi]),mx(t,e),px(t,e),e[J].type===1&&e[xe].destroy();let r=e[ju];if(r!==null&&Zn(e[ot])){r!==e[ot]&&lD(r,e);let i=e[Ro];i!==null&&i.detachView(t)}KN(e)}finally{oe(n)}}function px(t,e){let n=t.cleanup,r=e[Bs];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Bs]=null);let i=e[br];if(i!==null){e[br]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function mx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof mi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];fn(4,a,c);try{c.call(a)}finally{fn(5,a,c)}}else{fn(4,i,o);try{o.call(i)}finally{fn(5,i,o)}}}}}function gx(t,e,n){return yx(t,e.parent,n)}function yx(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Jn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===mn.None||o===mn.Emulated)return null}return jt(r,n)}}function Su(t,e,n,r,i){t.insertBefore(e,n,r,i)}function hD(t,e,n){t.appendChild(e,n)}function Sw(t,e,n,r,i){r!==null?Su(t,e,n,r,i):hD(t,e,n)}function vx(t,e,n,r){t.removeChild(e,n,r)}function Jp(t,e){return t.parentNode(e)}function _x(t,e){return t.nextSibling(e)}function Ix(t,e,n){return Ex(t,e,n)}function wx(t,e,n){return t.type&40?jt(t,n):null}var Ex=wx,Aw;function Yu(t,e,n,r){let i=gx(t,r,e),o=e[xe],s=r.parent||e[en],a=Ix(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Sw(o,i,n[c],a,!1);else Sw(o,i,n,a,!1);Aw!==void 0&&Aw(o,r,e,n,i)}function pu(t,e){if(e!==null){let n=e.type;if(n&3)return jt(e,t);if(n&4)return cp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return pu(t,r);{let i=t[e.index];return Zn(i)?cp(-1,i):vn(i)}}else{if(n&32)return Yp(e,t)()||vn(t[e.index]);{let r=fD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qs(t[yn]);return pu(i,r)}else return pu(t,e.next)}}}return null}function fD(t,e){if(e!==null){let r=t[yn][en],i=e.projection;return r.projection[i]}return null}function cp(t,e){let n=Ot+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return pu(r,i)}return e[fi]}function Dx(t,e,n){let r=Jp(t,e);r&&vx(t,r,e,n)}function Zp(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Sr(vn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Zp(t,e,n.child,r,i,o,!1),Eo(e,t,i,a,o);else if(c&32){let u=Yp(n,r),l;for(;l=u();)Eo(e,t,i,l,o);Eo(e,t,i,a,o)}else c&16?Cx(t,e,r,n,i,o):Eo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ju(t,e,n,r,i,o){Zp(n,r,t.firstChild,e,i,o,!1)}function Cx(t,e,n,r,i,o){let s=n[yn],c=s[en].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Eo(e,t,i,l,o)}else{let u=c,l=s[ot];eD(r)&&(u.flags|=128),Zp(t,e,u,l,i,o,!0)}}function bx(t,e,n,r,i){let o=n[fi],s=vn(n);o!==s&&Eo(e,t,r,o,i);for(let a=Ot;a<n.length;a++){let c=n[a];Ju(c[J],c,t,e,r,o)}}function Tx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Qn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qn.Important),t.setStyle(n,r,i,o))}}function Sx(t,e,n){t.setAttribute(e,"style",n)}function pD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Wf(t,e,r),i!==null&&pD(t,e,i),o!==null&&Sx(t,e,o)}var Dn={};function N(t=1){gD(Xe(),fe(),wi()+t,!1)}function gD(t,e,n,r){if(!r)if((e[V]&3)===3){let o=t.preOrderCheckHooks;o!==null&&hu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&fu(e,o,0,n)}pi(n)}function M(t,e=z.Default){let n=fe();if(n===null)return W(t,e);let r=It();return KE(r,n,ht(t),e)}function yD(t,e,n,r,i,o){let s=oe(null);try{let a=null;i&Ze.SignalBased&&(a=e[r][nf]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ze.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):wE(e,a,r,o)}finally{oe(s)}}function Ax(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)pi(~i);else{let o=i,s=n[++r],a=n[++r];EN(s,o);let c=e[o];a(2,c)}}}finally{pi(-1)}}function Zu(t,e,n,r,i,o,s,a,c,u,l){let d=e.blueprint.slice();return d[Jn]=i,d[V]=r|4|128|8|64,(u!==null||t&&t[V]&2048)&&(d[V]|=2048),AE(d),d[ot]=d[Po]=t,d[Xt]=n,d[gn]=s||t&&t[gn],d[xe]=a||t&&t[xe],d[Ao]=c||t&&t[Ao]||null,d[en]=o,d[Bu]=zN(),d[Iu]=l,d[_E]=u,d[yn]=e.type==2?t[yn]:d,d}function Js(t,e,n,r,i){let o=t.data[e];if(o===null)o=Rx(t,e,n,r,i),wN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=gN();o.injectorIndex=s===null?-1:s.injectorIndex}return Ii(o,!0),o}function Rx(t,e,n,r,i){let o=NE(),s=Bp(),a=s?o:o&&o.parent,c=t.data[e]=Ox(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function vD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _D(t,e,n,r,i){let o=wi(),s=r&2;try{pi(-1),s&&e.length>Ft&&gD(t,e,Ft,!1),fn(s?2:0,i),n(r,i)}finally{pi(o),fn(s?3:1,i)}}function Xp(t,e,n){if(Lp(e)){let r=oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{oe(r)}}}function em(t,e,n){ME()&&(jx(t,e,n,jt(n,e)),(n.flags&64)===64&&ED(t,e,n))}function tm(t,e,n=jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function ID(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=nm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function nm(t,e,n,r,i,o,s,a,c,u,l){let d=Ft+r,h=d+i,p=Mx(d,h),g=typeof u=="function"?u():u;return p[J]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function Mx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Dn);return n}function Nx(t,e,n,r){let o=r.get(ex,sD)||n===mn.ShadowDom,s=t.selectRootElement(e,o);return xx(s),s}function xx(t){Px(t)}var Px=()=>null;function Ox(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return fN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Rw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Ze.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?Mw(r,n,u,a,c):Mw(r,n,u,a)}return r}function Mw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function kx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,p=h?h.inputs:null,g=h?h.outputs:null;c=Rw(0,d.inputs,l,c,p),u=Rw(1,d.outputs,l,u,g);let I=c!==null&&s!==null&&!Pp(e)?Jx(c,l,s):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function Fx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function rm(t,e,n,r,i,o,s,a){let c=jt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(om(t,n,l,r,i),$u(e)&&Vx(n,e.index)):e.type&3?(r=Fx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function Vx(t,e){let n=Rr(e,t);n[V]&16||(n[V]|=64)}function im(t,e,n,r){if(ME()){let i=r===null?null:{"":-1},o=$x(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&wD(t,e,n,s,i,a),i&&Hx(n,r,i)}n.mergedAttrs=Us(n.mergedAttrs,n.attrs)}function wD(t,e,n,r,i,o){for(let u=0;u<r.length;u++)tp(Tu(n,e),t,r[u].type);Gx(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=vD(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Us(n.mergedAttrs,l.hostAttrs),zx(t,n,e,c,l),qx(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}kx(t,n,o)}function Lx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Ux(s)!=a&&s.push(a),s.push(n,r,o)}}function Ux(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function jx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;$u(n)&&Wx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Tu(n,e),Sr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],u=No(e,t,a,n);if(Sr(u,e),s!==null&&Yx(e,a-i,u,c,n,s),Tr(c)){let l=Rr(n.index,e);l[Xt]=No(e,t,a,n)}}}function ED(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=DN();try{pi(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Xf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Bx(c,u)}}finally{pi(-1),Xf(s)}}function Bx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function $x(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(NM(e,s.selectors,!1))if(r||(r=[]),Tr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;up(t,e,c)}else r.unshift(s),up(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function up(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Hx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new R(-301,!1);r.push(e[i],o)}}}function qx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tr(e)&&(n[""]=t)}}function Gx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zx(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=li(i.type,!0)),s=new mi(o,Tr(i),M);t.blueprint[r]=s,n[r]=s,Lx(t,e,r,vD(t,n,i.hostVars,Dn),i)}function Wx(t,e,n){let r=jt(e,t),i=ID(n),o=t[gn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Xu(t,Zu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Kx(t,e,n,r,i,o){let s=jt(t,e);Qx(e[xe],s,o,t.value,n,r,i)}function Qx(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Vs(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Yx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];yD(r,n,c,u,l,d)}}function Jx(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function DD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function CD(t,e){let n=t.contentQueries;if(n!==null){let r=oe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];OE(o),a.contentQueries(2,e[s],s)}}}finally{oe(r)}}}function Xu(t,e){return t[$s]?t[Iw][Zt]=e:t[$s]=e,t[Iw]=e,e}function lp(t,e,n){OE(0);let r=oe(null);try{e(t,n)}finally{oe(r)}}function Zx(t){return t[Bs]||(t[Bs]=[])}function Xx(t){return t.cleanup||(t.cleanup=[])}function bD(t,e){let n=t[Ao],r=n?n.get(Kn,null):null;r&&r.handleError(e)}function om(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],l=t.data[s];yD(l,u,r,a,c,i)}}function TD(t,e,n){let r=bE(e,t);ax(t[xe],r,n)}function eP(t,e){let n=Rr(e,t),r=n[J];tP(r,n);let i=n[Jn];i!==null&&n[Iu]===null&&(n[Iu]=Kp(i,n[Ao])),sm(r,n,n[Xt])}function tP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function sm(t,e,n){$p(e);try{let r=t.viewQuery;r!==null&&lp(1,r,n);let i=t.template;i!==null&&_D(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ro]?.finishViewCreation(t),t.staticContentQueries&&CD(t,e),t.staticViewQueries&&lp(2,t.viewQuery,n);let o=t.components;o!==null&&nP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[V]&=-5,Hp()}}function nP(t,e){for(let n=0;n<e.length;n++)eP(t,e[n])}function rP(t,e,n,r){let i=oe(null);try{let o=e.tView,a=t[V]&4096?4096:16,c=Zu(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[ju]=u;let l=t[Ro];return l!==null&&(c[Ro]=l.createEmbeddedView(o)),sm(o,c,n),c}finally{oe(i)}}function Nw(t,e){return!e||e.firstChild===null||eD(t)}function iP(t,e,n,r=!0){let i=e[J];if(hx(i,e,t,n),r){let s=cp(n,t),a=e[xe],c=Jp(a,t[fi]);c!==null&&lx(i,t[en],a,e,c,s)}let o=e[Iu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Au(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(vn(o)),Zn(o)&&oP(o,r);let s=n.type;if(s&8)Au(t,e,n.child,r);else if(s&32){let a=Yp(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=fD(e,n);if(Array.isArray(a))r.push(...a);else{let c=qs(e[yn]);Au(c[J],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function oP(t,e){for(let n=Ot;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&Au(r[J],r,i,e)}t[fi]!==t[Jn]&&e.push(t[fi])}var SD=[];function sP(t){return t[hi]??aP(t)}function aP(t){let e=SD.pop()??Object.create(uP);return e.lView=t,e}function cP(t){t.lView[hi]!==t&&(t.lView=null,SD.push(t))}var uP=le(S({},kI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hs(t.lView)},consumerOnSignalRead(){this.lView[hi]=this}}),AD=100;function RD(t,e=!0,n=0){let r=t[gn],i=r.rendererFactory,o=!1;o||i.begin?.();try{lP(t,n)}catch(s){throw e&&bD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function lP(t,e){dp(t,e);let n=0;for(;jp(t);){if(n===AD)throw new R(103,!1);n++,dp(t,1)}}function dP(t,e,n,r){let i=e[V];if((i&256)===256)return;let o=!1;!o&&e[gn].inlineEffectRunner?.flush(),$p(e);let s=null,a=null;!o&&hP(t)&&(a=sP(e),s=FI(a));try{AE(e),IN(t.bindingStartIndex),n!==null&&_D(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&hu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&fu(e,d,0,null),Nf(e,0)}if(fP(e),MD(e,0),t.contentQueries!==null&&CD(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&hu(e,d)}else{let d=t.contentHooks;d!==null&&fu(e,d,1),Nf(e,1)}Ax(t,e);let u=t.components;u!==null&&xD(e,u,0);let l=t.viewQuery;if(l!==null&&lp(2,l,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&hu(e,d)}else{let d=t.viewHooks;d!==null&&fu(e,d,2),Nf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Mf]){for(let d of e[Mf])d();e[Mf]=null}o||(e[V]&=-73)}catch(c){throw Hs(e),c}finally{a!==null&&(VI(a,s),cP(a)),Hp()}}function hP(t){return t.type!==2}function MD(t,e){for(let n=nD(t);n!==null;n=rD(n))for(let r=Ot;r<n.length;r++){let i=n[r];ND(i,e)}}function fP(t){for(let e=nD(t);e!==null;e=rD(e)){if(!(e[V]&Vp.HasTransplantedViews))continue;let n=e[Eu];for(let r=0;r<n.length;r++){let i=n[r],o=i[ot];aN(i)}}}function pP(t,e,n){let r=Rr(e,t);ND(r,n)}function ND(t,e){Up(t)&&dp(t,e)}function dp(t,e){let r=t[J],i=t[V],o=t[hi],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&rf(o)),o&&(o.dirty=!1),t[V]&=-9217,s)dP(r,t,r.template,t[Xt]);else if(i&8192){MD(t,1);let a=r.components;a!==null&&xD(t,a,1)}}function xD(t,e,n){for(let r=0;r<e.length;r++)pP(t,e[r],n)}function am(t){for(t[gn].changeDetectionScheduler?.notify();t;){t[V]|=64;let e=qs(t);if(ZM(t)&&!e)return t;t=e}return null}var gi=class{get rootNodes(){let e=this._lView,n=e[J];return Au(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(e){this._lView[Xt]=e}get destroyed(){return(this._lView[V]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ot];if(Zn(e)){let n=e[wu],r=n?n.indexOf(this):-1;r>-1&&(ap(e,r),vu(n,r))}this._attachedToViewContainer=!1}dD(this._lView[J],this._lView)}onDestroy(e){RE(this._lView,e)}markForCheck(){am(this._cdRefInjectingView||this._lView)}detach(){this._lView[V]&=-129}reattach(){Zf(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,RD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,uD(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e,Zf(this._lView)}},el=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yP;let t=e;return t})(),mP=el,gP=class extends mP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=rP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new gi(i)}};function yP(){return PD(It(),fe())}function PD(t,e){return t.type&4?new gP(e,t,Qu(t,e)):null}var fW=new RegExp(`^(\\d+)*(${ZN}|${JN})*(.*)`);var vP=()=>null;function xw(t,e){return vP(t,e)}var hp=class{},fp=class{},Ru=class{};function _P(t){let e=Error(`No component factory found for ${ft(t)}.`);return e[IP]=t,e}var IP="ngComponent";var pp=class{resolveComponentFactory(e){throw _P(e)}},tl=(()=>{let e=class e{};e.NULL=new pp;let t=e;return t})(),Gs=class{},Nr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>wP();let t=e;return t})();function wP(){let t=fe(),e=It(),n=Rr(e.index,t);return(ci(n)?n:t)[xe]}var EP=(()=>{let e=class e{};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ff={};var Pw=new Set;function OD(t){Pw.has(t)||(Pw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ow(...t){}function DP(){let t=typeof Wn.requestAnimationFrame=="function",e=Wn[t?"requestAnimationFrame":"setTimeout"],n=Wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var _e=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=DP().nativeRequestAnimationFrame,TP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new R(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,CP,Ow,Ow);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},CP={};function cm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mp(t),t.isCheckStableRunning=!0,cm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mp(t))}function TP(t){let e=()=>{bP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(SP(a))return n.invokeTask(i,o,s,a);try{return kw(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Fw(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return kw(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Fw(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,mp(t),cm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function mp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function kw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Fw(t){t._nesting--,cm(t)}function SP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var kD=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Mu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=lw(i,a);else if(o==2){let c=a,u=e[++s];r=lw(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Nu=class extends tl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=di(e);return new zs(n,this.ngModule)}};function Vw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function AP(t){let e=t.toLowerCase();return e==="svg"?nN:e==="math"?rN:null}var gp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Vu(r);let i=this.injector.get(e,Ff,r);return i!==Ff||n===Ff?i:this.parentInjector.get(e,n,r)}},zs=class extends Ru{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Vw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Vw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=kM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=oe(null);try{i=i||this.ngModule;let s=i instanceof kt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new gp(e,s):e,c=a.get(Gs,null);if(c===null)throw new R(407,!1);let u=a.get(EP,null),l=a.get(kD,null),d=a.get(hp,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",I=r?Nx(p,r,this.componentDef.encapsulation,a):cD(p,g,AP(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let A=null;I!==null&&(A=Kp(I,a,!0));let te=nm(0,null,null,1,0,null,null,null,null,null,null),K=Zu(null,te,null,w,null,null,h,p,a,null,A);$p(K);let ve,Ye;try{let ue=this.componentDef,it,dn=null;ue.findHostDirectiveDefs?(it=[],dn=new Map,ue.findHostDirectiveDefs(ue,it,dn),it.push(ue)):it=[ue];let ni=RP(K,I),io=MP(ni,I,ue,it,K,h,p);Ye=TE(te,Ft),I&&PP(p,ue,I,r),n!==void 0&&OP(Ye,this.ngContentSelectors,n),ve=xP(io,ue,it,dn,K,[kP]),sm(te,K,null)}finally{Hp()}return new yp(this.componentType,ve,Qu(Ye,K),K,Ye)}finally{oe(o)}}},yp=class extends fp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new gi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;om(o[J],o,i,e,n),this.previousInputValues.set(e,n);let s=Rr(this._tNode.index,o);am(s)}}get injector(){return new ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function RP(t,e){let n=t[J],r=Ft;return t[r]=e,Js(n,r,2,"#host",null)}function MP(t,e,n,r,i,o,s){let a=i[J];NP(r,t,e,s);let c=null;e!==null&&(c=Kp(e,i[Ao]));let u=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Zu(i,ID(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&up(a,t,r.length-1),Xu(i,d),i[t.index]=d}function NP(t,e,n,r){for(let i of t)e.mergedAttrs=Us(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Mu(e,e.mergedAttrs,!0),n!==null&&mD(r,n,e))}function xP(t,e,n,r,i,o){let s=It(),a=i[J],c=jt(s,i);wD(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=No(i,a,d,s);Sr(h,i)}ED(a,i,s),c&&Sr(c,i);let u=No(i,a,s.directiveStart+s.componentOffset,s);if(t[Xt]=i[Xt]=u,o!==null)for(let l of o)l(u,e);return Xp(a,s,i),u}function PP(t,e,n,r){if(r)Wf(t,n,["ng-version","17.3.4"]);else{let{attrs:i,classes:o}=FM(e.selectors[0]);i&&Wf(t,n,i),o&&o.length>0&&pD(t,n,o.join(" "))}}function OP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function kP(){let t=It();Ku(fe()[J],t)}var Oo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FP;let t=e;return t})();function FP(){let t=It();return LP(t,fe())}var VP=Oo,FD=class extends VP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qu(this._hostTNode,this._hostLView)}get injector(){return new ui(this._hostTNode,this._hostLView)}get parentInjector(){let e=qp(this._hostTNode,this._hostLView);if($E(e)){let n=Cu(e,this._hostLView),r=Du(e),i=n[J].data[r+8];return new ui(i,n)}else return new ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Lw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ot}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=xw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Nw(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!JM(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new zs(di(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?u:this.parentInjector).get(kt,null);I&&(o=I)}let l=di(c.componentType??{}),d=xw(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,o);return this.insertImpl(p.hostView,a,Nw(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(sN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ot],u=new FD(c,c[en],c[ot]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return iP(s,i,o,r),e.attachToViewContainerRef(),rE(Vf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Lw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ap(this._lContainer,n);r&&(vu(Vf(this._lContainer),n),dD(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=ap(this._lContainer,n);return r&&vu(Vf(this._lContainer),n)!=null?new gi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Lw(t){return t[wu]}function Vf(t){return t[wu]||(t[wu]=[])}function LP(t,e){let n,r=e[t.index];return Zn(r)?n=r:(n=DD(r,e,null,t),e[t.index]=n,Xu(e,n)),jP(n,e,t,r),new FD(n,t,e)}function UP(t,e){let n=t[xe],r=n.createComment(""),i=jt(e,t),o=Jp(n,i);return Su(n,o,r,_x(n,i),!1),r}var jP=HP,BP=()=>!1;function $P(t,e,n){return BP(t,e,n)}function HP(t,e,n,r){if(t[fi])return;let i;n.type&8?i=vn(r):i=UP(e,n),t[fi]=i}function qP(t){return typeof t=="function"&&t[nf]!==void 0}function VD(t){return qP(t)&&typeof t.set=="function"}function GP(t){return Object.getPrototypeOf(t.prototype).constructor}function wt(t){let e=GP(t.type),n=!0,r=[t];for(;e;){let i;if(Tr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new R(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=uu(t.inputs),s.inputTransforms=uu(t.inputTransforms),s.declaredInputs=uu(t.declaredInputs),s.outputs=uu(t.outputs);let a=i.hostBindings;a&&YP(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&KP(t,c),u&&QP(t,u),zP(t,i),nM(t.outputs,i.outputs),Tr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===wt&&(n=!1)}}e=Object.getPrototypeOf(e)}WP(r)}function zP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function WP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Us(i.hostAttrs,n=Us(n,i.hostAttrs))}}function uu(t){return t===bo?{}:t===Pt?[]:t}function KP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function QP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function YP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Ar=class{},Ws=class{};var vp=class extends Ar{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nu(this);let i=hE(e);this._bootstrapComponents=aD(i.bootstrap),this._r3Injector=JE(e,n,[{provide:Ar,useValue:this},{provide:tl,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_p=class extends Ws{constructor(e){super(),this.moduleType=e}create(e){return new vp(this.moduleType,e,[])}};var xu=class extends Ar{constructor(e){super(),this.componentFactoryResolver=new Nu(this),this.instance=null;let n=new js([...e.providers,{provide:Ar,useValue:this},{provide:tl,useValue:this.componentFactoryResolver}],e.parent||Fp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function um(t,e,n=null){return new xu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var nl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LD(t){return ZP(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function JP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ZP(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function XP(t,e,n){return t[e]=n}function yi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function UD(t,e,n,r){let i=yi(t,e,n);return yi(t,e+1,r)||i}function eO(t){return(t.flags&32)===32}function tO(t,e,n,r,i,o,s,a,c){let u=e.consts,l=Js(e,t,4,s||null,Mo(u,a));im(e,n,l,Mo(u,c)),Ku(e,l);let d=l.tView=nm(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function qe(t,e,n,r,i,o,s,a){let c=fe(),u=Xe(),l=t+Ft,d=u.firstCreatePass?tO(l,u,c,e,n,r,i,o,s):u.data[l];Ii(d,!1);let h=nO(u,c,d,t);zu()&&Yu(u,c,h,d),Sr(h,c);let p=DD(h,c,h,d);return c[l]=p,Xu(c,p),$P(p,d,c),Hu(d)&&em(u,c,d),s!=null&&tm(c,d,a),qe}var nO=rO;function rO(t,e,n,r){return Wu(!0),e[xe].createComment("")}function rl(t,e,n,r){let i=fe(),o=qu();if(yi(i,o,e)){let s=Xe(),a=Gu();Kx(a,i,t,e,n,r)}return rl}function jD(t,e,n,r){return yi(t,qu(),n)?e+Vs(n)+r:Dn}function iO(t,e,n,r,i,o){let s=_N(),a=UD(t,s,n,i);return PE(2),a?e+Vs(n)+r+Vs(i)+o:Dn}function lu(t,e){return t<<17|e<<2}function vi(t){return t>>17&32767}function oO(t){return(t&2)==2}function sO(t,e){return t&131071|e<<17}function Ip(t){return t|2}function xo(t){return(t&131068)>>2}function Lf(t,e){return t&-131069|e<<2}function aO(t){return(t&1)===1}function wp(t){return t|1}function cO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=vi(s),c=xo(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Ys(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=vi(t[a+1]);t[r+1]=lu(h,a),h!==0&&(t[h+1]=Lf(t[h+1],r)),t[a+1]=sO(t[a+1],r)}else t[r+1]=lu(a,0),a!==0&&(t[a+1]=Lf(t[a+1],r)),a=r;else t[r+1]=lu(c,0),a===0?a=r:t[c+1]=Lf(t[c+1],r),c=r;u&&(t[r+1]=Ip(t[r+1])),Uw(t,l,r,!0),Uw(t,l,r,!1),uO(e,l,t,r,o),s=lu(a,c),o?e.classBindings=s:e.styleBindings=s}function uO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ys(o,e)>=0&&(n[r+1]=wp(n[r+1]))}function Uw(t,e,n,r){let i=t[n+1],o=e===null,s=r?vi(i):xo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];lO(c,e)&&(a=!0,t[s+1]=r?wp(u):Ip(u)),s=r?vi(u):xo(u)}a&&(t[n+1]=r?Ip(i):wp(i))}function lO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ys(t,e)>=0:!1}function ee(t,e,n){let r=fe(),i=qu();if(yi(r,i,e)){let o=Xe(),s=Gu();rm(o,s,r,t,e,r[xe],n,!1)}return ee}function jw(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";om(t,n,o[s],s,r)}function il(t,e){return dO(t,e,null,!0),il}function dO(t,e,n,r){let i=fe(),o=Xe(),s=PE(2);if(o.firstUpdatePass&&fO(o,t,s,r),e!==Dn&&yi(i,s,e)){let a=o.data[wi()];vO(o,a,i,i[xe],t,i[s+1]=_O(e,n),r,s)}}function hO(t,e){return e>=t.expandoStartIndex}function fO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[wi()],s=hO(t,n);IO(o,r)&&e===null&&!s&&(e=!1),e=pO(i,o,e,r),cO(i,o,e,n,s,r)}}function pO(t,e,n,r){let i=CN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Uf(null,t,e,n,r),n=Ks(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Uf(i,t,e,n,r),o===null){let c=mO(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Uf(null,t,e,c[1],r),c=Ks(c,e.attrs,r),gO(t,e,r,c))}else o=yO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function mO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(xo(r)!==0)return t[vi(r)]}function gO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[vi(i)]=r}function yO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ks(r,s,n)}return Ks(r,e.attrs,n)}function Uf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ks(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ks(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),EM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function vO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=aO(u)?Bw(c,e,n,i,xo(u),s):void 0;if(!Pu(l)){Pu(o)||oO(u)&&(o=Bw(c,null,n,i,a,s));let d=bE(wi(),n);Tx(r,s,d,i,o)}}function Bw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Dn&&(h=d?Pt:void 0);let p=d?Af(h,r):l===r?h:void 0;if(u&&!Pu(p)&&(p=Af(c,r)),Pu(p)&&(a=p,s))return a;let g=t[i+1];i=s?vi(g):xo(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Af(c,r))}return a}function Pu(t){return t!==void 0}function _O(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ft(Qp(t)))),t}function IO(t,e){return(t.flags&(e?8:16))!==0}function wO(t,e,n,r,i,o){let s=e.consts,a=Mo(s,i),c=Js(e,t,2,r,a);return im(e,n,c,Mo(s,o)),c.attrs!==null&&Mu(c,c.attrs,!1),c.mergedAttrs!==null&&Mu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function _(t,e,n,r){let i=fe(),o=Xe(),s=Ft+t,a=i[xe],c=o.firstCreatePass?wO(s,o,i,e,n,r):o.data[s],u=EO(o,i,c,a,e,t);i[s]=u;let l=Hu(c);return Ii(c,!0),mD(a,u,c),!eO(c)&&zu()&&Yu(o,i,u,c),lN()===0&&Sr(u,i),dN(),l&&(em(o,i,c),Xp(o,c,i)),r!==null&&tm(i,c),_}function v(){let t=It();Bp()?xE():(t=t.parent,Ii(t,!1));let e=t;pN(e)&&mN(),hN();let n=Xe();return n.firstCreatePass&&(Ku(n,t),Lp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&NN(e)&&jw(n,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xN(e)&&jw(n,e,fe(),e.stylesWithoutHost,!1),v}function j(t,e,n,r){return _(t,e,n,r),v(),j}var EO=(t,e,n,r,i,o)=>(Wu(!0),cD(r,i,SN()));function DO(t,e,n,r,i){let o=e.consts,s=Mo(o,r),a=Js(e,t,8,"ng-container",s);s!==null&&Mu(a,s,!0);let c=Mo(o,i);return im(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function ol(t,e,n){let r=fe(),i=Xe(),o=t+Ft,s=i.firstCreatePass?DO(o,i,r,e,n):i.data[o];Ii(s,!0);let a=CO(i,r,s,t);return r[o]=a,zu()&&Yu(i,r,a,s),Sr(a,r),Hu(s)&&(em(i,r,s),Xp(i,s,r)),n!=null&&tm(r,s),ol}function sl(){let t=It(),e=Xe();return Bp()?xE():(t=t.parent,Ii(t,!1)),e.firstCreatePass&&(Ku(e,t),Lp(t)&&e.queries.elementEnd(t)),sl}var CO=(t,e,n,r)=>(Wu(!0),cx(e[xe],""));function nr(){return fe()}var ai=void 0;function bO(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var TO=["en",[["a","p"],["AM","PM"],ai],[["AM","PM"],ai,ai],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ai,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ai,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ai,"{1} 'at' {0}",ai],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",bO],jf={};function Bt(t){let e=SO(t),n=$w(e);if(n)return n;let r=e.split("-")[0];if(n=$w(r),n)return n;if(r==="en")return TO;throw new R(701,!1)}function $w(t){return t in jf||(jf[t]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[t]),jf[t]}var Pe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pe||{});function SO(t){return t.toLowerCase().replace(/_/g,"-")}var Ou="en-US";var AO=Ou;function RO(t){typeof t=="string"&&(AO=t.toLowerCase().replace(/_/g,"-"))}function de(t,e,n,r){let i=fe(),o=Xe(),s=It();return BD(o,i,i[xe],s,t,e,r),de}function MO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Bs],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function BD(t,e,n,r,i,o,s){let a=Hu(r),u=t.firstCreatePass&&Xx(t),l=e[Xt],d=Zx(e),h=!0;if(r.type&3||s){let I=jt(r,e),w=s?s(I):I,A=d.length,te=s?ve=>s(vn(ve[r.index])):r.index,K=null;if(!s&&a&&(K=MO(t,e,i,r.index)),K!==null){let ve=K.__ngLastListenerFn__||K;ve.__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,h=!1}else{o=qw(r,e,l,o,!1);let ve=n.listen(w,i,o);d.push(o,ve),u&&u.push(i,te,A,A+1)}}else o=qw(r,e,l,o,!1);let p=r.outputs,g;if(h&&p!==null&&(g=p[i])){let I=g.length;if(I)for(let w=0;w<I;w+=2){let A=g[w],te=g[w+1],Ye=e[A][te].subscribe(o),ue=d.length;d.push(o,Ye),u&&u.push(i,r.index,ue,-(ue+1))}}}function Hw(t,e,n,r){let i=oe(null);try{return fn(6,e,n),n(r)!==!1}catch(o){return bD(t,o),!1}finally{fn(7,e,n),oe(i)}}function qw(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Rr(t.index,e):e;am(a);let c=Hw(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=Hw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function st(t=1){return TN(t)}function lm(t,e,n){return Zs(t,"",e,"",n),lm}function Zs(t,e,n,r,i){let o=fe(),s=jD(o,e,n,r);if(s!==Dn){let a=Xe(),c=Gu();rm(a,c,o,t,s,o[xe],i,!1)}return Zs}function NO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function dm(t){let e=yN();return SE(e,Ft+t)}function D(t,e=""){let n=fe(),r=Xe(),i=t+Ft,o=r.firstCreatePass?Js(r,i,1,e,null):r.data[i],s=xO(r,n,o,e,t);n[i]=s,zu()&&Yu(r,n,s,o),Ii(o,!1)}var xO=(t,e,n,r,i)=>(Wu(!0),sx(e[xe],r));function ke(t){return Cn("",t,""),ke}function Cn(t,e,n){let r=fe(),i=jD(r,t,e,n);return i!==Dn&&TD(r,wi(),i),Cn}function hm(t,e,n,r,i){let o=fe(),s=iO(o,t,e,n,r,i);return s!==Dn&&TD(o,wi(),s),hm}function fm(t,e,n){VD(e)&&(e=e());let r=fe(),i=qu();if(yi(r,i,e)){let o=Xe(),s=Gu();rm(o,s,r,t,e,r[xe],n,!1)}return fm}function $D(t,e){let n=VD(t);return n&&t.set(e),n}function pm(t,e){let n=fe(),r=Xe(),i=It();return BD(r,n,n[xe],i,t,e),pm}function PO(t,e,n){let r=Xe();if(r.firstCreatePass){let i=Tr(t);Ep(n,r.data,r.blueprint,i,!0),Ep(e,r.data,r.blueprint,i,!1)}}function Ep(t,e,n,r,i){if(t=ht(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ep(t[o],e,n,r,i);else{let o=Xe(),s=fe(),a=It(),c=So(t)?t:ht(t.provide),u=vE(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(So(t)||!t.multi){let p=new mi(u,i,M),g=$f(c,e,i?l:l+h,d);g===-1?(tp(Tu(a,s),o,c),Bf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[g]=p,s[g]=p)}else{let p=$f(c,e,l+h,d),g=$f(c,e,l,l+h),I=p>=0&&n[p],w=g>=0&&n[g];if(i&&!w||!i&&!I){tp(Tu(a,s),o,c);let A=FO(i?kO:OO,n.length,i,r,u);!i&&w&&(n[g].providerFactory=A),Bf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else{let A=HD(n[i?g:p],u,!i&&r);Bf(o,t,p>-1?p:g,A)}!i&&r&&w&&n[g].componentProviders++}}}function Bf(t,e,n,r){let i=So(e),o=HM(e);if(i||o){let c=(o?ht(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function HD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $f(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function OO(t,e,n,r){return Dp(this.multi,[])}function kO(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=No(n,n[J],this.providerFactory.index,r);o=a.slice(0,s),Dp(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Dp(i,o);return o}function Dp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function FO(t,e,n,r,i){let o=new mi(t,n,M);return o.multi=[],o.index=e,o.componentProviders=0,HD(o,i,r&&!n),o}function bn(t,e=[]){return n=>{n.providersResolver=(r,i)=>PO(r,i?i(t):t,e)}}var VO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=mE(!1,r.type),o=i.length>0?um([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(W(kt))});let t=e;return t})();function Ge(t){OD("NgStandalone"),t.getStandaloneInjector=e=>e.get(VO).getOrCreateStandaloneInjector(t)}function LO(t,e){let n=t[e];return n===Dn?void 0:n}function UO(t,e,n,r,i,o,s){let a=e+n;return UD(t,a,i,o)?XP(t,a+2,s?r.call(s,i,o):r(i,o)):LO(t,a+2)}function ko(t,e){let n=Xe(),r,i=t+Ft;n.firstCreatePass?(r=jO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=li(r.type,!0)),s,a=_t(M);try{let c=bu(!1),u=o();return bu(c),NO(n,fe(),i,u),u}finally{_t(a)}}function jO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Fo(t,e,n,r){let i=t+Ft,o=fe(),s=SE(o,i);return BO(o,i)?UO(o,vN(),e,s.transform,n,r,s):s.transform(n,r)}function BO(t,e){return t[J].data[e].pure}function mm(t,e){return PD(t,e)}var Yn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},qD=new Yn("17.3.4"),al=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var GD=new O("");function Ei(t){return!!t&&typeof t.then=="function"}function zD(t){return!!t&&typeof t.subscribe=="function"}var WD=new O(""),KD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=E(WD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Ei(s))r.push(s);else if(zD(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gm=new O("");function $O(){UI(()=>{throw new R(600,!1)})}function HO(t){return t.isBoundToModule}function qO(t,e,n){try{let r=n();return Ei(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Xs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(ZE),this.afterRenderEffectManager=E(kD),this.externalTestViews=new Set,this.beforeRender=new dt,this.afterTick=new dt,this.componentTypes=[],this.components=[],this.isStable=E(nl).hasPendingTasks.pipe(Y(r=>!r)),this._injector=E(kt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Ru;if(!this._injector.get(KD).done){let p=!o&&dE(r),g=!1;throw new R(405,g)}let a;o?a=r:a=this._injector.get(tl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=HO(a)?void 0:this._injector.get(Ar),u=i||a.selector,l=a.create(En.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(GD,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Hf(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new R(101,!1);let i=oe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,oe(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===AD)throw new R(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)GO(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Cp(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Cp(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Hf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(gm,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Hf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new R(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GO(t,e,n){!e&&!Cp(t)||zO(t,n,e)}function Cp(t){return jp(t)}function zO(t,e,n){let r;n?(r=0,t[V]|=1024):t[V]&64?r=0:r=1,RD(t,e,r)}var bp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ym=(()=>{let e=class e{compileModuleSync(r){return new _p(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=hE(r),s=aD(o.declarations).reduce((a,c)=>{let u=di(c);return u&&a.push(new zs(u)),a},[]);return new bp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var WO=(()=>{let e=class e{constructor(){this.zone=E(_e),this.applicationRef=E(Xs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KO(t){return[{provide:_e,useFactory:t},{provide:To,multi:!0,useFactory:()=>{let e=E(WO,{optional:!0});return()=>e.initialize()}},{provide:To,multi:!0,useFactory:()=>{let e=E(ZO);return()=>{e.initialize()}}},{provide:ZE,useFactory:QO}]}function QO(){let t=E(_e),e=E(Kn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function YO(t){let e=KO(()=>new _e(JO(t)));return Lu([[],e])}function JO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var ZO=(()=>{let e=class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=E(_e),this.pendingTasks=E(nl)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XO(){return typeof $localize<"u"&&$localize.locale||Ou}var cl=new O("",{providedIn:"root",factory:()=>E(cl,z.Optional|z.SkipSelf)||XO()});var QD=new O("");var mu=null;function ek(t=[],e){return En.create({name:e,providers:[{provide:Uu,useValue:"platform"},{provide:QD,useValue:new Set([()=>mu=null])},...t]})}function tk(t=[]){if(mu)return mu;let e=ek(t);return mu=e,$O(),nk(e),e}function nk(t){t.get(zp,null)?.forEach(n=>n())}var Di=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rk;let t=e;return t})();function rk(t){return ik(It(),fe(),(t&16)===16)}function ik(t,e,n){if($u(t)&&!n){let r=Rr(t.index,e);return new gi(r,r)}else if(t.type&47){let r=e[yn];return new gi(r,e)}return null}var Tp=class{constructor(){}supports(e){return LD(e)}create(e){return new Sp(e)}},ok=(t,e)=>e,Sp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ok}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Gw(r,i,o)?n:r,a=Gw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let p=h<o.length?o[h]:o[h]=0,g=p+h;l<=g&&g<u&&(o[h]=p+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!LD(e))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,JP(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Ap(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ku),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ku),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ap=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Rp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ku=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Rp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Gw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function zw(){return new vm([new Tp])}var vm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||zw()),deps:[[e,new nE,new _n]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new R(901,!1)}};e.\u0275prov=P({token:e,providedIn:"root",factory:zw});let t=e;return t})();function YD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=tk(r),o=[YO(),...n||[]],a=new xu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(_e);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Kn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=i.get(QD);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),qO(u,c,()=>{let p=a.get(KD);return p.runInitializers(),p.donePromise.then(()=>{let g=a.get(cl,Ou);RO(g||Ou);let I=a.get(Xs);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}function ea(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var n0=null;function or(){return n0}function r0(t){n0??=t}var yl=class{};var Ht=new O(""),i0=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>E(ck),providedIn:"platform"});let t=e;return t})();var ck=(()=>{let e=class e extends i0{constructor(){super(),this._doc=E(Ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return or().getBaseHref(this._doc)}onPopState(r){let i=or().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=or().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function o0(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function JD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ci(t){return t&&t[0]!=="?"?"?"+t:t}var Il=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>E(s0),providedIn:"root"});let t=e;return t})(),uk=new O(""),s0=(()=>{let e=class e extends Il{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(Ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return o0(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ci(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ci(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ci(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(i0),W(uk,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ta=(()=>{let e=class e{constructor(r){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=hk(JD(ZD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ci(i))}normalize(r){return e.stripTrailingSlash(dk(this._basePath,ZD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ci(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ci(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Ci,e.joinWithSlash=o0,e.stripTrailingSlash=JD,e.\u0275fac=function(i){return new(i||e)(W(Il))},e.\u0275prov=P({token:e,factory:()=>lk(),providedIn:"root"});let t=e;return t})();function lk(){return new ta(W(Il))}function dk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ZD(t){return t.replace(/\/index.html$/,"")}function hk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var pt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(pt||{}),ge=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ge||{}),Tt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Tt||{}),xr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function fk(t){return Bt(t)[Pe.LocaleId]}function pk(t,e,n){let r=Bt(t),i=[r[Pe.DayPeriodsFormat],r[Pe.DayPeriodsStandalone]],o=$t(i,e);return $t(o,n)}function mk(t,e,n){let r=Bt(t),i=[r[Pe.DaysFormat],r[Pe.DaysStandalone]],o=$t(i,e);return $t(o,n)}function gk(t,e,n){let r=Bt(t),i=[r[Pe.MonthsFormat],r[Pe.MonthsStandalone]],o=$t(i,e);return $t(o,n)}function yk(t,e){let r=Bt(t)[Pe.Eras];return $t(r,e)}function ul(t,e){let n=Bt(t);return $t(n[Pe.DateFormat],e)}function ll(t,e){let n=Bt(t);return $t(n[Pe.TimeFormat],e)}function dl(t,e){let r=Bt(t)[Pe.DateTimeFormat];return $t(r,e)}function wl(t,e){let n=Bt(t),r=n[Pe.NumberSymbols][e];if(typeof r>"u"){if(e===xr.CurrencyDecimal)return n[Pe.NumberSymbols][xr.Decimal];if(e===xr.CurrencyGroup)return n[Pe.NumberSymbols][xr.Group]}return r}function a0(t){if(!t[Pe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Pe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vk(t){let e=Bt(t);return a0(e),(e[Pe.ExtraData][2]||[]).map(r=>typeof r=="string"?_m(r):[_m(r[0]),_m(r[1])])}function _k(t,e,n){let r=Bt(t);a0(r);let i=[r[Pe.ExtraData][0],r[Pe.ExtraData][1]],o=$t(i,e)||[];return $t(o,n)||[]}function $t(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function _m(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var Ik=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hl={},wk=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ir=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(ir||{}),ae=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ae||{}),se=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(se||{});function Ek(t,e,n,r){let i=Nk(t);e=rr(n,e)||e;let s=[],a;for(;e;)if(a=wk.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=u0(r,c),i=Mk(i,r,!0));let u="";return s.forEach(l=>{let d=Ak(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function vl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function rr(t,e){let n=fk(t);if(hl[n]??={},hl[n][e])return hl[n][e];let r="";switch(e){case"shortDate":r=ul(t,Tt.Short);break;case"mediumDate":r=ul(t,Tt.Medium);break;case"longDate":r=ul(t,Tt.Long);break;case"fullDate":r=ul(t,Tt.Full);break;case"shortTime":r=ll(t,Tt.Short);break;case"mediumTime":r=ll(t,Tt.Medium);break;case"longTime":r=ll(t,Tt.Long);break;case"fullTime":r=ll(t,Tt.Full);break;case"short":let i=rr(t,"shortTime"),o=rr(t,"shortDate");r=fl(dl(t,Tt.Short),[i,o]);break;case"medium":let s=rr(t,"mediumTime"),a=rr(t,"mediumDate");r=fl(dl(t,Tt.Medium),[s,a]);break;case"long":let c=rr(t,"longTime"),u=rr(t,"longDate");r=fl(dl(t,Tt.Long),[c,u]);break;case"full":let l=rr(t,"fullTime"),d=rr(t,"fullDate");r=fl(dl(t,Tt.Full),[l,d]);break}return r&&(hl[n][e]=r),r}function fl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function tn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Dk(t,e){return tn(t,3).substring(0,e)}function Fe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=Ck(t,o);if((n>0||a>-n)&&(a+=n),t===ae.Hours)a===0&&n===-12&&(a=12);else if(t===ae.FractionalSeconds)return Dk(a,e);let c=wl(s,xr.MinusSign);return tn(a,e,c,r,i)}}function Ck(t,e){switch(t){case ae.FullYear:return e.getFullYear();case ae.Month:return e.getMonth();case ae.Date:return e.getDate();case ae.Hours:return e.getHours();case ae.Minutes:return e.getMinutes();case ae.Seconds:return e.getSeconds();case ae.FractionalSeconds:return e.getMilliseconds();case ae.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ie(t,e,n=pt.Format,r=!1){return function(i,o){return bk(i,o,t,e,n,r)}}function bk(t,e,n,r,i,o){switch(n){case se.Months:return gk(e,i,r)[t.getMonth()];case se.Days:return mk(e,i,r)[t.getDay()];case se.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let u=vk(e),l=_k(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[p,g]=h,I=s>=p.hours&&a>=p.minutes,w=s<g.hours||s===g.hours&&a<g.minutes;if(p.hours<g.hours){if(I&&w)return!0}else if(I||w)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return pk(e,i,r)[s<12?0:1];case se.Eras:return yk(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function pl(t){return function(e,n,r){let i=-1*r,o=wl(n,xr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ir.Short:return(i>=0?"+":"")+tn(s,2,o)+tn(Math.abs(i%60),2,o);case ir.ShortGMT:return"GMT"+(i>=0?"+":"")+tn(s,1,o);case ir.Long:return"GMT"+(i>=0?"+":"")+tn(s,2,o)+":"+tn(Math.abs(i%60),2,o);case ir.Extended:return r===0?"Z":(i>=0?"+":"")+tn(s,2,o)+":"+tn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var Tk=0,gl=4;function Sk(t){let e=vl(t,Tk,1).getDay();return vl(t,0,1+(e<=gl?gl:gl+7)-e)}function c0(t){let e=t.getDay(),n=e===0?-3:gl-e;return vl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Im(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=c0(n),s=Sk(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return tn(i,t,wl(r,xr.MinusSign))}}function ml(t,e=!1){return function(n,r){let o=c0(n).getFullYear();return tn(o,t,wl(r,xr.MinusSign),e)}}var wm={};function Ak(t){if(wm[t])return wm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ie(se.Eras,ge.Abbreviated);break;case"GGGG":e=Ie(se.Eras,ge.Wide);break;case"GGGGG":e=Ie(se.Eras,ge.Narrow);break;case"y":e=Fe(ae.FullYear,1,0,!1,!0);break;case"yy":e=Fe(ae.FullYear,2,0,!0,!0);break;case"yyy":e=Fe(ae.FullYear,3,0,!1,!0);break;case"yyyy":e=Fe(ae.FullYear,4,0,!1,!0);break;case"Y":e=ml(1);break;case"YY":e=ml(2,!0);break;case"YYY":e=ml(3);break;case"YYYY":e=ml(4);break;case"M":case"L":e=Fe(ae.Month,1,1);break;case"MM":case"LL":e=Fe(ae.Month,2,1);break;case"MMM":e=Ie(se.Months,ge.Abbreviated);break;case"MMMM":e=Ie(se.Months,ge.Wide);break;case"MMMMM":e=Ie(se.Months,ge.Narrow);break;case"LLL":e=Ie(se.Months,ge.Abbreviated,pt.Standalone);break;case"LLLL":e=Ie(se.Months,ge.Wide,pt.Standalone);break;case"LLLLL":e=Ie(se.Months,ge.Narrow,pt.Standalone);break;case"w":e=Im(1);break;case"ww":e=Im(2);break;case"W":e=Im(1,!0);break;case"d":e=Fe(ae.Date,1);break;case"dd":e=Fe(ae.Date,2);break;case"c":case"cc":e=Fe(ae.Day,1);break;case"ccc":e=Ie(se.Days,ge.Abbreviated,pt.Standalone);break;case"cccc":e=Ie(se.Days,ge.Wide,pt.Standalone);break;case"ccccc":e=Ie(se.Days,ge.Narrow,pt.Standalone);break;case"cccccc":e=Ie(se.Days,ge.Short,pt.Standalone);break;case"E":case"EE":case"EEE":e=Ie(se.Days,ge.Abbreviated);break;case"EEEE":e=Ie(se.Days,ge.Wide);break;case"EEEEE":e=Ie(se.Days,ge.Narrow);break;case"EEEEEE":e=Ie(se.Days,ge.Short);break;case"a":case"aa":case"aaa":e=Ie(se.DayPeriods,ge.Abbreviated);break;case"aaaa":e=Ie(se.DayPeriods,ge.Wide);break;case"aaaaa":e=Ie(se.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":e=Ie(se.DayPeriods,ge.Abbreviated,pt.Standalone,!0);break;case"bbbb":e=Ie(se.DayPeriods,ge.Wide,pt.Standalone,!0);break;case"bbbbb":e=Ie(se.DayPeriods,ge.Narrow,pt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ie(se.DayPeriods,ge.Abbreviated,pt.Format,!0);break;case"BBBB":e=Ie(se.DayPeriods,ge.Wide,pt.Format,!0);break;case"BBBBB":e=Ie(se.DayPeriods,ge.Narrow,pt.Format,!0);break;case"h":e=Fe(ae.Hours,1,-12);break;case"hh":e=Fe(ae.Hours,2,-12);break;case"H":e=Fe(ae.Hours,1);break;case"HH":e=Fe(ae.Hours,2);break;case"m":e=Fe(ae.Minutes,1);break;case"mm":e=Fe(ae.Minutes,2);break;case"s":e=Fe(ae.Seconds,1);break;case"ss":e=Fe(ae.Seconds,2);break;case"S":e=Fe(ae.FractionalSeconds,1);break;case"SS":e=Fe(ae.FractionalSeconds,2);break;case"SSS":e=Fe(ae.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=pl(ir.Short);break;case"ZZZZZ":e=pl(ir.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=pl(ir.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=pl(ir.Long);break;default:return null}return wm[t]=e,e}function u0(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Rk(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Mk(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=u0(e,i);return Rk(t,r*(o-i))}function Nk(t){if(XD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return vl(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Ik))return xk(r)}let e=new Date(t);if(!XD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function xk(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,u),e}function XD(t){return t instanceof Date&&!isNaN(t.valueOf())}function l0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Em=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pr=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Em(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),e0(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);e0(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(M(Oo),M(el),M(vm))},e.\u0275dir=Ce({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function e0(t,e){t.context.$implicit=e.item}var El=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Dm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){t0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){t0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(M(Oo),M(el))},e.\u0275dir=Ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Dm=class{constructor(){this.$implicit=null,this.ngIf=null}};function t0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ft(e)}'.`)}function Pk(t,e){return new R(2100,!1)}var Ok="mediumDate",kk=new O(""),Fk=new O(""),Dl=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??Ok,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Ek(r,a,s||this.locale,c)}catch(a){throw Pk(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(M(cl,16),M(kk,24),M(Fk,24))},e.\u0275pipe=cE({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var nn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ut({type:e}),e.\u0275inj=Lt({});let t=e;return t})(),d0="browser",Vk="server";function Cm(t){return t===Vk}var _l=class{};var Sm=class extends yl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Am=class t extends Sm{static makeCurrent(){r0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Lk();return n==null?null:Uk(n)}resetBaseElement(){ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return l0(document.cookie,e)}},ra=null;function Lk(){return ra=ra||document.querySelector("base"),ra?ra.getAttribute("href"):null}function Uk(t){return new URL(t,document.baseURI).pathname}var jk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Rm=new O(""),m0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new R(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(W(Rm),W(_e))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Cl=class{constructor(e){this._doc=e}},bm="ng-app-id",g0=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cm(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${bm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(bm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(bm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(W(Ht),W(Gp),W(Wp,8),W(Mr))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Tm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nm=/%COMP%/g,y0="%COMP%",Bk=`_nghost-${y0}`,$k=`_ngcontent-${y0}`,Hk=!0,qk=new O("",{providedIn:"root",factory:()=>Hk});function Gk(t){return $k.replace(Nm,t)}function zk(t){return Bk.replace(Nm,t)}function v0(t,e){return e.map(n=>n.replace(Nm,t))}var h0=(()=>{let e=class e{constructor(r,i,o,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Cm(c),this.defaultRenderer=new ia(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===mn.ShadowDom&&(i=le(S({},i),{encapsulation:mn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof bl?o.applyToHost(r):o instanceof oa&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case mn.Emulated:s=new bl(u,l,i,this.appId,d,a,c,h);break;case mn.ShadowDom:return new Mm(u,l,r,i,a,c,this.nonce,h);default:s=new oa(u,l,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(W(m0),W(g0),W(Gp),W(qk),W(Ht),W(Mr),W(_e),W(Wp))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),ia=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(f0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(f0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new R(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Tm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Tm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qn.DashCase|Qn.Important)?e.style.setProperty(n,r,i&Qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=or().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function f0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Mm=class extends ia{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=v0(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oa=class extends ia{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?v0(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bl=class extends oa{constructor(e,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=Gk(u),this.hostAttr=zk(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Wk=(()=>{let e=class e extends Cl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(W(Ht))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),p0=["alt","control","meta","shift"],Kk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Yk=(()=>{let e=class e extends Cl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>or().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),p0.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=Kk[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),p0.forEach(a=>{if(a!==o){let c=Qk[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(W(Ht))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function _0(t,e){return YD(S({rootComponent:t},Jk(e)))}function Jk(t){return{appProviders:[...n1,...t?.providers??[]],platformProviders:t1}}function Zk(){Am.makeCurrent()}function Xk(){return new Kn}function e1(){return oD(document),document}var t1=[{provide:Mr,useValue:d0},{provide:zp,useValue:Zk,multi:!0},{provide:Ht,useFactory:e1,deps:[]}];var n1=[{provide:Uu,useValue:"root"},{provide:Kn,useFactory:Xk,deps:[]},{provide:Rm,useClass:Wk,multi:!0,deps:[Ht,_e,Mr]},{provide:Rm,useClass:Yk,multi:!0,deps:[Ht]},h0,g0,m0,{provide:Gs,useExisting:h0},{provide:_l,useClass:jk,deps:[]},[]];var I0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(W(Ht))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var q="primary",Ia=Symbol("RouteTitle"),Fm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bo(t){return new Fm(t)}function i1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function o1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tn(t[n],e[n]))return!1;return!0}function Tn(t,e){let n=t?Vm(t):void 0,r=e?Vm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!T0(t[i],e[i]))return!1;return!0}function Vm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function T0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function S0(t){return t.length>0?t[t.length-1]:null}function Fr(t){return If(t)?t:Ei(t)?De(Promise.resolve(t)):$(t)}var s1={exact:R0,subset:M0},A0={exact:a1,subset:c1,ignored:()=>!0};function w0(t,e,n){return s1[n.paths](t.root,e.root,n.matrixParams)&&A0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function a1(t,e){return Tn(t,e)}function R0(t,e,n){if(!Ti(t.segments,e.segments)||!Al(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!R0(t.children[r],e.children[r],n))return!1;return!0}function c1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>T0(t[n],e[n]))}function M0(t,e,n){return N0(t,e,e.segments,n)}function N0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ti(i,n)||e.hasChildren()||!Al(i,n,r))}else if(t.segments.length===n.length){if(!Ti(t.segments,n)||!Al(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!M0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ti(t.segments,i)||!Al(t.segments,i,r)||!t.children[q]?!1:N0(t.children[q],e,o,r)}}function Al(t,e,n){return e.every((r,i)=>A0[n](t[i].parameters,r.parameters))}var Or=class{constructor(e=new he([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bo(this.queryParams),this._queryParamMap}toString(){return d1.serialize(this)}},he=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rl(this)}},bi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Bo(this.parameters),this._parameterMap}toString(){return P0(this)}};function u1(t,e){return Ti(t,e)&&t.every((n,r)=>Tn(n.parameters,e[r].parameters))}function Ti(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function l1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===q&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==q&&(n=n.concat(e(i,r)))}),n}var ug=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new Nl,providedIn:"root"});let t=e;return t})(),Nl=class{parse(e){let n=new Um(e);return new Or(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${sa(e.root,!0)}`,r=p1(e.queryParams),i=typeof e.fragment=="string"?`#${h1(e.fragment)}`:"";return`${n}${r}${i}`}},d1=new Nl;function Rl(t){return t.segments.map(e=>P0(e)).join("/")}function sa(t,e){if(!t.hasChildren())return Rl(t);if(e){let n=t.children[q]?sa(t.children[q],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==q&&r.push(`${i}:${sa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=l1(t,(r,i)=>i===q?[sa(t.children[q],!1)]:[`${i}:${sa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[q]!=null?`${Rl(t)}/${n[0]}`:`${Rl(t)}/(${n.join("//")})`}}function x0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tl(t){return x0(t).replace(/%3B/gi,";")}function h1(t){return encodeURI(t)}function Lm(t){return x0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ml(t){return decodeURIComponent(t)}function E0(t){return Ml(t.replace(/\+/g,"%20"))}function P0(t){return`${Lm(t.path)}${f1(t.parameters)}`}function f1(t){return Object.entries(t).map(([e,n])=>`;${Lm(e)}=${Lm(n)}`).join("")}function p1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Tl(n)}=${Tl(i)}`).join("&"):`${Tl(n)}=${Tl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var m1=/^[^\/()?;#]+/;function xm(t){let e=t.match(m1);return e?e[0]:""}var g1=/^[^\/()?;=#]+/;function y1(t){let e=t.match(g1);return e?e[0]:""}var v1=/^[^=?&#]+/;function _1(t){let e=t.match(v1);return e?e[0]:""}var I1=/^[^&#]+/;function w1(t){let e=t.match(I1);return e?e[0]:""}var Um=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[q]=new he(e,n)),r}parseSegment(){let e=xm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(e),new bi(Ml(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=y1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=xm(this.remaining);i&&(r=i,this.capture(r))}e[Ml(n)]=Ml(r)}parseQueryParam(e){let n=_1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=w1(this.remaining);s&&(r=s,this.capture(r))}let i=E0(n),o=E0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=q);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[q]:new he([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new R(4011,!1)}};function O0(t){return t.segments.length>0?new he([],{[q]:t}):t}function k0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=k0(i);if(r===q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new he(t.segments,e);return E1(n)}function E1(t){if(t.numberOfChildren===1&&t.children[q]){let e=t.children[q];return new he(t.segments.concat(e.segments),e.children)}return t}function $o(t){return t instanceof Or}function D1(t,e,n=null,r=null){let i=F0(t);return V0(i,e,n,r)}function F0(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new he(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=O0(r);return e??i}function V0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Pm(i,i,i,n,r);let o=C1(e);if(o.toRoot())return Pm(i,i,new he([],{}),n,r);let s=b1(o,i,t),a=s.processChildren?ua(s.segmentGroup,s.index,o.commands):U0(s.segmentGroup,s.index,o.commands);return Pm(i,s.segmentGroup,a,n,r)}function xl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ha(t){return typeof t=="object"&&t!=null&&t.outlets}function Pm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=L0(t,e,n);let a=O0(k0(s));return new Or(a,o,i)}function L0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=L0(o,e,n)}),new he(t.segments,r)}var Pl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&xl(r[0]))throw new R(4003,!1);let i=r.find(ha);if(i&&i!==S0(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function C1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Pl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Pl(n,e,r)}var Uo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function b1(t,e,n){if(t.isAbsolute)return new Uo(e,!0,0);if(!n)return new Uo(e,!1,NaN);if(n.parent===null)return new Uo(n,!0,0);let r=xl(t.commands[0])?0:1,i=n.segments.length-1+r;return T1(n,i,t.numberOfDoubleDots)}function T1(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new Uo(r,!1,i-o)}function S1(t){return ha(t[0])?t[0].outlets:{[q]:t}}function U0(t,e,n){if(t??=new he([],{}),t.segments.length===0&&t.hasChildren())return ua(t,e,n);let r=A1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new he(t.segments.slice(0,r.pathIndex),{});return o.children[q]=new he(t.segments.slice(r.pathIndex),t.children),ua(o,0,i)}else return r.match&&i.length===0?new he(t.segments,{}):r.match&&!t.hasChildren()?jm(t,e,n):r.match?ua(t,0,i):jm(t,e,n)}function ua(t,e,n){if(n.length===0)return new he(t.segments,{});{let r=S1(n),i={};if(Object.keys(r).some(o=>o!==q)&&t.children[q]&&t.numberOfChildren===1&&t.children[q].segments.length===0){let o=ua(t.children[q],e,n);return new he(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=U0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new he(t.segments,i)}}function A1(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ha(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!C0(c,u,s))return o;r+=2}else{if(!C0(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ha(o)){let c=R1(o.outlets);return new he(r,c)}if(i===0&&xl(n[0])){let c=t.segments[e];r.push(new bi(c.path,D0(n[0]))),i++;continue}let s=ha(o)?o.outlets[q]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&xl(a)?(r.push(new bi(s,D0(a))),i+=2):(r.push(new bi(s,{})),i++)}return new he(r,{})}function R1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jm(new he([],{}),0,r))}),e}function D0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function C0(t,e,n){return t==n.path&&Tn(e,n.parameters)}var la="imperative",et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(et||{}),qt=class{constructor(e,n){this.id=e,this.url=n}},fa=class extends qt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=et.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Si=class extends qt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(At||{}),Bm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Bm||{}),kr=class extends qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ai=class extends qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationSkipped}},pa=class extends qt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ol=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$m=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hm=class extends qt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qm=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gm=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zm=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wm=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Km=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qm=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ym=class{constructor(e){this.snapshot=e,this.type=et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jm=class{constructor(e){this.snapshot=e,this.type=et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ma=class{},ga=class{constructor(e){this.url=e}};var Zm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jl,this.attachRef=null}},jl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Zm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Xm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Xm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=eg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return eg(e,this._root).map(n=>n.value)}};function Xm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Xm(t,n);if(r)return r}return null}function eg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=eg(t,n);if(r.length)return r.unshift(e),r}return[]}var St=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Fl=class extends kl{constructor(e,n){super(e),this.snapshot=n,dg(this,e)}toString(){return this.snapshot.toString()}};function j0(t){let e=M1(t),n=new Je([new bi("",{})]),r=new Je({}),i=new Je({}),o=new Je({}),s=new Je(""),a=new Ho(n,r,o,s,i,q,t,e.root);return a.snapshot=e.root,new Fl(new St(a,[]),e)}function M1(t){let e={},n={},r={},i="",o=new ya([],e,r,i,n,q,t,null,{});return new Vl("",new St(o,[]))}var Ho=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(u=>u[Ia]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>Bo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>Bo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function lg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},i&&$0(i)&&(r.resolve[Ia]=i.title),r}var ya=class{get title(){return this.data?.[Ia]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Vl=class extends kl{constructor(e,n){super(n),this.url=e,dg(this,n)}toString(){return B0(this._root)}};function dg(t,e){e.value._routerState=t,e.children.forEach(n=>dg(t,n))}function B0(t){let e=t.children.length>0?` { ${t.children.map(B0).join(", ")} } `:"";return`${t.value}${e}`}function Om(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Tn(e.params,n.params)||t.paramsSubject.next(n.params),o1(e.url,n.url)||t.urlSubject.next(n.url),Tn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function tg(t,e){let n=Tn(t.params,e.params)&&u1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||tg(t.parent,e.parent))}function $0(t){return typeof t.title=="string"||t.title===null}var N1=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=q,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.parentContexts=E(jl),this.location=E(Oo),this.changeDetector=E(Di),this.environmentInjector=E(kt),this.inputBinder=E(hg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new ng(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xn]});let t=e;return t})(),ng=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Ho?this.route:e===jl?this.childContexts:this.parent.get(e,n)}},hg=new O("");function x1(t,e,n){let r=va(t,e._root,n?n._root:void 0);return new Fl(r,e)}function va(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=P1(t,e,n);return new St(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>va(t,a)),s}}let r=O1(e.value),i=e.children.map(o=>va(t,o));return new St(r,i)}}function P1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return va(t,r,i);return va(t,r)})}function O1(t){return new Ho(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var H0="ngNavigationCancelingError";function q0(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=$o(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=G0(!1,At.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function G0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[H0]=!0,n.cancellationCode=e,n}function k1(t){return z0(t)&&$o(t.url)}function z0(t){return!!t&&t[H0]}var F1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=He({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ge],decls:1,vars:0,template:function(i,o){i&1&&j(0,"router-outlet")},dependencies:[N1],encapsulation:2});let t=e;return t})();function V1(t,e){return t.providers&&!t._injector&&(t._injector=um(t.providers,e,`Route: ${t.path}`)),t._injector??e}function fg(t){let e=t.children&&t.children.map(fg),n=e?le(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==q&&(n.component=F1),n}function Sn(t){return t.outlet||q}function L1(t,e){let n=t.filter(r=>Sn(r)===e);return n.push(...t.filter(r=>Sn(r)!==e)),n}function wa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var U1=(t,e,n,r)=>Y(i=>(new rg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),rg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Om(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Lo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Lo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Lo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Lo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Jm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Om(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Om(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=wa(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Ll=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},jo=class{constructor(e,n){this.component=e,this.route=n}};function j1(t,e,n){let r=t._root,i=e?e._root:null;return aa(r,i,n,[r.value])}function B1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Go(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Qw(t)?t:e.get(t):r}function aa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Lo(e);return t.children.forEach(s=>{$1(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>da(a,n.getContext(s),i)),i}function $1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=H1(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ll(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?aa(t,e,a?a.children:null,r,i):aa(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jo(a.outlet.component,s))}else s&&da(e,a,i),i.canActivateChecks.push(new Ll(r)),o.component?aa(t,null,a?a.children:null,r,i):aa(t,null,n,r,i);return i}function H1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ti(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ti(t.url,e.url)||!Tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tg(t,e)||!Tn(t.queryParams,e.queryParams);case"paramsChange":default:return!tg(t,e)}}function da(t,e,n){let r=Lo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?da(s,e.children.getContext(o),n):da(s,null,n):da(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new jo(e.outlet.component,i)):n.canDeactivateChecks.push(new jo(null,i)):n.canDeactivateChecks.push(new jo(null,i))}function Ea(t){return typeof t=="function"}function q1(t){return typeof t=="boolean"}function G1(t){return t&&Ea(t.canLoad)}function z1(t){return t&&Ea(t.canActivate)}function W1(t){return t&&Ea(t.canActivateChild)}function K1(t){return t&&Ea(t.canDeactivate)}function Q1(t){return t&&Ea(t.canMatch)}function W0(t){return t instanceof Gn||t?.name==="EmptyError"}var Sl=Symbol("INITIAL_VALUE");function qo(){return Yt(t=>ou(t.map(e=>e.pipe(zn(1),Tf(Sl)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===Sl)return Sl;if(n===!1||n instanceof Or)return n}return!0}),Qt(e=>e!==Sl),zn(1)))}function Y1(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?$(le(S({},n),{guardsResult:!0})):J1(s,r,i,t).pipe(je(a=>a&&q1(a)?Z1(r,o,t,e):$(a)),Y(a=>le(S({},n),{guardsResult:a})))})}function J1(t,e,n,r){return De(t).pipe(je(i=>rF(i.component,i.route,n,e,r)),hn(i=>i!==!0,!0))}function Z1(t,e,n,r){return De(e).pipe(vo(i=>yo(eF(i.route.parent,r),X1(i.route,r),nF(t,i.path,n),tF(t,i.route,n))),hn(i=>i!==!0,!0))}function X1(t,e){return t!==null&&e&&e(new Ym(t)),$(!0)}function eF(t,e){return t!==null&&e&&e(new Km(t)),$(!0)}function tF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(o=>su(()=>{let s=wa(e)??n,a=Go(o,s),c=z1(a)?a.canActivate(e,t):_i(s,()=>a(e,t));return Fr(c).pipe(hn())}));return $(i).pipe(qo())}function nF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>B1(s)).filter(s=>s!==null).map(s=>su(()=>{let a=s.guards.map(c=>{let u=wa(s.node)??n,l=Go(c,u),d=W1(l)?l.canActivateChild(r,t):_i(u,()=>l(r,t));return Fr(d).pipe(hn())});return $(a).pipe(qo())}));return $(o).pipe(qo())}function rF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return $(!0);let s=o.map(a=>{let c=wa(e)??i,u=Go(a,c),l=K1(u)?u.canDeactivate(t,e,n,r):_i(c,()=>u(t,e,n,r));return Fr(l).pipe(hn())});return $(s).pipe(qo())}function iF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return $(!0);let o=i.map(s=>{let a=Go(s,t),c=G1(a)?a.canLoad(e,n):_i(t,()=>a(e,n));return Fr(c)});return $(o).pipe(qo(),K0(r))}function K0(t){return hf(Be(e=>{if($o(e))throw q0(t,e)}),Y(e=>e===!0))}function oF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return $(!0);let o=i.map(s=>{let a=Go(s,t),c=Q1(a)?a.canMatch(e,n):_i(t,()=>a(e,n));return Fr(c)});return $(o).pipe(qo(),K0(r))}var _a=class{constructor(e){this.segmentGroup=e||null}},Ul=class extends Error{constructor(e){super(),this.urlTree=e}};function Vo(t){return go(new _a(t))}function sF(t){return go(new R(4e3,!1))}function aF(t){return go(G0(!1,At.GuardRejected))}var ig=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[q])return sF(e.redirectTo);i=i.children[q]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ul(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Or(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new he(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},og={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cF(t,e,n,r,i){let o=pg(t,e,n);return o.matched?(r=V1(e,r),oF(r,e,n,i).pipe(Y(s=>s===!0?o:S({},og)))):$(o)}function pg(t,e,n){if(e.path==="**")return uF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},og):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||i1)(n,t,e);if(!i)return S({},og);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?S(S({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function uF(t){return{matched:!0,parameters:t.length>0?S0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function b0(t,e,n,r){return n.length>0&&hF(t,n,r)?{segmentGroup:new he(e,dF(r,new he(n,t.children))),slicedSegments:[]}:n.length===0&&fF(t,n,r)?{segmentGroup:new he(t.segments,lF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new he(t.segments,t.children),slicedSegments:n}}function lF(t,e,n,r){let i={};for(let o of n)if(Bl(t,e,o)&&!r[Sn(o)]){let s=new he([],{});i[Sn(o)]=s}return S(S({},r),i)}function dF(t,e){let n={};n[q]=e;for(let r of t)if(r.path===""&&Sn(r)!==q){let i=new he([],{});n[Sn(r)]=i}return n}function hF(t,e,n){return n.some(r=>Bl(t,e,r)&&Sn(r)!==q)}function fF(t,e,n){return n.some(r=>Bl(t,e,r))}function Bl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function pF(t,e,n,r){return Sn(t)!==r&&(r===q||!Bl(e,n,t))?!1:pg(e,t,n).matched}function mF(t,e,n){return e.length===0&&!t.children[n]}var sg=class{};function gF(t,e,n,r,i,o,s="emptyOnly"){return new ag(t,e,n,r,i,s,o).recognize()}var yF=31,ag=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ig(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new R(4002,`'${e.segmentGroup}'`)}recognize(){let e=b0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(n=>{let r=new ya([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},q,this.rootComponentType,null,{}),i=new St(r,n),o=new Vl("",i),s=D1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,q).pipe(Er(r=>{if(r instanceof Ul)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _a?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=lg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Y(o=>o instanceof St?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return De(i).pipe(vo(o=>{let s=r.children[o],a=L1(n,o);return this.processSegmentGroup(e,a,s,o)}),bf((o,s)=>(o.push(...s),o)),Dr(null),Cf(),je(o=>{if(o===null)return Vo(r);let s=Q0(o);return vF(s),$(s)}))}processSegment(e,n,r,i,o,s){return De(n).pipe(vo(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Er(c=>{if(c instanceof _a)return $(null);throw c}))),hn(a=>!!a),Er(a=>{if(W0(a))return mF(r,i,o)?$(new sg):Vo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return pF(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Vo(i):Vo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=pg(n,i,o);if(!a)return Vo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yF&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(je(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=cF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Yt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Yt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new ya(l,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,IF(r),Sn(r),r.component??r._loadedComponent??null,r,wF(r)),{segmentGroup:g,slicedSegments:I}=b0(n,l,d,c);if(I.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(Y(A=>A===null?null:new St(p,A)));if(c.length===0&&I.length===0)return $(new St(p,[]));let w=Sn(r)===o;return this.processSegment(u,c,g,I,w?q:o,!0).pipe(Y(A=>new St(p,A instanceof St?[A]:[])))}))):Vo(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?$({routes:n._loadedRoutes,injector:n._loadedInjector}):iF(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(Be(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):aF(n))):$({routes:[],injector:e})}};function vF(t){t.sort((e,n)=>e.value.outlet===q?-1:n.value.outlet===q?1:e.value.outlet.localeCompare(n.value.outlet))}function _F(t){let e=t.value.routeConfig;return e&&e.path===""}function Q0(t){let e=[],n=new Set;for(let r of t){if(!_F(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Q0(r.children);e.push(new St(r.value,i))}return e.filter(r=>!n.has(r))}function IF(t){return t.data||{}}function wF(t){return t.resolve||{}}function EF(t,e,n,r,i,o){return je(s=>gF(t,e,n,r,s.extractedUrl,i,o).pipe(Y(({state:a,tree:c})=>le(S({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function DF(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of Y0(c))s.add(u);let a=0;return De(s).pipe(vo(c=>o.has(c)?CF(c,r,t,e):(c.data=lg(c,c.parent,t).resolve,$(void 0))),Be(()=>a++),_o(1),je(c=>a===s.size?$(n):bt))})}function Y0(t){let e=t.children.map(n=>Y0(n)).flat();return[t,...e]}function CF(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!$0(i)&&(o[Ia]=i.title),bF(o,t,e,r).pipe(Y(s=>(t._resolvedData=s,t.data=lg(t,t.parent,n).resolve,null)))}function bF(t,e,n,r){let i=Vm(t);if(i.length===0)return $({});let o={};return De(i).pipe(je(s=>TF(t[s],e,n,r).pipe(hn(),Be(a=>{o[s]=a}))),_o(1),Df(o),Er(s=>W0(s)?bt:go(s)))}function TF(t,e,n,r){let i=wa(e)??r,o=Go(t,i),s=o.resolve?o.resolve(e,n):_i(i,()=>o(e,n));return Fr(s)}function km(t){return Yt(e=>{let n=t(e);return n?De(n).pipe(Y(()=>e)):$(e)})}var J0=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===q);return i}getResolvedTitleForRoute(r){return r.data[Ia]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>E(SF),providedIn:"root"});let t=e;return t})(),SF=(()=>{let e=class e extends J0{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(W(I0))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mg=new O("",{providedIn:"root",factory:()=>({})}),gg=new O(""),AF=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(ym)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Fr(r.loadComponent()).pipe(Y(Z0),Be(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ks(()=>{this.componentLoaders.delete(r)})),o=new ho(i,()=>new dt).pipe(lo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=RF(i,this.compiler,r,this.onLoadEndListener).pipe(ks(()=>{this.childrenLoaders.delete(i)})),a=new ho(s,()=>new dt).pipe(lo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RF(t,e,n,r){return Fr(t.loadChildren()).pipe(Y(Z0),je(i=>i instanceof Ws||Array.isArray(i)?$(i):De(e.compileModuleAsync(i))),Y(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(gg,[],{optional:!0,self:!0}).flat()),{routes:s.map(fg),injector:o}}))}function MF(t){return t&&typeof t=="object"&&"default"in t}function Z0(t){return MF(t)?t.default:t}var yg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>E(NF),providedIn:"root"});let t=e;return t})(),NF=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xF=new O("");var PF=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dt,this.transitionAbortSubject=new dt,this.configLoader=E(AF),this.environmentInjector=E(kt),this.urlSerializer=E(ug),this.rootContexts=E(jl),this.location=E(ta),this.inputBindingEnabled=E(hg,{optional:!0})!==null,this.titleStrategy=E(J0),this.options=E(mg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(yg),this.createViewTransition=E(xF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null;let r=o=>this.events.next(new zm(o)),i=o=>this.events.next(new Wm(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(le(S(S({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:la,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qt(s=>s.id!==0),Y(s=>le(S({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Yt(s=>{let a=!1,c=!1;return $(s).pipe(Yt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",At.SupersededByNewNavigation),bt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?le(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Ai(u.id,this.urlSerializer.serialize(u.rawUrl),h,Bm.IgnoredSameUrlNavigation)),u.resolve(null),bt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return $(u).pipe(Yt(h=>{let p=this.transitions?.getValue();return this.events.next(new fa(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?bt:Promise.resolve(h)}),EF(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=le(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Ol(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:g,restoredState:I,extras:w}=u,A=new fa(h,this.urlSerializer.serialize(p),g,I);this.events.next(A);let te=j0(this.rootComponentType).snapshot;return this.currentTransition=s=le(S({},u),{targetSnapshot:te,urlAfterRedirects:p,extras:le(S({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,$(s)}else{let h="";return this.events.next(new Ai(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Bm.IgnoredByUrlHandlingStrategy)),u.resolve(null),bt}}),Be(u=>{let l=new $m(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Y(u=>(this.currentTransition=s=le(S({},u),{guards:j1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),Y1(this.environmentInjector,u=>this.events.next(u)),Be(u=>{if(s.guardsResult=u.guardsResult,$o(u.guardsResult))throw q0(this.urlSerializer,u.guardsResult);let l=new Hm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Qt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",At.GuardRejected),!1)),km(u=>{if(u.guards.canActivateChecks.length)return $(u).pipe(Be(l=>{let d=new qm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Yt(l=>{let d=!1;return $(l).pipe(DF(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",At.NoDataFromResolver)}}))}),Be(l=>{let d=new Gm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),km(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Be(p=>{d.component=p}),Y(()=>{})));for(let p of d.children)h.push(...l(p));return h};return ou(l(u.targetSnapshot.root)).pipe(Dr(null),zn(1))}),km(()=>this.afterPreactivation()),Yt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?De(d).pipe(Y(()=>s)):$(s)}),Y(u=>{let l=x1(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=le(S({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Be(()=>{this.events.next(new ma)}),U1(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),zn(1),Be({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Si(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Sf(this.transitionAbortSubject.pipe(Be(u=>{throw u}))),ks(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",At.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Er(u=>{if(c=!0,z0(u))this.events.next(new kr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),k1(u)?this.events.next(new ga(u.url)):s.resolve(!1);else{this.events.next(new pa(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return bt}))}))}cancelNavigationTransition(r,i,o){let s=new kr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OF(t){return t!==la}var kF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>E(FF),providedIn:"root"});let t=e;return t})(),cg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},FF=(()=>{let e=class e extends cg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),X0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>E(VF),providedIn:"root"});let t=e;return t})(),VF=(()=>{let e=class e extends X0{constructor(){super(...arguments),this.location=E(ta),this.urlSerializer=E(ug),this.options=E(mg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(yg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=j0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof fa)this.stateMemento=this.createStateMemento();else if(r instanceof Ai)this.rawUrlTree=i.initialUrl;else if(r instanceof Ol){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof ma?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof kr&&(r.code===At.GuardRejected||r.code===At.NoDataFromResolver)?this.restoreHistory(i):r instanceof pa?this.restoreHistory(i,!0):r instanceof Si&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=S(S({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ca=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ca||{});function LF(t,e){t.events.pipe(Qt(n=>n instanceof Si||n instanceof kr||n instanceof pa||n instanceof Ai),Y(n=>n instanceof Si||n instanceof Ai?ca.COMPLETE:(n instanceof kr?n.code===At.Redirect||n.code===At.SupersededByNewNavigation:!1)?ca.REDIRECTING:ca.FAILED),Qt(n=>n!==ca.REDIRECTING),zn(1)).subscribe(()=>{e()})}function UF(t){throw t}var jF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$l=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=E(al),this.stateManager=E(X0),this.options=E(mg,{optional:!0})||{},this.pendingTasks=E(nl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(PF),this.urlSerializer=E(ug),this.location=E(ta),this.urlHandlingStrategy=E(yg),this._events=new dt,this.errorHandler=this.options.errorHandler||UF,this.navigated=!1,this.routeReuseStrategy=E(kF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(gg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(hg,{optional:!0}),this.eventsSubscription=new Ne,this.isNgZoneEnabled=E(_e)instanceof _e&&_e.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof kr&&i.code!==At.Redirect&&i.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Si)this.navigated=!0;else if(i instanceof ga){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||OF(o.source)};this.scheduleNavigation(a,la,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}HF(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),la,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=S({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(fg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=S(S({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=o?o.snapshot:this.routerState.snapshot.root;h=F0(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return V0(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=$o(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,la,null,i)}navigate(r,i={skipLocationChange:!1}){return $F(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=S({},jF):i===!1?o=S({},BF):o=i,$o(r))return w0(this.currentUrlTree,r,o);let s=this.parseUrl(r);return w0(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return LF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $F(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new R(4008,!1)}function HF(t){return!(t instanceof ma)&&!(t instanceof ga)}var qF=new O("");function eC(t,...e){return Lu([{provide:gg,multi:!0,useValue:t},[],{provide:Ho,useFactory:GF,deps:[$l]},{provide:gm,multi:!0,useFactory:zF},e.map(n=>n.\u0275providers)])}function GF(t){return t.routerState.root}function zF(){let t=E(En);return e=>{let n=t.get(Xs);if(e!==n.components[0])return;let r=t.get($l),i=t.get(WF);t.get(KF)===1&&r.initialNavigation(),t.get(QF,null,z.Optional)?.setUpPreloading(),t.get(qF,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var WF=new O("",{factory:()=>new dt}),KF=new O("",{providedIn:"root",factory:()=>1});var QF=new O("");var tC=[];var rC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},iC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,s||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new _g;let h=o<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},_g=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},JF=function(t){let e=rC(t);return iC.encodeByteArray(e,!0)},Da=function(t){return JF(t).replace(/\./g,"")},wg=function(t){try{return iC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var XF=()=>ZF().__FIREBASE_DEFAULTS__,eV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wg(t[1]);return e&&JSON.parse(e)},ql=()=>{try{return XF()||eV()||tV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Eg=t=>{var e,n;return(n=(e=ql())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oC=t=>{let e=Eg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Dg=()=>{var t;return(t=ql())===null||t===void 0?void 0:t.config},Cg=t=>{var e;return(e=ql())===null||e===void 0?void 0:e[`_${t}`]};var Hl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function sC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Da(JSON.stringify(n)),Da(JSON.stringify(s)),""].join(".")}function Se(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function nV(){var t;let e=(t=ql())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lC(){let t=Se();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dC(){return!nV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gl(){try{return typeof indexedDB=="object"}catch{return!1}}function hC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var rV="FirebaseError",Rt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sr.prototype.create)}},sr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?iV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Rt(i,a,r)}};function iV(t,e){return t.replace(oV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var oV=/\{\$([^}]+)}/g;function fC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ri(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(nC(o)&&nC(s)){if(!Ri(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function nC(t){return t!==null&&typeof t=="object"}function Ca(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Wo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pC(t,e){let n=new Ig(t,e);return n.subscribe.bind(n)}var Ig=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vg),i.error===void 0&&(i.error=vg),i.complete===void 0&&(i.complete=vg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function sV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vg(){}var j6=4*60*60*1e3;function mt(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Mi="[DEFAULT]";var bg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Hl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cV(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aV(t){return t===Mi?void 0:t}function cV(t){return t.instantiationMode==="EAGER"}var zl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new bg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uV=[],Z=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Z||{}),lV={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},dV=Z.INFO,hV={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},fV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=hV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Vr=class{constructor(e){this.name=e,this._logLevel=dV,this._logHandler=fV,this._userLogHandler=null,uV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}};var pV=(t,e)=>e.some(n=>t instanceof n),mC,gC;function mV(){return mC||(mC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gV(){return gC||(gC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var yC=new WeakMap,Sg=new WeakMap,vC=new WeakMap,Tg=new WeakMap,Rg=new WeakMap;function yV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(An(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&yC.set(n,t)}).catch(()=>{}),Rg.set(e,t),e}function vV(t){if(Sg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Sg.set(t,e)}var Ag={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _C(t){Ag=t(Ag)}function _V(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Wl(this),e,...n);return vC.set(r,e.sort?e.sort():[e]),An(r)}:gV().includes(t)?function(...e){return t.apply(Wl(this),e),An(yC.get(this))}:function(...e){return An(t.apply(Wl(this),e))}}function IV(t){return typeof t=="function"?_V(t):(t instanceof IDBTransaction&&vV(t),pV(t,mV())?new Proxy(t,Ag):t)}function An(t){if(t instanceof IDBRequest)return yV(t);if(Tg.has(t))return Tg.get(t);let e=IV(t);return e!==t&&(Tg.set(t,e),Rg.set(e,t)),e}var Wl=t=>Rg.get(t);function wC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=An(s);return r&&s.addEventListener("upgradeneeded",c=>{r(An(s.result),c.oldVersion,c.newVersion,An(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var wV=["get","getKey","getAll","getAllKeys","count"],EV=["put","add","delete","clear"],Mg=new Map;function IC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mg.get(e))return Mg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=EV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wV.includes(n)))return;let o=function(s,...a){return f(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Mg.set(e,o),o}_C(t=>le(S({},t),{get:(e,n,r)=>IC(e,n)||t.get(e,n,r),has:(e,n)=>!!IC(e,n)||t.has(e,n)}));var xg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function DV(t){let e=t.getComponent();return e?.type==="VERSION"}var Pg="@firebase/app",EC="0.10.1";var Ni=new Vr("@firebase/app"),CV="@firebase/app-compat",bV="@firebase/analytics-compat",TV="@firebase/analytics",SV="@firebase/app-check-compat",AV="@firebase/app-check",RV="@firebase/auth",MV="@firebase/auth-compat",NV="@firebase/database",xV="@firebase/database-compat",PV="@firebase/functions",OV="@firebase/functions-compat",kV="@firebase/installations",FV="@firebase/installations-compat",VV="@firebase/messaging",LV="@firebase/messaging-compat",UV="@firebase/performance",jV="@firebase/performance-compat",BV="@firebase/remote-config",$V="@firebase/remote-config-compat",HV="@firebase/storage",qV="@firebase/storage-compat",GV="@firebase/firestore",zV="@firebase/firestore-compat",WV="firebase",KV="10.11.0";var Og="[DEFAULT]",QV={[Pg]:"fire-core",[CV]:"fire-core-compat",[TV]:"fire-analytics",[bV]:"fire-analytics-compat",[AV]:"fire-app-check",[SV]:"fire-app-check-compat",[RV]:"fire-auth",[MV]:"fire-auth-compat",[NV]:"fire-rtdb",[xV]:"fire-rtdb-compat",[PV]:"fire-fn",[OV]:"fire-fn-compat",[kV]:"fire-iid",[FV]:"fire-iid-compat",[VV]:"fire-fcm",[LV]:"fire-fcm-compat",[UV]:"fire-perf",[jV]:"fire-perf-compat",[BV]:"fire-rc",[$V]:"fire-rc-compat",[HV]:"fire-gcs",[qV]:"fire-gcs-compat",[GV]:"fire-fst",[zV]:"fire-fst-compat","fire-js":"fire-js",[WV]:"fire-js-all"};var ba=new Map,YV=new Map,kg=new Map;function DC(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ur(t){let e=t.name;if(kg.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,t);for(let n of ba.values())DC(n,t);for(let n of YV.values())DC(n,t);return!0}function Sa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t.settings!==void 0}var JV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new sr("app","Firebase",JV);var Fg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}};var jr=KV;function Ug(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Og,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(n||(n=Dg()),!n)throw Lr.create("no-options");let o=ba.get(i);if(o){if(Ri(n,o.options)&&Ri(r,o.config))return o;throw Lr.create("duplicate-app",{appName:i})}let s=new zl(i);for(let c of kg.values())s.addComponent(c);let a=new Fg(n,r,s);return ba.set(i,a),a}function Ko(t=Og){let e=ba.get(t);if(!e&&t===Og&&Dg())return Ug();if(!e)throw Lr.create("no-app",{appName:t});return e}function Kl(){return Array.from(ba.values())}function tt(t,e,n){var r;let i=(r=QV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(a.join(" "));return}Ur(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ZV="firebase-heartbeat-database",XV=1,Ta="firebase-heartbeat-store",Ng=null;function SC(){return Ng||(Ng=wC(ZV,XV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ta)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),Ng}function eL(t){return f(this,null,function*(){try{let n=(yield SC()).transaction(Ta),r=yield n.objectStore(Ta).get(AC(t));return yield n.done,r}catch(e){if(e instanceof Rt)Ni.warn(e.message);else{let n=Lr.create("idb-get",{originalErrorMessage:e?.message});Ni.warn(n.message)}}})}function CC(t,e){return f(this,null,function*(){try{let r=(yield SC()).transaction(Ta,"readwrite");yield r.objectStore(Ta).put(e,AC(t)),yield r.done}catch(n){if(n instanceof Rt)Ni.warn(n.message);else{let r=Lr.create("idb-set",{originalErrorMessage:n?.message});Ni.warn(r.message)}}})}function AC(t){return`${t.name}!${t.options.appId}`}var tL=1024,nL=30*24*60*60*1e3,Vg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Lg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=nL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=bC(),{heartbeatsToSend:r,unsentEntries:i}=rL(this._heartbeatsCache.heartbeats),o=Da(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function bC(){return new Date().toISOString().substring(0,10)}function rL(t,e=tL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),TC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Lg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Gl()?hC().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield eL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return CC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return CC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function TC(t){return Da(JSON.stringify({version:2,heartbeats:t})).length}function iL(t){Ur(new Gt("platform-logger",e=>new xg(e),"PRIVATE")),Ur(new Gt("heartbeat",e=>new Vg(e),"PRIVATE")),tt(Pg,EC,t),tt(Pg,EC,"esm2017"),tt("fire-js","")}iL("");var oL="firebase",sL="10.11.0";tt(oL,sL,"app");var Aa=new Yn("ANGULARFIRE2_VERSION");function RC(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Bg=(t,e)=>{let n=e?[e]:Kl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ql=class{constructor(){return Bg(aL)}},aL="app-check";function Qo(){}var Yl=class{zone;delegate;constructor(e,n=vf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},jg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qo,{},Qo,Qo)),n.pipe(Be({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Jl=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Yl(Zone.current)),this.insideAngular=n.run(()=>new Yl(Zone.current,yf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(W(_e))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function cL(t){return Zl().ngZone.runOutsideAngular(()=>t())}function xi(t){return Zl().ngZone.run(()=>t())}function uL(t){return lL(Zl())(t)}function lL(t){return function(n){return n=n.lift(new jg(t.ngZone)),n.pipe(wr(t.outsideAngular),Ir(t.insideAngular))}}var dL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),xi(()=>t.apply(void 0,r))},Xl=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=xi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qo,{},Qo,Qo))),r[o]=dL(r[o],n));let i=cL(()=>t.apply(this,r));if(!e)if(i instanceof ne){let o=Zl();return i.pipe(wr(o.outsideAngular),Ir(o.insideAngular))}else return xi(()=>i);return i instanceof ne?i.pipe(uL):i instanceof Promise?xi(()=>new Promise((o,s)=>i.then(a=>xi(()=>o(a)),a=>xi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:xi(()=>i)};var Pi=class{constructor(e){return e}},Ra=class{constructor(){return Kl()}};function hL(t){return t&&t.length===1?t[0]:new Pi(Ko())}var $g=new O("angularfire2._apps"),fL={provide:Pi,useFactory:hL,deps:[[new _n,$g]]},pL={provide:Ra,deps:[[new _n,$g]]};function mL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pi(r)}}var gL=(()=>{class t{constructor(n){tt("angularfire",Aa.full,"core"),tt("angularfire",Aa.full,"app"),tt("angular",qD.full,n.toString())}static \u0275fac=function(r){return new(r||t)(W(Mr))};static \u0275mod=Ut({type:t});static \u0275inj=Lt({providers:[fL,pL]})}return t})();function MC(t,...e){return{ngModule:gL,providers:[{provide:$g,useFactory:mL(t),multi:!0,deps:[_e,En,Jl,...e]}]}}var NC=Xl(Ug,!0);function QC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var YC=QC,JC=new sr("auth","Firebase",QC());var od=new Vr("@firebase/auth");function yL(t,...e){od.logLevel<=Z.WARN&&od.warn(`Auth (${jr}): ${t}`,...e)}function td(t,...e){od.logLevel<=Z.ERROR&&od.error(`Auth (${jr}): ${t}`,...e)}function Nn(t,...e){throw ly(t,...e)}function Oi(t,...e){return ly(t,...e)}function ZC(t,e,n){let r=Object.assign(Object.assign({},YC()),{[e]:n});return new sr("auth","Firebase",r).create(e,{appName:t.name})}function $r(t){return ZC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ly(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JC.create(t,...e)}function k(t,e,...n){if(!t)throw ly(e,...n)}function ar(t){let e="INTERNAL ASSERTION FAILED: "+t;throw td(e),new Error(e)}function Hr(t,e){t||ar(e)}function zg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vL(){return xC()==="http:"||xC()==="https:"}function xC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function _L(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vL()||cC()||"connection"in navigator)?navigator.onLine:!0}function IL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ki=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=aC()||uC()}get(){return _L()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function dy(t,e){Hr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var sd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var EL=new ki(3e4,6e4);function Vi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function qr(o,s,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return XC(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Ca(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),sd.fetch()(eb(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function XC(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},wL),e);try{let i=new Wg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ed(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ed(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw ed(t,"user-disabled",s);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ZC(t,l,u);Nn(t,l)}}catch(i){if(i instanceof Rt)throw i;Nn(t,"network-request-failed",{message:String(i)})}})}function gd(o,s,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield qr(t,e,n,r,i);return"mfaPendingCredential"in u&&Nn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function eb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?dy(t.config,i):`${t.config.apiScheme}://${i}`}function DL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Wg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),EL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ed(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Oi(t,e,r);return i.customData._tokenResponse=n,i}function PC(t){return t!==void 0&&t.enterprise!==void 0}var Kg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function CL(t,e){return f(this,null,function*(){return qr(t,"GET","/v2/recaptchaConfig",Vi(t,e))})}function bL(t,e){return f(this,null,function*(){return qr(t,"POST","/v1/accounts:delete",e)})}function tb(t,e){return f(this,null,function*(){return qr(t,"POST","/v1/accounts:lookup",e)})}function Ma(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function hy(t,e=!1){return f(this,null,function*(){let n=mt(t),r=yield n.getIdToken(e),i=fy(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ma(Hg(i.auth_time)),issuedAtTime:Ma(Hg(i.iat)),expirationTime:Ma(Hg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Hg(t){return Number(t)*1e3}function fy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return td("JWT malformed, contained fewer than 3 sections"),null;try{let i=wg(n);return i?JSON.parse(i):(td("Failed to decode base64 JWT payload"),null)}catch(i){return td("Caught error parsing JWT payload as JSON",i?.toString()),null}}function OC(t){let e=fy(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xa(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Rt&&TL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function TL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Qg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Pa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ma(this.lastLoginAt),this.creationTime=Ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ad(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield xa(t,tb(n,{idToken:r}));k(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?nb(o.providerUserInfo):[],a=SL(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,l=c?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Pa(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function py(t){return f(this,null,function*(){let e=mt(t);yield ad(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function SL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nb(t){return t.map(e=>{var{providerId:n}=e,r=_f(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function AL(t,e){return f(this,null,function*(){let n=yield XC(t,{},()=>f(this,null,function*(){let r=Ca({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=eb(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function RL(t,e){return f(this,null,function*(){return qr(t,"POST","/v2/accounts:revokeToken",Vi(t,e))})}var Na=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){k(e.length!==0,"internal-error");let n=OC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return f(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(k(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield AL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(k(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(k(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(k(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ar("not implemented")}};function Br(t,e){k(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Yo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=_f(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield xa(this,this.stsTokenManager.getToken(this.auth,e));return k(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return hy(this,e)}reload(){return py(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ad(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(Rn(this.auth.app))return Promise.reject($r(this.auth));let e=yield this.getIdToken();return yield xa(this,bL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(u=n.createdAt)!==null&&u!==void 0?u:void 0,te=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:K,emailVerified:ve,isAnonymous:Ye,providerData:ue,stsTokenManager:it}=n;k(K&&it,e,"internal-error");let dn=Na.fromJSON(this.name,it);k(typeof K=="string",e,"internal-error"),Br(d,e.name),Br(h,e.name),k(typeof ve=="boolean",e,"internal-error"),k(typeof Ye=="boolean",e,"internal-error"),Br(p,e.name),Br(g,e.name),Br(I,e.name),Br(w,e.name),Br(A,e.name),Br(te,e.name);let ni=new t({uid:K,auth:e,email:h,emailVerified:ve,displayName:d,isAnonymous:Ye,photoURL:g,phoneNumber:p,tenantId:I,stsTokenManager:dn,createdAt:A,lastLoginAt:te});return ue&&Array.isArray(ue)&&(ni.providerData=ue.map(io=>Object.assign({},io))),w&&(ni._redirectEventId=w),ni}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new Na;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ad(o),o})}static _fromGetAccountInfoResponse(e,n,r){return f(this,null,function*(){let i=n.users[0];k(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?nb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Na;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Pa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var kC=new Map;function cr(t){Hr(t instanceof Function,"Expected a class definition");let e=kC.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kC.set(t,e),e)}var ML=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Yg=ML;function nd(t,e,n){return`firebase:${t}:${e}:${n}`}var cd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=nd(this.userKey,i.apiKey,o),this.fullPersistenceKey=nd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Yo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(cr(Yg),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||cr(Yg),s=nd(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(s);if(l){let d=Yo._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,r))})}};function FC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ab(e))return"Blackberry";if(cb(e))return"Webos";if(my(e))return"Safari";if((e.includes("chrome/")||ib(e))&&!e.includes("edge/"))return"Chrome";if(sb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function rb(t=Se()){return/firefox\//i.test(t)}function my(t=Se()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ib(t=Se()){return/crios\//i.test(t)}function ob(t=Se()){return/iemobile/i.test(t)}function sb(t=Se()){return/android/i.test(t)}function ab(t=Se()){return/blackberry/i.test(t)}function cb(t=Se()){return/webos/i.test(t)}function yd(t=Se()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NL(t=Se()){var e;return yd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xL(){return lC()&&document.documentMode===10}function ub(t=Se()){return yd(t)||sb(t)||cb(t)||ab(t)||/windows phone/i.test(t)||ob(t)}function PL(){try{return!!(window&&window!==window.top)}catch{return!1}}function lb(t,e=[]){let n;switch(t){case"Browser":n=FC(Se());break;case"Worker":n=`${FC(Se())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jr}/${r}`}var Jg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function OL(n){return f(this,arguments,function*(t,e={}){return qr(t,"GET","/v2/passwordPolicy",Vi(t,e))})}var kL=6,Zg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:kL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Xg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ud(this),this.idTokenSubscription=new ud(this),this.beforeStateQueue=new Jg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield cd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return f(this,null,function*(){try{let n=yield tb(this,{idToken:e}),r=yield Yo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;if(Rn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield ad(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=IL()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){if(Rn(this.app))return Promise.reject($r(this));let n=e?mt(e):null;return n&&k(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return Rn(this.app)?Promise.reject($r(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Rn(this.app)?Promise.reject($r(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(cr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield OL(this),n=new Zg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield RL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&cr(e)||this._popupRedirectResolver;k(n,this,"argument-error"),this.redirectPersistenceManager=yield cd.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&yL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Jo(t){return mt(t)}var ud=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pC(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var vd={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FL(t){vd=t}function db(t){return vd.loadJS(t)}function VL(){return vd.recaptchaEnterpriseScript}function LL(){return vd.gapiScript}function hb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var UL="recaptcha-enterprise",jL="NO_RECAPTCHA",ey=class{constructor(e){this.type=UL,this.auth=Jo(e)}verify(e="verify",n=!1){return f(this,null,function*(){function r(o){return f(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>f(this,null,function*(){CL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Kg(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;PC(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(jL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&PC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=VL();c.length!==0&&(c+=a),db(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function VC(t,e,n,r=!1){return f(this,null,function*(){let i=new ey(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function LC(t,e,n,r){return f(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield VC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>f(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield VC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function gy(t,e){let n=Sa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Ri(o,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function BL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(cr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function yy(t,e,n){let r=Jo(t);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=fb(e),{host:s,port:a}=$L(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||HL()}function fb(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $L(t){let e=fb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:UC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:UC(s)}}}function UC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function HL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Oa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,n){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}};function qL(t,e){return f(this,null,function*(){return qr(t,"POST","/v1/accounts:signUp",e)})}function GL(t,e){return f(this,null,function*(){return gd(t,"POST","/v1/accounts:signInWithPassword",Vi(t,e))})}function zL(t,e){return f(this,null,function*(){return gd(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))})}function WL(t,e){return f(this,null,function*(){return gd(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))})}var ka=class t extends Oa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LC(e,n,"signInWithPassword",GL);case"emailLink":return zL(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_linkToIdToken(e,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LC(e,r,"signUpPassword",qL);case"emailLink":return WL(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qg(t,e){return f(this,null,function*(){return gd(t,"POST","/v1/accounts:signInWithIdp",Vi(t,e))})}function KL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QL(t){let e=zo(Wo(t)).link,n=e?zo(Wo(e)).deep_link_id:null,r=zo(Wo(t)).deep_link_id;return(r?zo(Wo(r)).link:null)||r||n||e||t}var ld=class t{constructor(e){var n,r,i,o,s,a;let c=zo(Wo(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=KL((i=c.mode)!==null&&i!==void 0?i:null);k(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=QL(e);try{return new t(n)}catch{return null}}};var pb=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ka._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ld.parseLink(r);return k(i,"argument-error"),ka._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),dd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ty=class extends dd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Fa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let o=yield Yo._fromIdTokenResponse(e,r,i),s=jC(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=jC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function jC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ny=class t extends Rt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function mb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ny._fromErrorAndOperation(t,o,e,r):o})}function YL(t,e,n=!1){return f(this,null,function*(){let r=yield xa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Fa._forOperation(t,"link",r)})}function JL(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t;if(Rn(r.app))return Promise.reject($r(r));let i="reauthenticate";try{let o=yield xa(t,mb(r,i,e,t),n);k(o.idToken,r,"internal-error");let s=fy(o.idToken);k(s,r,"internal-error");let{sub:a}=s;return k(t.uid===a,r,"user-mismatch"),Fa._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nn(r,"user-mismatch"),o}})}function gb(t,e,n=!1){return f(this,null,function*(){if(Rn(t.app))return Promise.reject($r(t));let r="signIn",i=yield mb(t,r,e),o=yield Fa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function vy(t,e){return f(this,null,function*(){return gb(Jo(t),e)})}function ZL(t){return f(this,null,function*(){let e=Jo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function _d(t,e,n){return Rn(t.app)?Promise.reject($r(t)):vy(mt(t),pb.credential(e,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ZL(t),r}))}function _y(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function Iy(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}var hd="__sak";var fd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function XL(){let t=Se();return my(t)||yd(t)}var e2=1e3,t2=10,n2=(()=>{class t extends fd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=XL()&&PL(),this.fallbackToPolling=ub(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);xL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,t2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield vr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield vr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield vr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),yb=n2;var r2=(()=>{class t extends fd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),wy=r2;function i2(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var o2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,s)})),u=yield i2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function vb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ry=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=vb("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Mn(){return window}function s2(t){Mn().location.href=t}function _b(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}function a2(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function c2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function u2(){return _b()?self:null}var Ib="firebaseLocalStorageDb",l2=1,pd="firebaseLocalStorage",wb="fbase_key",Fi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Id(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function d2(){let t=indexedDB.deleteDatabase(Ib);return new Fi(t).toPromise()}function iy(){let t=indexedDB.open(Ib,l2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(pd,{keyPath:wb})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),yield d2(),e(yield iy()))}))})}function BC(t,e,n){return f(this,null,function*(){let r=Id(t,!0).put({[wb]:e,value:n});return new Fi(r).toPromise()})}function h2(t,e){return f(this,null,function*(){let n=Id(t,!1).get(e),r=yield new Fi(n).toPromise();return r===void 0?null:r.value})}function $C(t,e){let n=Id(t,!0).delete(e);return new Fi(n).toPromise()}var f2=800,p2=3,m2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield iy(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>p2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return _b()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=o2._getInstance(u2()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield a2(),!this.activeServiceWorker)return;this.sender=new ry(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||c2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield iy();return yield BC(n,hd,"1"),yield $C(n,hd),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>BC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>h2(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>$C(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(o=>{let s=Id(o,!1).getAll();return new Fi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Eb=m2;var N5=hb("rcb"),x5=new ki(3e4,6e4);function g2(t,e){return e?cr(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Va=class extends Oa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function y2(t){return gb(t.auth,new Va(t),t.bypassAuthState)}function v2(t){let{auth:e,user:n}=t;return k(n,e,"internal-error"),JL(n,new Va(t),t.bypassAuthState)}function _2(t){return f(this,null,function*(){let{auth:e,user:n}=t;return k(n,e,"internal-error"),YL(n,new Va(t),t.bypassAuthState)})}var oy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y2;case"linkViaPopup":case"linkViaRedirect":return _2;case"reauthViaPopup":case"reauthViaRedirect":return v2;default:Nn(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var P5=new ki(2e3,1e4);var I2="pendingRedirect",rd=new Map,sy=class t extends oy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=rd.get(this.auth._key());if(!e){try{let r=(yield w2(this.resolver,this.auth))?yield vr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rd.set(this.auth._key(),e)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return vr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,vr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function w2(t,e){return f(this,null,function*(){let n=C2(e),r=D2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function E2(t,e){rd.set(t._key(),e)}function D2(t){return cr(t._redirectPersistence)}function C2(t){return nd(I2,t.config.apiKey,t.name)}function b2(t,e,n=!1){return f(this,null,function*(){if(Rn(t.app))return Promise.reject($r(t));let r=Jo(t),i=g2(r,e),s=yield new sy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var T2=10*60*1e3,ay=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Db(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T2&&this.cachedEventUids.clear(),this.cachedEventUids.has(HC(e))}saveEventToCache(e){this.cachedEventUids.add(HC(e)),this.lastProcessedEventTime=Date.now()}};function HC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Db({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function S2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Db(t);default:return!1}}function A2(n){return f(this,arguments,function*(t,e={}){return qr(t,"GET","/v1/projects",e)})}var R2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M2=/^https?/;function N2(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield A2(t);for(let n of e)try{if(x2(n))return}catch{}Nn(t,"unauthorized-domain")})}function x2(t){let e=zg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!M2.test(n))return!1;if(R2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var P2=new ki(3e4,6e4);function qC(){let t=Mn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function O2(t){return new Promise((e,n)=>{var r,i,o;function s(){qC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qC(),n(Oi(t,"network-request-failed"))},timeout:P2.get()})}if(!((i=(r=Mn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Mn().gapi)===null||o===void 0)&&o.load)s();else{let a=hb("iframefcb");return Mn()[a]=()=>{gapi.load?s():n(Oi(t,"network-request-failed"))},db(`${LL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw id=null,e})}var id=null;function k2(t){return id=id||O2(t),id}var F2=new ki(5e3,15e3),V2="__/auth/iframe",L2="emulator/auth/iframe",U2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B2(t){let e=t.config;k(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?dy(e,L2):`https://${t.config.authDomain}/${V2}`,r={apiKey:e.apiKey,appName:t.name,v:jr},i=j2.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ca(r).slice(1)}`}function $2(t){return f(this,null,function*(){let e=yield k2(t),n=Mn().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:B2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U2,dontclear:!0},r=>new Promise((i,o)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Oi(t,"network-request-failed"),a=Mn().setTimeout(()=>{o(s)},F2.get());function c(){Mn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var H2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q2=500,G2=600,z2="_blank",W2="http://localhost",md=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function K2(t,e,n,r=q2,i=G2){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},H2),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Se().toLowerCase();n&&(a=ib(u)?z2:n),rb(u)&&(e=e||W2,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(NL(u)&&a!=="_self")return Q2(e||"",a),new md(null);let d=window.open(e||"",a,l);k(d,t,"popup-blocked");try{d.focus()}catch{}return new md(d)}function Q2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Y2="__/auth/handler",J2="emulator/auth/handler",Z2=encodeURIComponent("fac");function GC(t,e,n,r,i,o){return f(this,null,function*(){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jr,eventId:i};if(e instanceof dd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",fC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof ty){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${Z2}=${encodeURIComponent(c)}`:"";return`${X2(t)}?${Ca(a).slice(1)}${u}`})}function X2({config:t}){return t.emulator?dy(t,J2):`https://${t.authDomain}/${Y2}`}var Gg="webStorageSupport",cy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wy,this._completeRedirectFn=b2,this._overrideRedirectResult=E2}_openPopup(e,n,r,i){return f(this,null,function*(){var o;Hr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield GC(e,n,r,zg(),i);return K2(e,s,vb())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let o=yield GC(e,n,r,zg(),i);return s2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield $2(e),r=new ay(e);return n.register("authEvent",i=>(k(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gg,{type:Gg},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Gg];s!==void 0&&n(!!s),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ub()||my()||yd()}},Cb=cy;var zC="@firebase/auth",WC="1.7.1";var uy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function eU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tU(t){Ur(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;k(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lb(t)},u=new Xg(r,i,o,c);return BL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ur(new Gt("auth-internal",e=>{let n=Jo(e.getProvider("auth").getImmediate());return(r=>new uy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(zC,WC,eU(t)),tt(zC,WC,"esm2017")}var nU=5*60,rU=Cg("authIdTokenMaxAge")||nU,KC=null,iU=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rU)return;let i=n?.token;KC!==i&&(KC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ey(t=Ko()){let e=Sa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gy(t,{popupRedirectResolver:Cb,persistence:[Eb,yb,wy]}),r=Cg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=iU(o.toString());Iy(n,s,()=>s(n.currentUser)),_y(n,a=>s(a))}}let i=Eg("auth");return i&&yy(n,`http://${i}`),n}function oU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Oi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",oU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tU("Browser");var bb="auth",rn=class{constructor(e){return e}},Dy=class{constructor(){return Bg(bb)}};var Cy=new O("angularfire2.auth-instances");function JU(t,e){let n=RC(bb,t,e);return n&&new rn(n)}function ZU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new rn(r)}}var XU={provide:Dy,deps:[[new _n,Cy]]},ej={provide:rn,useFactory:JU,deps:[[new _n,Cy],Pi]},tj=(()=>{class t{constructor(){tt("angularfire",Aa.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ut({type:t});static \u0275inj=Lt({providers:[ej,XU]})}return t})();function Tb(t,...e){return{ngModule:tj,providers:[{provide:Cy,useFactory:ZU(t),multi:!0,deps:[_e,En,Jl,Ra,[new _n,Ql],...e]}]}}var Sb=Xl(Ey,!0);var nj={apiKey:"AIzaSyCP29nVcnjbsOXNeSXVZgRlVjhCJNCcYgY",authDomain:"essos-13593.firebaseapp.com",projectId:"essos-13593",storageBucket:"essos-13593.appspot.com",messagingSenderId:"234509148552",appId:"1:234509148552:web:19e5316606e6a5eaeb1a3d"},Ab={providers:[eC(tC),Op([MC(()=>NC(nj)),Tb(()=>Sb())])]};var Vb=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(M(Nr),M(tr))},e.\u0275dir=Ce({type:e});let t=e;return t})(),Md=(()=>{let e=class e extends Vb{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,features:[wt]});let t=e;return t})(),Xo=new O("");var rj={provide:Xo,useExisting:Vt(()=>Wr),multi:!0};function ij(){let t=or()?or().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var oj=new O(""),Wr=(()=>{let e=class e extends Vb{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ij())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(M(Nr),M(tr),M(oj,8))},e.\u0275dir=Ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&de("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[bn([rj]),wt]});let t=e;return t})();function Gr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Lb(t){return t!=null&&typeof t.length=="number"}var Ba=new O(""),Nd=new O(""),sj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zr=class{static min(e){return aj(e)}static max(e){return cj(e)}static required(e){return Ub(e)}static requiredTrue(e){return uj(e)}static email(e){return lj(e)}static minLength(e){return dj(e)}static maxLength(e){return hj(e)}static pattern(e){return fj(e)}static nullValidator(e){return Ed(e)}static compose(e){return Gb(e)}static composeAsync(e){return zb(e)}};function aj(t){return e=>{if(Gr(e.value)||Gr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function cj(t){return e=>{if(Gr(e.value)||Gr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Ub(t){return Gr(t.value)?{required:!0}:null}function uj(t){return t.value===!0?null:{required:!0}}function lj(t){return Gr(t.value)||sj.test(t.value)?null:{email:!0}}function dj(t){return e=>Gr(e.value)||!Lb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function hj(t){return e=>Lb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function fj(t){if(!t)return Ed;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Gr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Ed(t){return null}function jb(t){return t!=null}function Bb(t){return Ei(t)?De(t):t}function $b(t){let e={};return t.forEach(n=>{e=n!=null?S(S({},e),n):e}),Object.keys(e).length===0?null:e}function Hb(t,e){return e.map(n=>n(t))}function pj(t){return!t.validate}function qb(t){return t.map(e=>pj(e)?e:n=>e.validate(n))}function Gb(t){if(!t)return null;let e=t.filter(jb);return e.length==0?null:function(n){return $b(Hb(n,e))}}function Ty(t){return t!=null?Gb(qb(t)):null}function zb(t){if(!t)return null;let e=t.filter(jb);return e.length==0?null:function(n){let r=Hb(n,e).map(Bb);return Ef(r).pipe(Y($b))}}function Sy(t){return t!=null?zb(qb(t)):null}function Rb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wb(t){return t._rawValidators}function Kb(t){return t._rawAsyncValidators}function by(t){return t?Array.isArray(t)?t:[t]:[]}function Dd(t,e){return Array.isArray(t)?t.includes(e):t===e}function Mb(t,e){let n=by(e);return by(t).forEach(i=>{Dd(n,i)||n.push(i)}),n}function Nb(t,e){return by(e).filter(n=>!Dd(t,n))}var Cd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ty(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ur=class extends Cd{get formDirective(){return null}get path(){return null}},Li=class extends Cd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},mj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},U8=le(S({},mj),{"[class.ng-submitted]":"isSubmitted"}),xn=(()=>{let e=class e extends bd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(M(Li,2))},e.\u0275dir=Ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&il("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[wt]});let t=e;return t})(),Pn=(()=>{let e=class e extends bd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(M(ur,10))},e.\u0275dir=Ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&il("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[wt]});let t=e;return t})();var La="VALID",wd="INVALID",Zo="PENDING",Ua="DISABLED";function Qb(t){return(xd(t)?t.validators:t)||null}function gj(t){return Array.isArray(t)?Ty(t):t||null}function Yb(t,e){return(xd(e)?e.asyncValidators:t)||null}function yj(t){return Array.isArray(t)?Sy(t):t||null}function xd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function vj(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new R(1e3,"");if(!r[n])throw new R(1001,"")}function _j(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new R(1002,"")})}var Td=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===La}get invalid(){return this.status===wd}get pending(){return this.status==Zo}get disabled(){return this.status===Ua}get enabled(){return this.status!==Ua}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Mb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Mb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Nb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Nb(e,this._rawAsyncValidators))}hasValidator(e){return Dd(this._rawValidators,e)}hasAsyncValidator(e){return Dd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ua,this.errors=null,this._forEachChild(r=>{r.disable(le(S({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=La,this._forEachChild(r=>{r.enable(le(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===La||this.status===Zo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ua:La}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zo,this._hasOwnPendingAsyncValidator=!0;let n=Bb(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?Ua:this.errors?wd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zo)?Zo:this._anyControlsHaveStatus(wd)?wd:La}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=gj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=yj(this._rawAsyncValidators)}},Et=class extends Td{constructor(e,n,r){super(Qb(n),Yb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){_j(this,!0,e),Object.keys(e).forEach(r=>{vj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $a=new O("CallSetDisabledState",{providedIn:"root",factory:()=>Pd}),Pd="always";function Jb(t,e){return[...e.path,t]}function Sd(t,e,n=Pd){Ay(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),wj(t,e),Dj(t,e),Ej(t,e),Ij(t,e)}function xb(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Rd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ad(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ij(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ay(t,e){let n=Wb(t);e.validator!==null?t.setValidators(Rb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Kb(t);e.asyncValidator!==null?t.setAsyncValidators(Rb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ad(e._rawValidators,i),Ad(e._rawAsyncValidators,i)}function Rd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Wb(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Kb(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Ad(e._rawValidators,r),Ad(e._rawAsyncValidators,r),n}function wj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Zb(t,e)})}function Ej(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Zb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Zb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Dj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Xb(t,e){t==null,Ay(t,e)}function Cj(t,e){return Rd(t,e)}function eT(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function bj(t){return Object.getPrototypeOf(t.constructor)===Md}function tT(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function nT(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Wr?n=o:bj(o)?r=o:i=o}),i||r||n||null}function Tj(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Sj={provide:ur,useExisting:Vt(()=>Ry)},ja=Promise.resolve(),Ry=(()=>{let e=class e extends ur{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new $e,this.form=new Et({},Ty(r),Sy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ja.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Sd(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ja.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ja.then(()=>{let i=this._findContainer(r.path),o=new Et({});Xb(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ja.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ja.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,tT(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(M(Ba,10),M(Nd,10),M($a,8))},e.\u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&de("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[Ze.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bn([Sj]),wt]});let t=e;return t})();function Pb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ob(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var be=class extends Td{constructor(e=null,n,r){super(Qb(n),Yb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Ob(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Pb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Pb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ob(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Aj=t=>t instanceof be;var Rj={provide:Li,useExisting:Vt(()=>My)},kb=Promise.resolve(),My=(()=>{let e=class e extends Li{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new be,this._registered=!1,this.name="",this.update=new $e,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=nT(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),eT(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Sd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){kb.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&ea(i);kb.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Jb(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(M(ur,9),M(Ba,10),M(Nd,10),M(Xo,10),M(Di,8),M($a,8))},e.\u0275dir=Ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ze.None,"disabled","isDisabled"],model:[Ze.None,"ngModel","model"],options:[Ze.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[bn([Rj]),wt,Xn]});let t=e;return t})(),On=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Mj={provide:Xo,useExisting:Vt(()=>Ny),multi:!0},Ny=(()=>{let e=class e extends Md{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&de("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[bn([Mj]),wt]});let t=e;return t})();var rT=new O("");var Nj={provide:ur,useExisting:Vt(()=>lr)},lr=(()=>{let e=class e extends ur{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new $e,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Sd(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){xb(r.control||null,r,!1),Tj(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,tT(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(xb(i||null,r),Aj(o)&&(Sd(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Xb(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Cj(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ay(this.form,this),this._oldForm&&Rd(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(M(Ba,10),M(Nd,10),M($a,8))},e.\u0275dir=Ce({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&de("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[Ze.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bn([Nj]),wt,Xn]});let t=e;return t})();var xj={provide:Li,useExisting:Vt(()=>dr)},dr=(()=>{let e=class e extends Li{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new $e,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=nT(this,s)}ngOnChanges(r){this._added||this._setUpControl(),eT(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Jb(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(M(ur,13),M(Ba,10),M(Nd,10),M(Xo,10),M(rT,8))},e.\u0275dir=Ce({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ze.None,"formControlName","name"],isDisabled:[Ze.None,"disabled","isDisabled"],model:[Ze.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[bn([xj]),wt,Xn]});let t=e;return t})(),Pj={provide:Xo,useExisting:Vt(()=>Kr),multi:!0};function iT(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Oj(t){return t.split(":")[0]}var Kr=(()=>{let e=class e extends Md{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=iT(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=Oj(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&de("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[bn([Pj]),wt]});let t=e;return t})(),es=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(iT(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(M(tr),M(Nr),M(Kr,9))},e.\u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),kj={provide:Xo,useExisting:Vt(()=>oT),multi:!0};function Fb(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Fj(t){return t.split(":")[0]}var oT=(()=>{let e=class e extends Md{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let u=a[c],l=this._getOptionValue(u.value);o.push(l)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let l=this._getOptionValue(u.value);o.push(l)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=Fj(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&de("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[bn([kj]),wt]});let t=e;return t})(),ts=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(Fb(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(Fb(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(M(tr),M(Nr),M(oT,9))},e.\u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Vj=(()=>{let e=class e{constructor(){this._validator=Ed}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ed,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,features:[Xn]});let t=e;return t})();var Lj={provide:Ba,useExisting:Vt(()=>xy),multi:!0};var xy=(()=>{let e=class e extends Vj{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ea,this.createValidator=r=>Ub}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&rl("required",o._enabled?"":null)},inputs:{required:"required"},features:[bn([Lj]),wt]});let t=e;return t})();var sT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ut({type:e}),e.\u0275inj=Lt({});let t=e;return t})();var aT=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:$a,useValue:r.callSetDisabledState??Pd}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ut({type:e}),e.\u0275inj=Lt({imports:[sT]});let t=e;return t})(),Qr=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:rT,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:$a,useValue:r.callSetDisabledState??Pd}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ut({type:e}),e.\u0275inj=Lt({imports:[sT]});let t=e;return t})();var cT=(()=>{let e=class e{constructor(){this.loginForm=new Et({email:new be("",zr.required),password:new be("",zr.required)}),this.firebaseAuth=E(rn),this.router=E($l)}onSubmit(){console.log(this.loginForm.value);let r=this.loginForm.getRawValue();this.login(r.email,r.password).subscribe({next:()=>{this.router.navigateByUrl("/")},error:i=>{console.log(i),alert("Incorrect Email or Password!")}})}login(r,i){let o=_d(this.firebaseAuth,r,i).then(()=>{});return De(o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=He({type:e,selectors:[["app-login"]],standalone:!0,features:[Ge],decls:17,vars:1,consts:[[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-md-6"],[1,"border","p-4",3,"ngSubmit","formGroup"],[1,"text-center","mb-4"],[1,"mb-3"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["id","password","type","password","formControlName","password","required","",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary"]],template:function(i,o){i&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),de("ngSubmit",function(){return o.onSubmit()}),_(4,"h2",4),D(5,"Login"),v(),_(6,"div",5)(7,"label",6),D(8,"Email"),v(),j(9,"input",7),v(),_(10,"div",5)(11,"label",8),D(12,"Password"),v(),j(13,"input",9),v(),_(14,"div",10)(15,"button",11),D(16,"Submit"),v()()()()()()),i&2&&(N(3),ee("formGroup",o.loginForm))},dependencies:[Qr,On,Wr,xn,Pn,xy,lr,dr]});let t=e;return t})();var Uj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sn={},C,ev=ev||{},L=Uj||self;function Wd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function jj(t){return Object.prototype.hasOwnProperty.call(t,Py)&&t[Py]||(t[Py]=++Bj)}var Py="closure_uid_"+(1e9*Math.random()>>>0),Bj=0;function $j(t,e,n){return t.call.apply(t.bind,arguments)}function Hj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function at(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?at=$j:at=Hj,at.apply(null,arguments)}function Od(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Yr(){this.s=this.s,this.o=this.o}var qj=0;Yr.prototype.s=!1;Yr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),qj!=0)&&jj(this)};Yr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function tv(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function uT(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Wd(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var Gj=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};L.addEventListener("test",n,e),L.removeEventListener("test",n,e)}catch{}return t}();function Qa(t){return/^[\s\xa0]*$/.test(t)}function Kd(){var t=L.navigator;return t&&(t=t.userAgent)?t:""}function kn(t){return Kd().indexOf(t)!=-1}function nv(t){return nv[" "](t),t}nv[" "]=function(){};function zj(t,e){var n=OB;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Wj=kn("Opera"),os=kn("Trident")||kn("MSIE"),ET=kn("Edge"),Ly=ET||os,DT=kn("Gecko")&&!(Kd().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge"))&&!(kn("Trident")||kn("MSIE"))&&!kn("Edge"),Kj=Kd().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge");function CT(){var t=L.document;return t?t.documentMode:void 0}var Uy;e:{if(kd="",Fd=function(){var t=Kd();if(DT)return/rv:([^\);]+)(\)|;)/.exec(t);if(ET)return/Edge\/([\d\.]+)/.exec(t);if(os)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Kj)return/WebKit\/(\S+)/.exec(t);if(Wj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Fd&&(kd=Fd?Fd[1]:""),os&&(Vd=CT(),Vd!=null&&Vd>parseFloat(kd))){Uy=String(Vd);break e}Uy=kd}var kd,Fd,Vd,jy;L.document&&os?(Oy=CT(),jy=Oy||parseInt(Uy,10)||void 0):jy=void 0;var Oy,Qj=jy;function Ya(t,e){if(ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DT){e:{try{nv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Yj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ya.$.h.call(this)}}Ke(Ya,ct);var Yj={2:"touch",3:"pen",4:"mouse"};Ya.prototype.h=function(){Ya.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ic="closure_listenable_"+(1e6*Math.random()|0),Jj=0;function Zj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Jj,this.fa=this.ia=!1}function Qd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function rv(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function Xj(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function bT(t){let e={};for(let n in t)e[n]=t[n];return e}var lT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<lT.length;o++)n=lT[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yd(t){this.src=t,this.g={},this.h=0}Yd.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=$y(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Zj(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function By(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=wT(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Qd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function $y(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var iv="closure_lm_"+(1e6*Math.random()|0),ky={};function ST(t,e,n,r,i){if(r&&r.once)return RT(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ST(t,e[o],n,r,i);return null}return n=av(n),t&&t[ic]?t.O(e,n,rc(r)?!!r.capture:!!r,i):AT(t,e,n,!1,r,i)}function AT(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=rc(i)?!!i.capture:!!i,a=sv(t);if(a||(t[iv]=a=new Yd(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=eB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gj||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(NT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function eB(){function t(n){return e.call(t.src,t.listener,n)}let e=tB;return t}function RT(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)RT(t,e[o],n,r,i);return null}return n=av(n),t&&t[ic]?t.P(e,n,rc(r)?!!r.capture:!!r,i):AT(t,e,n,!0,r,i)}function MT(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)MT(t,e[o],n,r,i);else r=rc(r)?!!r.capture:!!r,n=av(n),t&&t[ic]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=$y(o,n,r,i),-1<n&&(Qd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=sv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$y(e,n,r,i)),(n=-1<t?e[t]:null)&&ov(n))}function ov(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ic])By(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(NT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sv(e))?(By(n,t),n.h==0&&(n.src=null,e[iv]=null)):Qd(t)}}}function NT(t){return t in ky?ky[t]:ky[t]="on"+t}function tB(t,e){if(t.fa)t=!0;else{e=new Ya(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ov(t),t=n.call(r,e)}return t}function sv(t){return t=t[iv],t instanceof Yd?t:null}var Fy="__closure_events_fn_"+(1e9*Math.random()>>>0);function av(t){return typeof t=="function"?t:(t[Fy]||(t[Fy]=function(e){return t.handleEvent(e)}),t[Fy])}function We(){Yr.call(this),this.i=new Yd(this),this.S=this,this.J=null}Ke(We,Yr);We.prototype[ic]=!0;We.prototype.removeEventListener=function(t,e,n,r){MT(this,t,e,n,r)};function rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ct(e,t);else if(e instanceof ct)e.target=e.target||t;else{var i=e;e=new ct(r,t),TT(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ld(s,r,!0,e)&&i}if(s=e.g=t,i=Ld(s,r,!0,e)&&i,i=Ld(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Ld(s,r,!1,e)&&i}We.prototype.N=function(){if(We.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qd(n[r]);delete t.g[e],t.h--}}this.J=null};We.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};We.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ld(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&By(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var cv=L.JSON.stringify,Hy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function nB(){var t=uv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var qy=class{constructor(){this.h=this.g=null}add(e,n){let r=xT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},xT=new Hy(()=>new Gy,t=>t.reset()),Gy=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function rB(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function iB(t){L.setTimeout(()=>{throw t},0)}var Ja,Za=!1,uv=new qy,PT=()=>{let t=L.Promise.resolve(void 0);Ja=()=>{t.then(oB)}},oB=()=>{for(var t;t=nB();){try{t.h.call(t.g)}catch(n){iB(n)}var e=xT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Za=!1};function Jd(t,e){We.call(this),this.h=t||1,this.g=e||L,this.j=at(this.qb,this),this.l=Date.now()}Ke(Jd,We);C=Jd.prototype;C.ga=!1;C.T=null;C.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rt(this,"tick"),this.ga&&(lv(this),this.start()))}};C.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}C.N=function(){Jd.$.N.call(this),lv(this),delete this.g};function dv(t,e,n){if(typeof t=="function")n&&(t=at(t,n));else if(t&&typeof t.handleEvent=="function")t=at(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:L.setTimeout(t,e||0)}function OT(t){t.g=dv(()=>{t.g=null,t.i&&(t.i=!1,OT(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var zy=class extends Yr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OT(this)}N(){super.N(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Xa(t){Yr.call(this),this.h=t,this.g={}}Ke(Xa,Yr);var dT=[];function kT(t,e,n,r){Array.isArray(n)||(n&&(dT[0]=n.toString()),n=dT);for(var i=0;i<n.length;i++){var o=ST(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function FT(t){rv(t.g,function(e,n){this.g.hasOwnProperty(n)&&ov(e)},t),t.g={}}Xa.prototype.N=function(){Xa.$.N.call(this),FT(this)};Xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zd(){this.g=!0}Zd.prototype.Ea=function(){this.g=!1};function sB(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+u+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function aB(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function rs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+uB(t,n)+(r?" "+r:"")})}function cB(t,e){t.info(function(){return"TIMEOUT: "+e})}Zd.prototype.info=function(){};function uB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return cv(n)}catch{return e}}var $i={},hT=null;function Xd(){return hT=hT||new We}$i.Ta="serverreachability";function VT(t){ct.call(this,$i.Ta,t)}Ke(VT,ct);function ec(t){let e=Xd();rt(e,new VT(e))}$i.STAT_EVENT="statevent";function LT(t,e){ct.call(this,$i.STAT_EVENT,t),this.stat=e}Ke(LT,ct);function gt(t){let e=Xd();rt(e,new LT(e,t))}$i.Ua="timingevent";function UT(t,e){ct.call(this,$i.Ua,t),this.size=e}Ke(UT,ct);function oc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){t()},e)}var eh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hv(){}hv.prototype.h=null;function fT(t){return t.h||(t.h=t.i())}function BT(){}var sc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fv(){ct.call(this,"d")}Ke(fv,ct);function pv(){ct.call(this,"c")}Ke(pv,ct);var Wy;function th(){}Ke(th,hv);th.prototype.g=function(){return new XMLHttpRequest};th.prototype.i=function(){return{}};Wy=new th;function ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xa(this),this.P=lB,t=Ly?125:void 0,this.V=new Jd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $T}function $T(){this.i=null,this.g="",this.h=!1}var lB=45e3,HT={},Ky={};C=ac.prototype;C.setTimeout=function(t){this.P=t};function Qy(t,e,n){t.L=1,t.A=rh(fr(e)),t.u=n,t.S=!0,qT(t,null)}function qT(t,e){t.G=Date.now(),cc(t),t.B=fr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),ZT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new $T,t.g=_S(t.l,n?e:null,!t.u),0<t.O&&(t.M=new zy(at(t.Pa,t,t.g),t.O)),kT(t.U,t.g,"readystatechange",t.nb),e=t.I?bT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ec(),sB(t.j,t.v,t.B,t.m,t.W,t.u)}C.nb=function(t){t=t.target;let e=this.M;e&&Fn(t)==3?e.l():this.Pa(t)};C.Pa=function(t){try{if(t==this.g)e:{let l=Fn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Ly||this.g&&(this.h.h||this.g.ja()||yT(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?ec(3):ec(2)),nh(this);var n=this.g.da();this.ca=n;t:if(GT(this)){var r=yT(this.g);t="";var i=r.length,o=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ui(this),Ka(this);var s="";break t}this.h.i=new L.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,aB(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qa(a)){var u=a;break t}}u=null}if(n=u)rs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yy(this,n);else{this.i=!1,this.s=3,gt(12),Ui(this),Ka(this);break e}}this.S?(zT(this,l,s),Ly&&this.i&&l==3&&(kT(this.U,this.V,"tick",this.mb),this.V.start())):(rs(this.j,this.m,s,null),Yy(this,s)),l==4&&Ui(this),this.i&&!this.J&&(l==4?mS(this.l,this):(this.i=!1,cc(this)))}else NB(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Ui(this),Ka(this)}}}catch{}finally{}};function GT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function zT(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=dB(t,n),i==Ky){e==4&&(t.s=4,gt(14),r=!1),rs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==HT){t.s=4,gt(15),rs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else rs(t.j,t.m,i,null),Yy(t,i);GT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Iv(e),e.M=!0,gt(11))):(rs(t.j,t.m,n,"[Invalid Chunked Response]"),Ui(t),Ka(t))}C.mb=function(){if(this.g){var t=Fn(this.g),e=this.g.ja();this.o<e.length&&(nh(this),zT(this,t,e),this.i&&t!=4&&cc(this))}};function dB(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ky:(n=Number(e.substring(n,r)),isNaN(n)?HT:(r+=1,r+n>e.length?Ky:(e=e.slice(r,r+n),t.o=r+n,e)))}C.cancel=function(){this.J=!0,Ui(this)};function cc(t){t.Y=Date.now()+t.P,WT(t,t.P)}function WT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=oc(at(t.lb,t),e)}function nh(t){t.C&&(L.clearTimeout(t.C),t.C=null)}C.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(cB(this.j,this.B),this.L!=2&&(ec(),gt(17)),Ui(this),this.s=2,Ka(this)):WT(this,this.Y-t)};function Ka(t){t.l.H==0||t.J||mS(t.l,t)}function Ui(t){nh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,lv(t.V),FT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Yy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Jy(n.i,t))){if(!t.K&&Jy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Hd(n),sh(n);else break e;_v(n),gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=oc(at(n.ib,n),6e3));if(1>=tS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ji(n,11)}else if((t.K||n.g==t)&&Hd(n),!Qa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.i;o.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(mv(o,o.h),o.h=null))}if(r.F){let I=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,Ee(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=vS(r,r.J?r.pa:null,r.Y),s.K){nS(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(nh(a),cc(a)),r.g=s}else fS(r);0<n.j.length&&ah(n)}else u[0]!="stop"&&u[0]!="close"||ji(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ji(n,7):vv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ec(4)}catch{}}function hB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function fB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function KT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=fB(t),r=hB(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var QT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Bi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Bi){this.h=t.h,Bd(this,t.j),this.s=t.s,this.g=t.g,$d(this,t.m),this.l=t.l;var e=t.i,n=new tc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pT(this,n),this.o=t.o}else t&&(e=String(t).match(QT))?(this.h=!1,Bd(this,e[1]||"",!0),this.s=za(e[2]||""),this.g=za(e[3]||"",!0),$d(this,e[4]),this.l=za(e[5]||"",!0),pT(this,e[6]||"",!0),this.o=za(e[7]||"")):(this.h=!1,this.i=new tc(null,this.h))}Bi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wa(e,mT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Wa(e,mT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Wa(n,n.charAt(0)=="/"?yB:gB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wa(n,_B)),t.join("")};function fr(t){return new Bi(t)}function Bd(t,e,n){t.j=n?za(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $d(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pT(t,e,n){e instanceof tc?(t.i=e,IB(t.i,t.h)):(n||(e=Wa(e,vB)),t.i=new tc(e,t.h))}function Ee(t,e,n){t.i.set(e,n)}function rh(t){return Ee(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function za(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,mB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var mT=/[#\/\?@]/g,gB=/[#\?:]/g,yB=/[#\?]/g,vB=/[#\?@]/g,_B=/#/g;function tc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Jr(t){t.g||(t.g=new Map,t.h=0,t.i&&pB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}C=tc.prototype;C.add=function(t,e){Jr(this),this.i=null,t=ss(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function YT(t,e){Jr(t),e=ss(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function JT(t,e){return Jr(t),e=ss(t,e),t.g.has(e)}C.forEach=function(t,e){Jr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};C.ta=function(){Jr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};C.Z=function(t){Jr(this);let e=[];if(typeof t=="string")JT(this,t)&&(e=e.concat(this.g.get(ss(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};C.set=function(t,e){return Jr(this),this.i=null,t=ss(this,t),JT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};C.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ZT(t,e,n){YT(t,e),0<n.length&&(t.i=null,t.g.set(ss(t,e),tv(n)),t.h+=n.length)}C.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ss(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function IB(t,e){e&&!t.j&&(Jr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(YT(this,r),ZT(this,i,n))},t)),t.j=e}var wB=class{constructor(t,e){this.g=t,this.map=e}};function XT(t){this.l=t||EB,L.PerformanceNavigationTiming?(t=L.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(L.g&&L.g.Ka&&L.g.Ka()&&L.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var EB=10;function eS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function tS(t){return t.h?1:t.g?t.g.size:0}function Jy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function mv(t,e){t.g?t.g.add(e):t.h=e}function nS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}XT.prototype.cancel=function(){if(this.i=rS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function rS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return tv(t.i)}var DB=class{stringify(t){return L.JSON.stringify(t,void 0)}parse(t){return L.JSON.parse(t,void 0)}};function CB(){this.g=new DB}function bB(t,e,n){let r=n||"";try{KT(t,function(i,o){let s=i;rc(i)&&(s=cv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function TB(t,e){let n=new Zd;if(L.Image){let r=new Image;r.onload=Od(Ud,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Od(Ud,n,r,"TestLoadImage: error",!1,e),r.onabort=Od(Ud,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Od(Ud,n,r,"TestLoadImage: timeout",!1,e),L.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ud(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function uc(t){this.l=t.ec||null,this.j=t.ob||!1}Ke(uc,hv);uc.prototype.g=function(){return new ih(this.l,this.j)};uc.prototype.i=function(t){return function(){return t}}({});function ih(t,e){We.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ke(ih,We);var gv=0;C=ih.prototype;C.open=function(t,e){if(this.readyState!=gv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nc(this)};C.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||L).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};C.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lc(this)),this.readyState=gv};C.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nc(this)),this.g&&(this.readyState=3,nc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof L.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function iS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}C.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?lc(this):nc(this),this.readyState==3&&iS(this)}};C.Za=function(t){this.g&&(this.response=this.responseText=t,lc(this))};C.Ya=function(t){this.g&&(this.response=t,lc(this))};C.ka=function(){this.g&&lc(this)};function lc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nc(t)}C.setRequestHeader=function(t,e){this.v.append(t,e)};C.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};C.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ih.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var SB=L.JSON.parse;function Ae(t){We.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oS,this.L=this.M=!1}Ke(Ae,We);var oS="",AB=/^https?$/i,RB=["POST","PUT"];C=Ae.prototype;C.Oa=function(t){this.M=t};C.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wy.g(),this.C=this.u?fT(this.u):fT(Wy),this.g.onreadystatechange=at(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){gT(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=L.FormData&&t instanceof L.FormData,!(0<=wT(RB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cS(this),0<this.B&&((this.L=MB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.ua,this)):this.A=dv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){gT(this,o)}};function MB(t){return os&&typeof t.timeout=="number"&&t.ontimeout!==void 0}C.ua=function(){typeof ev<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))};function gT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,sS(t),oh(t)}function sS(t){t.F||(t.F=!0,rt(t,"complete"),rt(t,"error"))}C.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),oh(this))};C.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oh(this,!0)),Ae.$.N.call(this)};C.La=function(){this.s||(this.G||this.v||this.l?aS(this):this.kb())};C.kb=function(){aS(this)};function aS(t){if(t.h&&typeof ev<"u"&&(!t.C[1]||Fn(t)!=4||t.da()!=2)){if(t.v&&Fn(t)==4)dv(t.La,0,t);else if(rt(t,"readystatechange"),Fn(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(QT)[1]||null;!i&&L.self&&L.self.location&&(i=L.self.location.protocol.slice(0,-1)),r=!AB.test(i?i.toLowerCase():"")}n=r}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var o=2<Fn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",sS(t)}}finally{oh(t)}}}}function oh(t,e){if(t.g){cS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function cS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(L.clearTimeout(t.A),t.A=null)}C.isActive=function(){return!!this.g};function Fn(t){return t.g?t.g.readyState:0}C.da=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}};C.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};C.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),SB(e)}};function yT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case oS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function NB(t){let e={};t=(t.g&&2<=Fn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Qa(t[r]))continue;var n=rB(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}Xj(e,function(r){return r.join(", ")})}C.Ia=function(){return this.m};C.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function uS(t){let e="";return rv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function yv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=uS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ee(t,e,n))}function qa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lS(t){this.Ga=0,this.j=[],this.l=new Zd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qa("baseRetryDelayMs",5e3,t),this.hb=qa("retryDelaySeedMs",1e4,t),this.eb=qa("forwardChannelMaxRetries",2,t),this.xa=qa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new XT(t&&t.concurrentRequestLimit),this.Ja=new CB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}C=lS.prototype;C.ra=8;C.H=1;function vv(t){if(dS(t),t.H==3){var e=t.W++,n=fr(t.I);if(Ee(n,"SID",t.K),Ee(n,"RID",e),Ee(n,"TYPE","terminate"),dc(t,n),e=new ac(t,t.l,e),e.L=2,e.A=rh(fr(n)),n=!1,L.navigator&&L.navigator.sendBeacon)try{n=L.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&L.Image&&(new Image().src=e.A,n=!0),n||(e.g=_S(e.l,null),e.g.ha(e.A)),e.G=Date.now(),cc(e)}yS(t)}function sh(t){t.g&&(Iv(t),t.g.cancel(),t.g=null)}function dS(t){sh(t),t.u&&(L.clearTimeout(t.u),t.u=null),Hd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&L.clearTimeout(t.m),t.m=null)}function ah(t){if(!eS(t.i)&&!t.m){t.m=!0;var e=t.Na;Ja||PT(),Za||(Ja(),Za=!0),uv.add(e,t),t.C=0}}function xB(t,e){return tS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=oc(at(t.Na,t,e),gS(t,t.C)),t.C++,!0)}C.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new ac(this,this.l,t),o=this.s;if(this.U&&(o?(o=bT(o),TT(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=hS(this,i,e),n=fr(this.I),Ee(n,"RID",t),Ee(n,"CVER",22),this.F&&Ee(n,"X-HTTP-Session-Id",this.F),dc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(uS(o)))+"&"+e:this.o&&yv(n,this.o,o)),mv(this.i,i),this.bb&&Ee(n,"TYPE","init"),this.P?(Ee(n,"$req",e),Ee(n,"SID","null"),i.aa=!0,Qy(i,n,null)):Qy(i,n,e),this.H=2}}else this.H==3&&(t?vT(this,t):this.j.length==0||eS(this.i)||vT(this))};function vT(t,e){var n;e?n=e.m:n=t.W++;let r=fr(t.I);Ee(r,"SID",t.K),Ee(r,"RID",n),Ee(r,"AID",t.V),dc(t,r),t.o&&t.s&&yv(r,t.o,t.s),n=new ac(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=hS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),mv(t.i,n),Qy(n,r,e)}function dc(t,e){t.na&&rv(t.na,function(n,r){Ee(e,r,n)}),t.h&&KT({},function(n,r){Ee(e,r,n)})}function hS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?at(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{bB(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function fS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ja||PT(),Za||(Ja(),Za=!0),uv.add(e,t),t.A=0}}function _v(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=oc(at(t.Ma,t),gS(t,t.A)),t.A++,!0)}C.Ma=function(){if(this.u=null,pS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=oc(at(this.jb,this),t)}};C.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gt(10),sh(this),pS(this))};function Iv(t){t.B!=null&&(L.clearTimeout(t.B),t.B=null)}function pS(t){t.g=new ac(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=fr(t.wa);Ee(e,"RID","rpc"),Ee(e,"SID",t.K),Ee(e,"AID",t.V),Ee(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ee(e,"TO",t.qa),Ee(e,"TYPE","xmlhttp"),dc(t,e),t.o&&t.s&&yv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=rh(fr(e)),n.u=null,n.S=!0,qT(n,t)}C.ib=function(){this.v!=null&&(this.v=null,sh(this),_v(this),gt(19))};function Hd(t){t.v!=null&&(L.clearTimeout(t.v),t.v=null)}function mS(t,e){var n=null;if(t.g==e){Hd(t),Iv(t),t.g=null;var r=2}else if(Jy(t.i,e))n=e.F,nS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Xd(),rt(r,new UT(r,n)),ah(t)}else fS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&xB(t,e)||r==2&&_v(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ji(t,5);break;case 4:ji(t,10);break;case 3:ji(t,6);break;default:ji(t,2)}}}function gS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ji(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=at(t.pb,t);n||(n=new Bi("//www.google.com/images/cleardot.gif"),L.location&&L.location.protocol=="http"||Bd(n,"https"),rh(n)),TB(n.toString(),r)}else gt(2);t.H=0,t.h&&t.h.za(e),yS(t),dS(t)}C.pb=function(t){t?(this.l.info("Successfully pinged google.com"),gt(2)):(this.l.info("Failed to ping google.com"),gt(1))};function yS(t){if(t.H=0,t.ma=[],t.h){let e=rS(t.i);(e.length!=0||t.j.length!=0)&&(uT(t.ma,e),uT(t.ma,t.j),t.i.i.length=0,tv(t.j),t.j.length=0),t.h.ya()}}function vS(t,e,n){var r=n instanceof Bi?fr(n):new Bi(n);if(r.g!="")e&&(r.g=e+"."+r.g),$d(r,r.m);else{var i=L.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Bi(null);r&&Bd(o,r),e&&(o.g=e),i&&$d(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ee(r,n,e),Ee(r,"VER",t.ra),dc(t,r),r}function _S(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ae(new uc({ob:n})):new Ae(t.va),e.Oa(t.J),e}C.isActive=function(){return!!this.h&&this.h.isActive(this)};function IS(){}C=IS.prototype;C.Ba=function(){};C.Aa=function(){};C.za=function(){};C.ya=function(){};C.isActive=function(){return!0};C.Va=function(){};function qd(){if(os&&!(10<=Number(Qj)))throw Error("Environmental error: no available transport.")}qd.prototype.g=function(t,e){return new Mt(t,e)};function Mt(t,e){We.call(this),this.g=new lS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new as(this)}Ke(Mt,We);Mt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=vS(t,null,t.Y),ah(t)};Mt.prototype.close=function(){vv(this.g)};Mt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=cv(t),t=n);e.j.push(new wB(e.fb++,t)),e.H==3&&ah(e)};Mt.prototype.N=function(){this.g.h=null,delete this.j,vv(this.g),delete this.g,Mt.$.N.call(this)};function wS(t){fv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ke(wS,fv);function ES(){pv.call(this),this.status=1}Ke(ES,pv);function as(t){this.g=t}Ke(as,IS);as.prototype.Ba=function(){rt(this.g,"a")};as.prototype.Aa=function(t){rt(this.g,new wS(t))};as.prototype.za=function(t){rt(this.g,new ES)};as.prototype.ya=function(){rt(this.g,"b")};function PB(){this.blockSize=-1}function on(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ke(on,PB);on.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Vy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}on.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Vy(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Vy(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Vy(this,r),i=0;break}}this.h=i,this.i+=e};on.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var OB={};function wv(t){return-128<=t&&128>t?zj(t,function(e){return new pe([e|0],0>e?-1:0)}):new pe([t|0],0>t?-1:0)}function Vn(t){if(isNaN(t)||!isFinite(t))return is;if(0>t)return nt(Vn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Zy;return new pe(e,0)}function DS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return nt(DS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Vn(Math.pow(e,8)),r=is,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Vn(Math.pow(e,o)),r=r.R(o).add(Vn(s))):(r=r.R(n),r=r.add(Vn(s)))}return r}var Zy=4294967296,is=wv(0),Xy=wv(1),_T=wv(16777216);C=pe.prototype;C.ea=function(){if(zt(this))return-nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Zy+r)*e,e*=Zy}return t};C.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(hr(this))return"0";if(zt(this))return"-"+nt(this).toString(t);for(var e=Vn(Math.pow(t,6)),n=this,r="";;){var i=zd(n,e).g;n=Gd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,hr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};C.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function hr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function zt(t){return t.h==-1}C.X=function(t){return t=Gd(this,t),zt(t)?-1:hr(t)?0:1};function nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new pe(n,~t.h).add(Xy)}C.abs=function(){return zt(this)?nt(this):this};C.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new pe(n,n[n.length-1]&-2147483648?-1:0)};function Gd(t,e){return t.add(nt(e))}C.R=function(t){if(hr(this)||hr(t))return is;if(zt(this))return zt(t)?nt(this).R(nt(t)):nt(nt(this).R(t));if(zt(t))return nt(this.R(nt(t)));if(0>this.X(_T)&&0>t.X(_T))return Vn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,jd(n,2*r+2*i),n[2*r+2*i+1]+=o*c,jd(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,jd(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,jd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new pe(n,0)};function jd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ga(t,e){this.g=t,this.h=e}function zd(t,e){if(hr(e))throw Error("division by zero");if(hr(t))return new Ga(is,is);if(zt(t))return e=zd(nt(t),e),new Ga(nt(e.g),nt(e.h));if(zt(e))return e=zd(t,nt(e)),new Ga(nt(e.g),e.h);if(30<t.g.length){if(zt(t)||zt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Xy,r=e;0>=r.X(t);)n=IT(n),r=IT(r);var i=ns(n,1),o=ns(r,1);for(r=ns(r,2),n=ns(n,2);!hr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ns(r,1),n=ns(n,1)}return e=Gd(t,i.R(e)),new Ga(i,e)}for(i=is;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Vn(n),s=o.R(e);zt(s)||0<s.X(t);)n-=r,o=Vn(n),s=o.R(e);hr(o)&&(o=Xy),i=i.add(o),t=Gd(t,s)}return new Ga(i,t)}C.gb=function(t){return zd(this,t).h};C.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new pe(n,this.h&t.h)};C.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new pe(n,this.h|t.h)};C.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new pe(n,this.h^t.h)};function IT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new pe(n,t.h)}function ns(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new pe(i,t.h)}qd.prototype.createWebChannel=qd.prototype.g;Mt.prototype.send=Mt.prototype.u;Mt.prototype.open=Mt.prototype.m;Mt.prototype.close=Mt.prototype.close;eh.NO_ERROR=0;eh.TIMEOUT=8;eh.HTTP_ERROR=6;jT.COMPLETE="complete";BT.EventType=sc;sc.OPEN="a";sc.CLOSE="b";sc.ERROR="c";sc.MESSAGE="d";We.prototype.listen=We.prototype.O;Ae.prototype.listenOnce=Ae.prototype.P;Ae.prototype.getLastError=Ae.prototype.Sa;Ae.prototype.getLastErrorCode=Ae.prototype.Ia;Ae.prototype.getStatus=Ae.prototype.da;Ae.prototype.getResponseJson=Ae.prototype.Wa;Ae.prototype.getResponseText=Ae.prototype.ja;Ae.prototype.send=Ae.prototype.ha;Ae.prototype.setWithCredentials=Ae.prototype.Oa;on.prototype.digest=on.prototype.l;on.prototype.reset=on.prototype.reset;on.prototype.update=on.prototype.j;pe.prototype.add=pe.prototype.add;pe.prototype.multiply=pe.prototype.R;pe.prototype.modulo=pe.prototype.gb;pe.prototype.compare=pe.prototype.X;pe.prototype.toNumber=pe.prototype.ea;pe.prototype.toString=pe.prototype.toString;pe.prototype.getBits=pe.prototype.D;pe.fromNumber=Vn;pe.fromString=DS;var CS=sn.createWebChannelTransport=function(){return new qd},bS=sn.getStatEventTarget=function(){return Xd()},ch=sn.ErrorCode=eh,TS=sn.EventType=jT,SS=sn.Event=$i,Ev=sn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Y8=sn.FetchXmlHttpFactory=uc,hc=sn.WebChannel=BT,AS=sn.XhrIo=Ae,RS=sn.Md5=on,Hi=sn.Integer=pe;var MS="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var As="10.11.0";var Ki=new Vr("@firebase/firestore");function fc(){return Ki.logLevel}function b(t,...e){if(Ki.logLevel<=Z.DEBUG){let n=e.map(hI);Ki.debug(`Firestore (${As}): ${t}`,...n)}}function Hn(t,...e){if(Ki.logLevel<=Z.ERROR){let n=e.map(hI);Ki.error(`Firestore (${As}): ${t}`,...n)}}function ms(t,...e){if(Ki.logLevel<=Z.WARN){let n=e.map(hI);Ki.warn(`Firestore (${As}): ${t}`,...n)}}function hI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function F(t="Unexpected state"){let e=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: `+t;throw Hn(e),new Error(e)}function we(t,e){t||F()}function B(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},T=class extends Rt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var fh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Sv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},Av=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Rv=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new cn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new cn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new fh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new Qe(e)}},Mv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Nv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Mv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Pv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,b("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new xv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function kB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ph=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=kB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ce(t,e){return t<e?-1:t>e?1:0}function gs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ye=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var H=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ye(0,0))}static max(){return new t(new ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var mh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&F(),r===void 0?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Te=class t extends mh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new T(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},FB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nt=class t extends mh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return FB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new T(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new T(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new T(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new T(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var x=class t{constructor(e){this.path=e}static fromPath(e){return new t(Te.fromString(e))}static fromName(e){return new t(Te.fromString(e).popFirst(5))}static empty(){return new t(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Te(e.slice()))}};var Ov=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ov.UNKNOWN_ID=-1;function VB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=H.fromTimestamp(r===1e9?new ye(n+1,0):new ye(n,r));return new Qi(i,x.empty(),e)}function LB(t){return new Qi(t.readTime,t.key,-1)}var Qi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(H.min(),x.empty(),-1)}static max(){return new t(H.max(),x.empty(),-1)}};function UB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=x.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}var jB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Nc(t){return f(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==jB)throw t;b("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var Fv=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new cn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Wi(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=fI(r.target.error);this.V.reject(new Wi(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Wi(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(b("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Lv(n)}},gh=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Se())===12.2&&Hn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return b("SimpleDb","Removing database:",e),qi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Gl())return!1;if(t.C())return!0;let e=Se(),n=t.S(e),r=0<n&&n<10,i=t.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return f(this,null,function*(){return this.db||(b("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new Wi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new T(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new T(m.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Wi(e,s))},i.onupgradeneeded=o=>{b("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{b("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return f(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=Fv.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),y.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&s<3;if(b("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Vv=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return qi(this.k.delete())}},Wi=class extends T{constructor(e,n){super(m.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function xc(t){return t.name==="IndexedDbTransactionError"}var Lv=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(b("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(b("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qi(r)}add(e){return b("SimpleDb","ADD",this.store.name,e,e),qi(this.store.add(e))}get(e){return qi(this.store.get(e)).next(n=>(n===void 0&&(n=null),b("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return b("SimpleDb","DELETE",this.store.name,e),qi(this.store.delete(e))}count(){return b("SimpleDb","COUNT",this.store.name),qi(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new y((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.G(o,(a,c)=>{s.push(c)}).next(()=>s)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new y((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){b("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new y((r,i)=>{n.onerror=o=>{let s=fI(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){let r=[];return new y((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new Vv(a),u=n(a.primaryKey,a.value,c);if(u instanceof y){let l=u.catch(d=>(c.done(),y.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function qi(t){return new y((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=fI(r.target.error);n(i)}})}var NS=!1;function fI(t){let e=gh.S(Se());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new T("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return NS||(NS=!0,setTimeout(()=>{throw r},0)),r}}return t}var cA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function $h(t){return t==null}function _c(t){return t===0&&1/t==-1/0}function BB(t){return typeof t=="number"&&Number.isInteger(t)&&!_c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var $B=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sK=[...$B,"documentOverlays"],HB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qB=HB,aK=[...qB,"indexConfiguration","indexState","indexEntries"];function xS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Me=class t{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ds(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ds(this.root,e,this.comparator,!1)}getReverseIterator(){return new ds(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ds(this.root,e,this.comparator,!0)}},ds=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},jn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();let e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}};jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(e,n,r,i,o){return this}insert(e,n,r){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var lt=class t{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yh(this.data.getIterator())}getIteratorFrom(e){return new yh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},yh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Un=class t{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new t([])}unionWith(e){let n=new lt(Nt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var vh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var GB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(t){if(we(!!t),typeof t=="string"){let e=0,n=GB.exec(t);if(we(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xr(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}function pI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mI(t){let e=t.mapValue.fields.__previous_value__;return pI(e)?mI(e):e}function Ic(t){let e=mr(t.mapValue.fields.__local_write_time__.timestampValue);return new ye(e.seconds,e.nanos)}var Uv=class{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},_h=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var uh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pI(t)?4:lA(t)?9007199254740991:10:F()}function qn(t,e){if(t===e)return!0;let n=Yi(t);if(n!==Yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ic(t).isEqual(Ic(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=mr(i.timestampValue),a=mr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Xr(i.bytesValue).isEqual(Xr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),a=Re(o.doubleValue);return s===a?_c(s)===_c(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return gs(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(xS(s)!==xS(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!qn(s[c],a[c])))return!1;return!0}(t,e);default:return F()}}function wc(t,e){return(t.values||[]).find(n=>qn(n,e))!==void 0}function ys(t,e){if(t===e)return 0;let n=Yi(t),r=Yi(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Re(o.integerValue||o.doubleValue),c=Re(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return PS(t.timestampValue,e.timestampValue);case 4:return PS(Ic(t),Ic(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Xr(o),c=Xr(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ce(a[u],c[u]);if(l!==0)return l}return ce(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ce(Re(o.latitude),Re(s.latitude));return a!==0?a:ce(Re(o.longitude),Re(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=ys(a[u],c[u]);if(l)return l}return ce(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===uh.mapValue&&s===uh.mapValue)return 0;if(o===uh.mapValue)return 1;if(s===uh.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ce(c[d],l[d]);if(h!==0)return h;let p=ys(a[c[d]],u[l[d]]);if(p!==0)return p}return ce(c.length,l.length)}(t.mapValue,e.mapValue);default:throw F()}}function PS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);let n=mr(t),r=mr(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function vs(t){return jv(t)}function jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return x.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=jv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${jv(n.fields[s])}`;return i+"}"}(t.mapValue):F()}function OS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bv(t){return!!t&&"integerValue"in t}function gI(t){return!!t&&"arrayValue"in t}function kS(t){return!!t&&"nullValue"in t}function FS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dh(t){return!!t&&"mapValue"in t}function mc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var an=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=mc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Rs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(mc(this.value))}};function dA(t){let e=[];return Rs(t.fields,(n,r)=>{let i=new Nt([n]);if(dh(r)){let o=dA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Un(e)}var un=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,H.min(),H.min(),H.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,H.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,H.min(),H.min(),an.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,H.min(),H.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(H.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var _s=class{constructor(e,n){this.position=e,this.inclusive=n}};function VS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=x.comparator(x.fromName(s.referenceValue),n.key):r=ys(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qn(t.position[n],e.position[n]))return!1;return!0}var Is=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function zB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ih=class{},Ue=class t extends Ih{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hv(e,n,r):n==="array-contains"?new zv(e,r):n==="in"?new Wv(e,r):n==="not-in"?new Kv(e,r):n==="array-contains-any"?new Qv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qv(e,r):new Gv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ys(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ln=class t extends Ih{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return hA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function hA(t){return t.op==="and"}function fA(t){return WB(t)&&hA(t)}function WB(t){for(let e of t.filters)if(e instanceof ln)return!1;return!0}function $v(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+vs(t.value);if(fA(t))return t.filters.map(e=>$v(e)).join(",");{let e=t.filters.map(n=>$v(n)).join(",");return`${t.op}(${e})`}}function pA(t,e){return t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&qn(r.value,i.value)}(t,e):t instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&pA(s,i.filters[a]),!0):!1}(t,e):void F()}function mA(t){return t instanceof Ue?function(n){return`${n.field.canonicalString()} ${n.op} ${vs(n.value)}`}(t):t instanceof ln?function(n){return n.op.toString()+" {"+n.getFilters().map(mA).join(" ,")+"}"}(t):"Filter"}var Hv=class extends Ue{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){let n=x.comparator(e.key,this.key);return this.matchesComparison(n)}},qv=class extends Ue{constructor(e,n){super(e,"in",n),this.keys=gA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Gv=class extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=gA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function gA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}var zv=class extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return gI(n)&&wc(n.arrayValue,this.value)}},Wv=class extends Ue{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}},Kv=class extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!wc(this.value.arrayValue,n)}},Qv=class extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!gI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wc(this.value.arrayValue,r))}};var Yv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function US(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Yv(t,e,n,r,i,o,s)}function yI(t){let e=B(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$v(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vs(r)).join(",")),e.ce=n}return e.ce}function vI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LS(t.startAt,e.startAt)&&LS(t.endAt,e.endAt)}function Jv(t){return x.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ji=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function KB(t,e,n,r,i,o,s,a){return new Ji(t,e,n,r,i,o,s,a)}function yA(t){return new Ji(t)}function jS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vA(t){return t.collectionGroup!==null}function gc(t){let e=B(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new lt(Nt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Is(o,r))}),n.has(Nt.keyField().canonicalString())||e.le.push(new Is(Nt.keyField(),r))}return e.le}function Bn(t){let e=B(t);return e.he||(e.he=QB(e,gc(t))),e.he}function QB(t,e){if(t.limitType==="F")return US(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Is(i.field,o)});let n=t.endAt?new _s(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _s(t.startAt.position,t.startAt.inclusive):null;return US(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zv(t,e){let n=t.filters.concat([e]);return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xv(t,e,n){return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hh(t,e){return vI(Bn(t),Bn(e))&&t.limitType===e.limitType}function _A(t){return`${yI(Bn(t))}|lt:${t.limitType}`}function cs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mA(i)).join(", ")}]`),$h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vs(i)).join(",")),`Target(${r})`}(Bn(t))}; limitType=${t.limitType})`}function qh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):x.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of gc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=VS(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,gc(r),i)||r.endAt&&!function(s,a,c){let u=VS(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,gc(r),i))}(t,e)}function YB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IA(t){return(e,n)=>{let r=!1;for(let i of gc(t)){let o=JB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function JB(t,e,n){let r=t.field.isKeyField()?x.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?ys(c,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}var ei=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return uA(this.inner)}size(){return this.innerSize}};var ZB=new Me(x.comparator);function gr(){return ZB}var wA=new Me(x.comparator);function pc(...t){let e=wA;for(let n of t)e=e.insert(n.key,n);return e}function EA(t){let e=wA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return yc()}function DA(){return yc()}function yc(){return new ei(t=>t.toString(),(t,e)=>t.isEqual(e))}var XB=new Me(x.comparator),e$=new lt(x.comparator);function X(...t){let e=e$;for(let n of t)e=e.add(n);return e}var t$=new lt(ce);function n$(){return t$}function CA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function bA(t){return{integerValue:""+t}}function r$(t,e){return BB(e)?bA(e):CA(t,e)}var ws=class{constructor(){this._=void 0}};function i$(t,e,n){return t instanceof Es?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&pI(o)&&(o=mI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Zi?SA(t,e):t instanceof Xi?AA(t,e):function(i,o){let s=TA(i,o),a=BS(s)+BS(i.Ie);return Bv(s)&&Bv(i.Ie)?bA(a):CA(i.serializer,a)}(t,e)}function o$(t,e,n){return t instanceof Zi?SA(t,e):t instanceof Xi?AA(t,e):n}function TA(t,e){return t instanceof Ds?function(r){return Bv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Es=class extends ws{},Zi=class extends ws{constructor(e){super(),this.elements=e}};function SA(t,e){let n=RA(e);for(let r of t.elements)n.some(i=>qn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Xi=class extends ws{constructor(e){super(),this.elements=e}};function AA(t,e){let n=RA(e);for(let r of t.elements)n=n.filter(i=>!qn(i,r));return{arrayValue:{values:n}}}var Ds=class extends ws{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function BS(t){return Re(t.integerValue||t.doubleValue)}function RA(t){return gI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function s$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zi&&i instanceof Zi||r instanceof Xi&&i instanceof Xi?gs(r.elements,i.elements,qn):r instanceof Ds&&i instanceof Ds?qn(r.Ie,i.Ie):r instanceof Es&&i instanceof Es}(t.transform,e.transform)}var e_=class{constructor(e,n){this.version=e,this.transformResults=n}},pr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Cs=class{};function MA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ec(t.key,pr.none()):new eo(t.key,t.data,pr.none());{let n=t.data,r=an.empty(),i=new lt(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new yr(t.key,r,new Un(i.toArray()),pr.none())}}function a$(t,e,n){t instanceof eo?function(i,o,s){let a=i.value.clone(),c=HS(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yr?function(i,o,s){if(!hh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=HS(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(NA(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function vc(t,e,n,r){return t instanceof eo?function(o,s,a,c){if(!hh(o.precondition,s))return a;let u=o.value.clone(),l=qS(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof yr?function(o,s,a,c){if(!hh(o.precondition,s))return a;let u=qS(o.fieldTransforms,c,s),l=s.data;return l.setAll(NA(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return hh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function c$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=TA(r.transform,i||null);o!=null&&(n===null&&(n=an.empty()),n.set(r.field,o))}return n||null}function $S(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gs(r,i,(o,s)=>s$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var eo=class extends Cs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yr=class extends Cs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function NA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function HS(t,e,n){let r=new Map;we(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,o$(s,a,n[i]))}return r}function qS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,i$(o,s,e))}return r}var Ec=class extends Cs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},t_=class extends Cs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var n_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&a$(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=vc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=vc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=DA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=MA(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(H.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,(n,r)=>$S(n,r))&&gs(this.baseMutations,e.baseMutations,(n,r)=>$S(n,r))}},r_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length);let i=function(){return XB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var i_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var o_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ve,ie;function u$(t){switch(t){default:return F();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function xA(t){if(t===void 0)return Hn("GRPC error has no .code"),m.UNKNOWN;switch(t){case Ve.OK:return m.OK;case Ve.CANCELLED:return m.CANCELLED;case Ve.UNKNOWN:return m.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return m.INTERNAL;case Ve.UNAVAILABLE:return m.UNAVAILABLE;case Ve.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Ve.NOT_FOUND:return m.NOT_FOUND;case Ve.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Ve.ABORTED:return m.ABORTED;case Ve.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Ve.DATA_LOSS:return m.DATA_LOSS;default:return F()}}(ie=Ve||(Ve={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";var GS=null;function l$(){return new TextEncoder}var d$=new Hi([4294967295,4294967295],0);function zS(t){let e=l$().encode(t),n=new RS;return n.update(e),new Uint8Array(n.digest())}function WS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hi([n,r],0),new Hi([i,o],0)]}var s_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zi(`Invalid padding: ${n}`);if(r<0)throw new zi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Hi.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Hi.fromNumber(r)));return i.compare(d$)===1&&(i=new Hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=zS(e),[r,i]=WS(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=zS(e),[r,i]=WS(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},zi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(H.min(),i,new Me(ce),gr(),X())}},Dc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,X(),X(),X())}};var fs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Eh=class{constructor(e,n){this.targetId=e,this.fe=n}},Dh=class{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ch=class{constructor(){this.ge=0,this.pe=QS(),this.ye=yt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=X(),n=X(),r=X();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Dc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=QS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,we(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},a_=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=gr(),this.Qe=KS(),this.Ke=new Me(ce)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(Jv(o))if(r===0){let s=new x(o.path);this.We(n,s,un.newNoDocument(s,H.min()))}else we(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}GS?.tt(function(l,d,h,p,g){var I,w,A,te,K,ve;let Ye={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ue=d.unchangedNames;return ue&&(Ye.bloomFilter={applied:g===0,hashCount:(I=ue?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(te=(A=(w=ue?.bits)===null||w===void 0?void 0:w.bitmap)===null||A===void 0?void 0:A.length)!==null&&te!==void 0?te:0,padding:(ve=(K=ue?.bits)===null||K===void 0?void 0:K.padding)!==null&&ve!==void 0?ve:0,mightContain:it=>{var dn;return(dn=p?.mightContain(it))!==null&&dn!==void 0&&dn}}),Ye}(s,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Xr(r).toUint8Array()}catch(c){if(c instanceof vh)return ms("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new s_(s,i,o)}catch(c){return ms(c instanceof zi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&Jv(a.target)){let c=new x(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,un.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=X();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new wh(e,n,this.Ke,this.qe,r);return this.qe=gr(),this.Qe=KS(),this.Ke=new Me(ce),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ch,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new lt(ce),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||b("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Ch),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function KS(){return new Me(x.comparator)}function QS(){return new Me(x.comparator)}var h$={asc:"ASCENDING",desc:"DESCENDING"},f$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p$={and:"AND",or:"OR"},c_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function u_(t,e){return t.useProto3Json||$h(e)?e:{value:e}}function bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m$(t,e){return bh(t,e.toTimestamp())}function $n(t){return we(!!t),H.fromTimestamp(function(n){let r=mr(n);return new ye(r.seconds,r.nanos)}(t))}function _I(t,e){return l_(t,e).canonicalString()}function l_(t,e){let n=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OA(t){let e=Te.fromString(t);return we(UA(e)),e}function d_(t,e){return _I(t.databaseId,e.path)}function Dv(t,e){let n=OA(e);if(n.get(1)!==t.databaseId.projectId)throw new T(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(FA(n))}function kA(t,e){return _I(t.databaseId,e)}function g$(t){let e=OA(t);return e.length===4?Te.emptyPath():FA(e)}function h_(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FA(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YS(t,e,n){return{name:d_(t,e),fields:n.value.mapValue.fields}}function y$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:F()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,l){return u.useProto3Json?(we(l===void 0||typeof l=="string"),yt.fromBase64String(l||"")):(we(l===void 0||l instanceof Buffer||l instanceof Uint8Array),yt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let l=u.code===void 0?m.UNKNOWN:xA(u.code);return new T(l,u.message||"")}(s);n=new Dh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Dv(t,r.document.name),o=$n(r.document.updateTime),s=r.document.createTime?$n(r.document.createTime):H.min(),a=new an({mapValue:{fields:r.document.fields}}),c=un.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new fs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Dv(t,r.document),o=r.readTime?$n(r.readTime):H.min(),s=un.newNoDocument(i,o),a=r.removedTargetIds||[];n=new fs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Dv(t,r.document),o=r.removedTargetIds||[];n=new fs([],o,i,null)}else{if(!("filter"in e))return F();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new o_(i,o),a=r.targetId;n=new Eh(a,s)}}return n}function v$(t,e){let n;if(e instanceof eo)n={update:YS(t,e.key,e.value)};else if(e instanceof Ec)n={delete:d_(t,e.key)};else if(e instanceof yr)n={update:YS(t,e.key,e.data),updateMask:S$(e.fieldMask)};else{if(!(e instanceof t_))return F();n={verify:d_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Es)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ds)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:m$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:F()}(t,e.precondition)),n}function _$(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?$n(i.updateTime):$n(o);return s.isEqual(H.min())&&(s=$n(o)),new e_(s,i.transformResults||[])}(n,e))):[]}function I$(t,e){return{documents:[kA(t,e.path)]}}function w$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kA(t,i);let o=function(u){if(u.length!==0)return LA(ln.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:us(h.field),direction:C$(h.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=u_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function E$(t){let e=g$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){let h=VA(d);return h instanceof ln&&fA(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(g){return new Is(ls(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,$h(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new _s(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new _s(p,h)}(n.endAt)),KB(e,i,s,o,a,"F",c,u)}function D$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ls(n.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ls(n.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ls(n.unaryFilter.field);return Ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ls(n.unaryFilter.field);return Ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):t.fieldFilter!==void 0?function(n){return Ue.create(ls(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ln.create(n.compositeFilter.filters.map(r=>VA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return F()}}(n.compositeFilter.op))}(t):F()}function C$(t){return h$[t]}function b$(t){return f$[t]}function T$(t){return p$[t]}function us(t){return{fieldPath:t.canonicalString()}}function ls(t){return Nt.fromServerFormat(t.fieldPath)}function LA(t){return t instanceof Ue?function(n){if(n.op==="=="){if(FS(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NAN"}};if(kS(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FS(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NAN"}};if(kS(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(n.field),op:b$(n.op),value:n.value}}}(t):t instanceof ln?function(n){let r=n.getFilters().map(i=>LA(i));return r.length===1?r[0]:{compositeFilter:{op:T$(n.op),filters:r}}}(t):F()}function S$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Cc=class t{constructor(e,n,r,i,o=H.min(),s=H.min(),a=yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var f_=class{constructor(e){this.ct=e}};function A$(t){let e=E$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xv(e,e.limit,"L"):e}var Th=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),_c(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=mr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Xr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?lA(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):F()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),x.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Th.bt=new Th;var p_=class{constructor(){this._n=new m_}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Qi.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},m_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Te.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Te.comparator)).toArray()}};var uK=new Uint8Array(0);var Ln=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(41943040,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);var bc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var g_=class{constructor(){this.changes=new ei(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var y_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var v_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vc(r.mutation,i,Un.empty(),ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,X()).next(()=>r))}getLocalViewOfDocuments(e,n,r=X()){let i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=pc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,X()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=gr(),s=yc(),a=function(){return yc()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof yr)?o=o.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),vc(l.mutation,u,l.mutation.getFieldMask(),ye.now())):s.set(u.key,Un.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new y_(l,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=yc(),i=new Me((s,a)=>s-a),o=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Un.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||X()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=DA();l.forEach(h=>{if(!o.has(h)){let p=MA(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return x.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):y.resolve(Gi()),a=-1,c=o;return s.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,X())).next(l=>({batchId:a,changes:EA(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=pc();return this.indexManager.getCollectionParents(e,o).next(a=>y.forEach(a,c=>{let u=function(d,h){return new Ji(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,un.newInvalidDocument(l)))});let a=pc();return s.forEach((c,u)=>{let l=o.get(c);l!==void 0&&vc(l.mutation,u,Un.empty(),ye.now()),qh(n,u)&&(a=a.insert(c,u))}),a})}};var __=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$n(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:A$(i.bundledQuery),readTime:$n(i.readTime)}}(n)),y.resolve()}};var I_=class{constructor(){this.overlays=new Me(x.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Gi();return y.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Gi(),o=n.length+1,s=new x(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Me((u,l)=>u-l),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);l===null&&(l=Gi(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Gi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new i_(n,r));let o=this.hr.get(n);o===void 0&&(o=X(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var Tc=class{constructor(){this.Pr=new lt(Le.Ir),this.Tr=new lt(Le.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Le(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Le(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new x(new Te([])),r=new Le(n,e),i=new Le(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new x(new Te([])),r=new Le(n,e),i=new Le(n,e+1),o=X();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Le(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return x.comparator(e.key,n.key)||ce(e.pr,n.pr)}static Er(e,n){return ce(e.pr,n.pr)||x.comparator(e.key,n.key)}};var w_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new lt(Le.Ir)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new n_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new Le(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(s)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Le(n,0),i=new Le(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(ce);return n.forEach(i=>{let o=new Le(i,0),s=new Le(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;x.isDocumentKey(o)||(o=o.child(""));let s=new Le(new x(o),0),a=new lt(ce);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},s),y.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return y.forEach(n.mutations,i=>{let o=new Le(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Le(n,0),i=this.wr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var E_=class{constructor(e){this.vr=e,this.docs=function(){return new Me(x.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=gr(),s=n.path,a=new x(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||UB(LB(l),r)<=0||(i.has(l.key)||qh(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return y.resolve(o)}getAllFromCollectionGroup(e,n,r,i){F()}Fr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D_(this)}getSize(e){return y.resolve(this.size)}},D_=class extends g_{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var C_=class{constructor(e){this.persistence=e,this.Mr=new ei(n=>yI(n),vI),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Tc,this.targetCount=0,this.Lr=bc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new bc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(o).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}};var b_=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new cA(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new C_(this),this.indexManager=new p_,this.remoteDocumentCache=function(i){return new E_(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new f_(n),this.$r=new __(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new w_(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);let i=new T_(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},T_=class extends kv{constructor(e){super(),this.currentSequenceNumber=e}},S_=class t{constructor(e){this.persistence=e,this.zr=new Tc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw F()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,r=>{let i=x.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,H.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var A_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=X(),i=X();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var R_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var M_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return dC()?8:gh.v(Se())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new R_;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(fc()<=Z.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(fc()<=Z.DEBUG&&b("QueryEngine","Query:",cs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(fc()<=Z.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(n))):y.resolve())}ji(e,n){if(jS(n))return y.resolve(null);let r=Bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xv(n,null,"F"),r=Bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=X(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,s,c.readTime)?this.ji(e,Xv(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return jS(n)||i.isEqual(H.min())?y.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?y.resolve(null):(fc()<=Z.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cs(n)),this.es(e,s,n,VB(i,-1)).next(a=>a))})}Zi(e,n){let r=new lt(IA(e));return n.forEach((i,o)=>{qh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return fc()<=Z.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",cs(n)),this.zi.getDocumentsMatchingQuery(e,n,Qi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var N_=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Me(ce),this.rs=new ei(o=>yI(o),vI),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function R$(t,e,n,r){return new N_(t,e,n,r)}function jA(t,e){return f(this,null,function*(){let n=B(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=X();for(let u of i){s.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of o){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})})}function M$(t,e){let n=B(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=y.resolve();return h.forEach(g=>{p=p.next(()=>l.getEntry(c,g)).next(I=>{let w=u.docVersions.get(g);we(w!==null),I.version.compareTo(w)<0&&(d.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),l.addEntry(I)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=X();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BA(t){let e=B(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function N$(t,e){let n=B(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,l.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(yt.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),function(I,w,A){return I.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(h,p,l)&&a.push(n.Qr.updateTargetData(o,p))});let c=gr(),u=X();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(x$(o,s,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(H.min())){let l=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.ns=i,o))}function x$(t,e,n){let r=X(),i=X();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=gr();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(H.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:s,ls:i}})}function P$(t,e){let n=B(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O$(t,e){let n=B(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,y.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Cc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function x_(t,e,n){return f(this,null,function*(){let r=B(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!xc(s))throw s;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function JS(t,e,n){let r=B(t),i=H.min(),o=X();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,l){let d=B(c),h=d.rs.get(l);return h!==void 0?y.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,s,Bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:H.min(),n?o:X())).next(a=>(k$(r,YB(e),a),{documents:a,hs:o})))}function k$(t,e,n){let r=t.ss.get(e)||H.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}var Sh=class{constructor(){this.activeTargetIds=n$()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var P_=class{constructor(){this.no=new Sh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Sh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var O_=class{io(e){}shutdown(){}};var Ah=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var lh=null;function Cv(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}var F$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var k_=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var ut="WebChannelConnection",F_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){let a=Cv(),c=this.bo(n,r.toUriEncodedString());b("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,c,u,i).then(l=>(b("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ms("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){let i=F$[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let o=Cv();return new Promise((s,a)=>{let c=new AS;c.setWithCredentials(!0),c.listenOnce(TS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ch.NO_ERROR:let l=c.getResponseJson();b(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case ch.TIMEOUT:b(ut,`RPC '${e}' ${o} timed out`),a(new T(m.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:let d=c.getStatus();if(b(ut,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let g=function(w){let A=w.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(A)>=0?A:m.UNKNOWN}(p.status);a(new T(g,p.message))}else a(new T(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new T(m.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{b(ut,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);b(ut,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Cv(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=CS(),a=bS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");b(ut,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=s.createWebChannel(l,c),h=!1,p=!1,g=new k_({lo:w=>{p?b(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(b(ut,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(ut,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},ho:()=>d.close()}),I=(w,A,te)=>{w.listen(A,K=>{try{te(K)}catch(ve){setTimeout(()=>{throw ve},0)}})};return I(d,hc.EventType.OPEN,()=>{p||b(ut,`RPC '${e}' stream ${i} transport opened.`)}),I(d,hc.EventType.CLOSE,()=>{p||(p=!0,b(ut,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),I(d,hc.EventType.ERROR,w=>{p||(p=!0,ms(ut,`RPC '${e}' stream ${i} transport errored:`,w),g.Vo(new T(m.UNAVAILABLE,"The operation could not be completed")))}),I(d,hc.EventType.MESSAGE,w=>{var A;if(!p){let te=w.data[0];we(!!te);let K=te,ve=K.error||((A=K[0])===null||A===void 0?void 0:A.error);if(ve){b(ut,`RPC '${e}' stream ${i} received error:`,ve);let Ye=ve.status,ue=function(ni){let io=Ve[ni];if(io!==void 0)return xA(io)}(Ye),it=ve.message;ue===void 0&&(ue=m.INTERNAL,it="Unknown error status: "+Ye+" with message "+ve.message),p=!0,g.Vo(new T(ue,it)),d.close()}else b(ut,`RPC '${e}' stream ${i} received:`,te),g.mo(te)}}),I(a,SS.STAT_EVENT,w=>{w.stat===Ev.PROXY?b(ut,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Ev.NOPROXY&&b(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}};function bv(){return typeof document<"u"?document:null}function Gh(t){return new c_(t,!0)}var Rh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Mh=class{constructor(e,n,r,i,o,s,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Rh(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return f(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return f(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return f(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(Hn(n.toString()),Hn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new T(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>f(this,null,function*(){this.state=0,this.start()}))}__(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},V_=class extends Mh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=y$(this.serializer,e),r=function(o){if(!("targetChange"in o))return H.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?H.min():s.readTime?$n(s.readTime):H.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=h_(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=Jv(c)?{documents:I$(o,c)}:{query:w$(o,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=PA(o,s.resumeToken);let u=u_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(H.min())>0){a.readTime=bh(o,s.snapshotVersion.toTimestamp());let u=u_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=D$(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=h_(this.serializer),n.removeTarget=e,this.t_(n)}},L_=class extends Mh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=_$(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.T_(r,n)}return we(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=h_(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>v$(this.serializer,r))};this.t_(n)}};var U_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new T(m.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,l_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new T(m.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,l_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(m.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var j_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Hn(n),this.g_=!1):b("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var B_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(()=>f(this,null,function*(){ro(this)&&(b("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=B(c);u.v_.add(4),yield Pc(u),u.x_.set("Unknown"),u.v_.delete(4),yield zh(u)})}(this))}))}),this.x_=new j_(r,i)}};function zh(t){return f(this,null,function*(){if(ro(t))for(let e of t.F_)yield e(!0)})}function Pc(t){return f(this,null,function*(){for(let e of t.F_)yield e(!1)})}function $A(t,e){let n=B(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),DI(n)?EI(n):Ms(n).Jo()&&wI(n,e))}function II(t,e){let n=B(t),r=Ms(n);n.C_.delete(e),r.Jo()&&HA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ro(n)&&n.x_.set("Unknown"))}function wI(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ms(t).c_(e)}function HA(t,e){t.O_.Oe(e),Ms(t).l_(e)}function EI(t){t.O_=new a_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ms(t).start(),t.x_.p_()}function DI(t){return ro(t)&&!Ms(t).Ho()&&t.C_.size>0}function ro(t){return B(t).v_.size===0}function qA(t){t.O_=void 0}function V$(t){return f(this,null,function*(){t.C_.forEach((e,n)=>{wI(t,e)})})}function L$(t,e){return f(this,null,function*(){qA(t),DI(t)?(t.x_.S_(e),EI(t)):t.x_.set("Unknown")})}function U$(t,e,n){return f(this,null,function*(){if(t.x_.set("Online"),e instanceof Dh&&e.state===2&&e.cause)try{yield function(i,o){return f(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Nh(t,r)}else if(e instanceof fs?t.O_.$e(e):e instanceof Eh?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(H.min()))try{let r=yield BA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=o.C_.get(u);l&&o.C_.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let l=o.C_.get(c);if(!l)return;o.C_.set(c,l.withResumeToken(yt.EMPTY_BYTE_STRING,l.snapshotVersion)),HA(o,c);let d=new Cc(l.target,c,u,l.sequenceNumber);wI(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield Nh(t,r)}})}function Nh(t,e,n){return f(this,null,function*(){if(!xc(e))throw e;t.v_.add(1),yield Pc(t),t.x_.set("Offline"),n||(n=()=>BA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield zh(t)}))})}function GA(t,e){return e().catch(n=>Nh(t,n,e))}function Wh(t){return f(this,null,function*(){let e=B(t),n=ti(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;j$(e);)try{let i=yield P$(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,B$(e,i)}catch(i){yield Nh(e,i)}zA(e)&&WA(e)})}function j$(t){return ro(t)&&t.D_.length<10}function B$(t,e){t.D_.push(e);let n=ti(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function zA(t){return ro(t)&&!ti(t).Ho()&&t.D_.length>0}function WA(t){ti(t).start()}function $$(t){return f(this,null,function*(){ti(t).d_()})}function H$(t){return f(this,null,function*(){let e=ti(t);for(let n of t.D_)e.I_(n.mutations)})}function q$(t,e,n){return f(this,null,function*(){let r=t.D_.shift(),i=r_.from(r,e,n);yield GA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Wh(t)})}function G$(t,e){return f(this,null,function*(){e&&ti(t).P_&&(yield function(r,i){return f(this,null,function*(){if(function(s){return u$(s)&&s!==m.ABORTED}(i.code)){let o=r.D_.shift();ti(r).Zo(),yield GA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Wh(r)}})}(t,e)),zA(t)&&WA(t)})}function ZS(t,e){return f(this,null,function*(){let n=B(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");let r=ro(n);n.v_.add(3),yield Pc(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield zh(n)})}function z$(t,e){return f(this,null,function*(){let n=B(t);e?(n.v_.delete(2),yield zh(n)):e||(n.v_.add(2),yield Pc(n),n.x_.set("Unknown"))})}function Ms(t){return t.N_||(t.N_=function(n,r,i){let o=B(n);return o.R_(),new V_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:V$.bind(null,t),To:L$.bind(null,t),u_:U$.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.N_.Zo(),DI(t)?EI(t):t.x_.set("Unknown")):(yield t.N_.stop(),qA(t))}))),t.N_}function ti(t){return t.L_||(t.L_=function(n,r,i){let o=B(n);return o.R_(),new L_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:$$.bind(null,t),To:G$.bind(null,t),E_:H$.bind(null,t),T_:q$.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.L_.Zo(),yield Wh(t)):(yield t.L_.stop(),t.D_.length>0&&(b("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var $_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new T(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function CI(t,e){if(Hn("AsyncQueue",`${e}: ${t}`),xc(t))return new T(m.UNAVAILABLE,`${e}: ${t}`);throw t}var xh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=pc(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ph=class{constructor(){this.B_=new Me(x.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):F():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},bs=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,xh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var H_=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},q_=class{constructor(){this.queries=new ei(e=>_A(e),Hh),this.onlineState="Unknown",this.W_=new Set}};function W$(t,e){return f(this,null,function*(){let n=B(t),r=3,i=e.query,o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new H_,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=CI(s,`Initialization of query '${cs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&bI(n)})}function K$(t,e){return f(this,null,function*(){let n=B(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Q$(t,e){let n=B(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&bI(n)}function Y$(t,e,n){let r=B(t),i=r.queries.get(e);if(i)for(let o of i.Q_)o.onError(n);r.queries.delete(e)}function bI(t){t.W_.forEach(e=>{e.next()})}var G_,XS;(XS=G_||(G_={})).j_="default",XS.Cache="cache";var z_=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new bs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==G_.Cache}};var Oh=class{constructor(e){this.key=e}},kh=class{constructor(e){this.key=e}},W_=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=X(),this.mutatedKeys=X(),this.ha=IA(e),this.Pa=new xh(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new Ph,i=n?n.Pa:this.Pa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),p=qh(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),I=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),w=!1;h&&p?h.data.isEqual(p.data)?g!==I&&(r.track({type:3,doc:p}),w=!0):this.da(h,p)||(r.track({type:2,doc:p}),w=!0,(c&&this.ha(p,c)>0||u&&this.ha(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(c||u)&&(a=!0)),w&&(p?(s=s.add(p),o=I?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((l,d)=>function(p,g){let I=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return I(p)-I(g)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,u=c!==this.ca;return this.ca=c,s.length!==0||u?{snapshot:new bs(this.query,e.Pa,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Ph,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=X(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new kh(r))}),this.la.forEach(r=>{e.has(r)||n.push(new Oh(r))}),n}fa(e){this.ua=e.hs,this.la=X();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return bs.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},K_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Q_=class{constructor(e){this.key=e,this.pa=!1}},Y_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new ei(a=>_A(a),Hh),this.Sa=new Map,this.ba=new Set,this.Da=new Me(x.comparator),this.Ca=new Map,this.va=new Tc,this.Fa={},this.Ma=new Map,this.xa=bc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function J$(t,e,n=!0){return f(this,null,function*(){let r=XA(t),i,o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield KA(r,e,n,!0),i})}function Z$(t,e){return f(this,null,function*(){let n=XA(t);yield KA(n,e,!0,!1)})}function KA(t,e,n,r){return f(this,null,function*(){let i=yield O$(t.localStore,Bn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield X$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&$A(t.remoteStore,i),a})}function X$(t,e,n,r,i){return f(this,null,function*(){t.Na=(d,h,p)=>function(I,w,A,te){return f(this,null,function*(){let K=w.view.Ta(A);K.Xi&&(K=yield JS(I.localStore,w.query,!1).then(({documents:it})=>w.view.Ta(it,K)));let ve=te&&te.targetChanges.get(w.targetId),Ye=te&&te.targetMismatches.get(w.targetId)!=null,ue=w.view.applyChanges(K,I.isPrimaryClient,ve,Ye);return tA(I,w.targetId,ue.Va),ue.snapshot})}(t,d,h,p);let o=yield JS(t.localStore,e,!0),s=new W_(e,o.hs),a=s.Ta(o.documents),c=Dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);tA(t,n,u.Va);let l=new K_(e,n,s);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot})}function eH(t,e,n){return f(this,null,function*(){let r=B(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!Hh(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield x_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&II(r.remoteStore,i.targetId),J_(r,i.targetId)}).catch(Nc))):(J_(r,i.targetId),yield x_(r.localStore,i.targetId,!0))})}function tH(t,e){return f(this,null,function*(){let n=B(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),II(n.remoteStore,r.targetId))})}function nH(t,e,n){return f(this,null,function*(){let r=uH(t);try{let i=yield function(s,a){let c=B(s),u=ye.now(),l=a.reduce((p,g)=>p.add(g.key),X()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=gr(),I=X();return c.os.getEntries(p,l).next(w=>{g=w,g.forEach((A,te)=>{te.isValidDocument()||(I=I.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(w=>{d=w;let A=[];for(let te of a){let K=c$(te,d.get(te.key).overlayedDocument);K!=null&&A.push(new yr(te.key,K,dA(K.value.mapValue),pr.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,A,a)}).next(w=>{h=w;let A=w.applyToLocalDocumentSet(d,I);return c.documentOverlayCache.saveOverlays(p,w.batchId,A)})}).then(()=>({batchId:h.batchId,changes:EA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Fa[s.currentUser.toKey()];u||(u=new Me(ce)),u=u.insert(a,c),s.Fa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Oc(r,i.changes),yield Wh(r.remoteStore)}catch(i){let o=CI(i,"Failed to persist write");n.reject(o)}})}function QA(t,e){return f(this,null,function*(){let n=B(t);try{let r=yield N$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Ca.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?we(s.pa):i.removedDocuments.size>0&&(we(s.pa),s.pa=!1))}),yield Oc(n,r,e)}catch(r){yield Nc(r)}})}function eA(t,e,n){let r=B(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=B(s);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(u=!0)}),u&&bI(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rH(t,e,n){return f(this,null,function*(){let r=B(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),o=i&&i.key;if(o){let s=new Me(x.comparator);s=s.insert(o,un.newNoDocument(o,H.min()));let a=X().add(o),c=new wh(H.min(),new Map,new Me(ce),s,a);yield QA(r,c),r.Da=r.Da.remove(o),r.Ca.delete(e),TI(r)}else yield x_(r.localStore,e,!1).then(()=>J_(r,e,n)).catch(Nc)})}function iH(t,e){return f(this,null,function*(){let n=B(t),r=e.batch.batchId;try{let i=yield M$(n.localStore,e);JA(n,r,null),YA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Oc(n,i)}catch(i){yield Nc(i)}})}function oH(t,e,n){return f(this,null,function*(){let r=B(t);try{let i=yield function(s,a){let c=B(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(we(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);JA(r,e,n),YA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Oc(r,i)}catch(i){yield Nc(i)}})}function YA(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function JA(t,e,n){let r=B(t),i=r.Fa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function J_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||ZA(t,r)})}function ZA(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(II(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),TI(t))}function tA(t,e,n){for(let r of n)r instanceof Oh?(t.va.addReference(r.key,e),sH(t,r)):r instanceof kh?(b("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||ZA(t,r.key)):F()}function sH(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(b("SyncEngine","New document in limbo: "+n),t.ba.add(r),TI(t))}function TI(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new x(Te.fromString(e)),r=t.xa.next();t.Ca.set(r,new Q_(n)),t.Da=t.Da.insert(n,r),$A(t.remoteStore,new Cc(Bn(yA(n.path)),r,"TargetPurposeLimboResolution",cA._e))}}function Oc(t,e,n){return f(this,null,function*(){let r=B(t),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{s.push(r.Na(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=A_.Ki(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.ya.u_(i),yield function(c,u){return f(this,null,function*(){let l=B(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.qi,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>y.forEach(h.Qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!xc(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ns.get(h),g=p.snapshotVersion,I=p.withLastLimboFreeSnapshotVersion(g);l.ns=l.ns.insert(h,I)}}})}(r.localStore,o))})}function aH(t,e){return f(this,null,function*(){let n=B(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());let r=yield jA(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(c=>{c.reject(new T(m.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oc(n,r.us)}})}function cH(t,e){let n=B(t),r=n.Ca.get(e);if(r&&r.pa)return X().add(r.key);{let i=X(),o=n.Sa.get(e);if(!o)return i;for(let s of o){let a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function XA(t){let e=B(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rH.bind(null,e),e.ya.u_=Q$.bind(null,e.eventManager),e.ya.La=Y$.bind(null,e.eventManager),e}function uH(t){let e=B(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oH.bind(null,e),e}var Fh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return R$(this.persistence,new M_,e.initialUser,this.serializer)}createPersistence(e){return new b_(S_.Hr,this.serializer)}createSharedClientState(e){return new P_}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Z_=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aH.bind(null,this.syncEngine),yield z$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new q_}()}createDatastore(e){let n=Gh(e.databaseInfo.databaseId),r=function(o){return new F_(o)}(e.databaseInfo);return function(o,s,a,c){return new U_(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new B_(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eA(this.syncEngine,n,0),function(){return Ah.D()?new Ah:new O_}())}createSyncEngine(e,n){return function(i,o,s,a,c,u,l){let d=new Y_(i,o,s,a,c,u);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=B(r);b("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Pc(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var X_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Hn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var eI=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=ph.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>f(this,null,function*(){b("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=CI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Tv(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield jA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function nA(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield dH(t);b("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ZS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ZS(e.remoteStore,i)),t._onlineComponents=e})}function lH(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function dH(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Tv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!lH(n))throw n;ms("Error using user provided cache. Falling back to memory cache: "+n),yield Tv(t,new Fh)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield Tv(t,new Fh);return t._offlineComponents})}function eR(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield nA(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield nA(t,new Z_))),t._onlineComponents})}function hH(t){return eR(t).then(e=>e.syncEngine)}function fH(t){return f(this,null,function*(){let e=yield eR(t),n=e.eventManager;return n.onListen=J$.bind(null,e.syncEngine),n.onUnlisten=eH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Z$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tH.bind(null,e.syncEngine),n})}function pH(t,e,n={}){let r=new cn;return t.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return function(o,s,a,c,u){let l=new X_({next:h=>{s.enqueueAndForget(()=>K$(o,d)),h.fromCache&&c.source==="server"?u.reject(new T(m.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new z_(a,l,{includeMetadataChanges:!0,ta:!0});return W$(o,d)}(yield fH(t),t.asyncQueue,e,n,r)})),r.promise}function tR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var rA=new Map;function nR(t,e,n){if(!n)throw new T(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mH(t,e,n,r){if(e===!0&&r===!0)throw new T(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iA(t){if(!x.isDocumentKey(t))throw new T(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oA(t){if(x.isDocumentKey(t))throw new T(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":F()}function to(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Kh(t);throw new T(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Vh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new T(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new T(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ts=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new T(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Sv;switch(r.type){case"firstParty":return new Nv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new T(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=rA.get(n);r&&(b("ComponentProvider","Removing Datastore"),rA.delete(n),r.terminate())}(this),Promise.resolve()}};function gH(t,e,n,r={}){var i;let o=(t=to(t,Ts))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Qe.MOCK_USER;else{a=sC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new T(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Qe(u)}t._authCredentials=new Av(new fh(a,c))}}var Ss=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},xt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Zr=class t extends Ss{constructor(e,n,r){super(e,n,yA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new x(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Ns(t,e,...n){if(t=mt(t),nR("collection","path",e),t instanceof Ts){let r=Te.fromString(e,...n);return oA(r),new Zr(t,null,r)}{if(!(t instanceof xt||t instanceof Zr))throw new T(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Te.fromString(e,...n));return oA(r),new Zr(t.firestore,null,r)}}function Qh(t,e,...n){if(t=mt(t),arguments.length===1&&(e=ph.newId()),nR("doc","path",e),t instanceof Ts){let r=Te.fromString(e,...n);return iA(r),new xt(t,null,new x(r))}{if(!(t instanceof xt||t instanceof Zr))throw new T(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Te.fromString(e,...n));return iA(r),new xt(t.firestore,t instanceof Zr?t.converter:null,new x(r))}}var tI=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Rh(this,"async_queue_retry"),this.cu=()=>{let n=bv();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=bv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=bv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new cn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return f(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!xc(e))throw e;b("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Hn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=$_.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&F()}verifyOperationInProgress(){}Tu(){return f(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var no=class extends Ts{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new tI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||iR(this),this._firestoreClient.terminate()}};function xs(t,e){let n=typeof t=="object"?t:Ko(),r=typeof t=="string"?t:e||"(default)",i=Sa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=oC("firestore");o&&gH(i,...o)}return i}function rR(t){return t._firestoreClient||iR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function iR(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,u,l){return new Uv(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,tR(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new eI(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Sc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(yt.fromBase64String(e))}catch(n){throw new T(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ac=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new T(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Lh=class{constructor(e){this._methodName=e}};var Rc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}};var yH=/^__.*__$/,nI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new eo(e,this.data,n,this.fieldTransforms)}};function oR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}var rI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Uh(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(oR(this.Vu)&&yH.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},iI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gh(e)}Cu(e,n,r,i=!1){return new rI({Vu:e,methodName:n,Du:r,path:Nt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function SI(t){let e=t._freezeSettings(),n=Gh(t._databaseId);return new iI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sR(t,e,n,r,i,o={}){let s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);uR("Data must be an object, but it was:",s,r);let a=aR(r,s),c,u;if(o.merge)c=new Un(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let d of o.mergeFields){let h=_H(e,d,n);if(!s.contains(h))throw new T(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);wH(l,h)||l.push(h)}c=new Un(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new nI(new an(a),c,u)}function vH(t,e,n,r=!1){return AI(n,t.Cu(r?4:3,e))}function AI(t,e){if(cR(t=mt(t)))return uR("Unsupported field value:",e,t),aR(t,e);if(t instanceof Lh)return function(r,i){if(!oR(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=AI(a,i.wu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ye.fromDate(r);return{timestampValue:bh(i.serializer,o)}}if(r instanceof ye){let o=new ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(i.serializer,o)}}if(r instanceof Rc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sc)return{bytesValue:PA(i.serializer,r._byteString)};if(r instanceof xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_I(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Kh(r)}`)}(t,e)}function aR(t,e){let n={};return uA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(t,(r,i)=>{let o=AI(i,e.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function cR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ye||t instanceof Rc||t instanceof Sc||t instanceof xt||t instanceof Lh)}function uR(t,e,n){if(!cR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Kh(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function _H(t,e,n){if((e=mt(e))instanceof Ac)return e._internalPath;if(typeof e=="string")return lR(t,e);throw Uh("Field path arguments must be of type string or ",t,!1,void 0,n)}var IH=new RegExp("[~\\*/\\[\\]]");function lR(t,e,n){if(e.search(IH)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ac(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new T(m.INVALID_ARGUMENT,a+t+c)}function wH(t,e){return t.some(n=>n.isEqual(e))}var jh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new oI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(RI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},oI=class extends jh{data(){return super.data()}};function RI(t,e){return typeof e=="string"?lR(t,e):e instanceof Ac?e._internalPath:e._delegate._internalPath}function EH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new T(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mc=class{},sI=class extends Mc{};function Yh(t,e,...n){let r=[];e instanceof Mc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof aI).length,a=o.filter(c=>c instanceof Bh).length;if(s>1||s>0&&a>0)throw new T(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Bh=class t extends sI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return dR(e._query,n),new Ss(e.firestore,e.converter,Zv(e._query,n))}_parse(e){let n=SI(e.firestore);return function(o,s,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new T(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){aA(d,l);let p=[];for(let g of d)p.push(sA(c,o,g));h={arrayValue:{values:p}}}else h=sA(c,o,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||aA(d,l),h=vH(a,s,d,l==="in"||l==="not-in");return Ue.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function kc(t,e,n){let r=e,i=RI("where",t);return Bh._create(i,r,n)}var aI=class t extends Mc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ln.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)dR(s,c),s=Zv(s,c)}(e._query,n),new Ss(e.firestore,e.converter,Zv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function sA(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new T(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vA(e)&&n.indexOf("/")!==-1)throw new T(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Te.fromString(n));if(!x.isDocumentKey(r))throw new T(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return OS(t,new x(r))}if(n instanceof xt)return OS(t,n._key);throw new T(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function aA(t,e){if(!Array.isArray(t)||t.length===0)throw new T(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dR(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new T(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new T(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var cI=class{convertValue(e,n="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Rs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Rc(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=mI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){let n=mr(e);return new ye(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Te.fromString(e);we(UA(r));let i=new _h(r.get(1),r.get(3)),o=new x(r.popFirst(5));return i.isEqual(n)||Hn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function hR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var hs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},uI=class extends jh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ps(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(RI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ps=class extends uI{data(e={}){return super.data(e)}},lI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ps(this._firestore,this._userDataWriter,r.key,r,new hs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:DH(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function DH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}var dI=class extends cI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}};function Jh(t){t=to(t,Ss);let e=to(t.firestore,no),n=rR(e),r=new dI(e);return EH(t._query),pH(n,t._query).then(i=>new lI(e,r,t,i))}function MI(t,e,n){t=to(t,xt);let r=to(t.firestore,no),i=hR(t.converter,e,n);return NI(r,[sR(SI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pr.none())])}function fR(t){return NI(to(t.firestore,no),[new Ec(t._key,pr.none())])}function pR(t,e){let n=to(t.firestore,no),r=Qh(t),i=hR(t.converter,e);return NI(n,[sR(SI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function NI(t,e){return function(r,i){let o=new cn;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return nH(yield hH(r),i,o)})),o.promise}(rR(t),e)}(function(e,n=!0){(function(i){As=i})(jr),Ur(new Gt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new no(new Rv(r.getProvider("auth-internal")),new Pv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new T(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _h(u.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),tt(MS,"4.6.0",e),tt(MS,"4.6.0","esm2017")})();var Wt=class{constructor(e,n,r,i,o,s,a,c,u,l,d,h){this.id=e,this.date=n,this.name=r,this.number=i,this.email=o,this.booking_type=s,this.start_time=a,this.end_time=c,this.total_amount=u,this.amount_received=l,this.balance=d,this.comments=h}toDictionary(){return{id:this.id,date:this.date,name:this.name,number:this.number,email:this.email,booking_type:this.booking_type,start_time:this.start_time,end_time:this.end_time,total_amount:this.total_amount,amount_received:this.amount_received,balance:this.balance,comments:this.comments}}};var Zh=(()=>{let e=class e{constructor(){this.startTimes=["---","9:00 am","9:30 am","10:00 am","10:30 am","11:00 am","11:30 am","12:00 pm","12:30 pm","1:00 pm","1:30 pm","2:00 pm","2:30 pm","3:00 pm","3:30 pm","4:00 pm","4:30 pm","5:00 pm","5:30 pm","6:00 pm","6:30 pm","7:00 pm","7:30 pm","8:00 pm","8:30 pm","9:00 pm","9:30 pm"],this.formFields=["---","date","name","number","email","booking_type","start_time","end_time","total_amount","amount_received","balance","comments"]}getStartTimes(){return this.startTimes}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Dt=(()=>{let e=class e{createNewBooking(){return new Wt("",ye.now(),"",0,"","","","",0,0,0,"")}bookingDictToModel(r){return new Wt(r.id,r.date,r.name,r.number,r.email,r.booking_type,r.start_time,r.end_time,r.total_amount,r.amount_received,r.balance,r.comments)}getBookingData(r){let o=new Wt("",r.date,r.name,r.number,r.email,r.booking_type,r.start_time,r.end_time,r.total_amount,r.amount_received,r.balance,r.comments).toDictionary();return o.date=this.htmlDateToTimestamp(o.date),o}getBookingForm(){return this.bookingForm}openPageExcelUpload(){this.currentPage=""}setCurrentPage(r){r==="previous"?(this.currentPage=this.lastPage,this.lastPage="home"):this.currentPage=r}htmlDateToTimestamp(r){let i=new Date(r),o=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,1,0);return ye.fromDate(o)}calculateDurationHours(r,i){let o=new Zh().startTimes,s=o.indexOf(r),a=o.indexOf(i);return s===-1||a===-1?0:(a-s)*.5}constructor(){this.currentPage="home",this.lastPage="home",this.showBookingsForYear=new Date().getFullYear(),this.showBookingsForMonth=new Date().getMonth()+1,this.pages={home:"home","excel-match":"excel-match","excel-form":"excel-form","all-booking":"all-booking","add-booking":"add-booking"},this.bookingForm=new Et({id:new be(""),date:new be("",zr.required),name:new be("",zr.required),number:new be(""),email:new be(""),booking_type:new be(""),start_time:new be(""),end_time:new be(""),total_amount:new be(0),amount_received:new be(0),balance:new be(0),comments:new be("")}),this.firstExcelData=[],this.fullExcelData=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CH(t,e){if(t&1){let n=nr();_(0,"tr")(1,"th",4),D(2),ko(3,"date"),j(4,"br"),D(5),ko(6,"date"),v(),_(7,"td"),D(8),j(9,"br"),D(10),j(11,"br"),D(12),v(),_(13,"td"),D(14),j(15,"br"),D(16),j(17,"br"),D(18),v(),_(19,"td")(20,"button",5),de("click",function(){let i=In(n).$implicit,o=st();return wn(o.updateBooking(i.id))}),D(21,"Update"),v()()()}if(t&2){let n=e.$implicit,r=st();N(2),Cn(" ",Fo(3,8,n.date.toDate(),"dd-MM-yyyy"),""),N(3),Cn(" ",Fo(6,11,n.date.toDate(),"EEEE")," "),N(3),ke(n.name),N(2),ke(n.number),N(2),ke(n.booking_type),N(2),ke(n.start_time),N(2),ke(n.end_time),N(2),Cn("",r.getDurhour(n.start_time,n.end_time)," hr")}}var mR=(()=>{let e=class e{constructor(r){this.sharedService=r,this.db=xs(),this.bookings=[]}ngOnInit(){this.get2daysBooking()}getDurhour(r,i){return""}updateBooking(r){}get2daysBooking(){return f(this,null,function*(){let r=new Date().setHours(0,0,0,0),i=new Date(r);console.log(i);let o=Yh(Ns(this.db,"bookings"),kc("date",">=",ye.fromDate(i))),s=yield Jh(o);this.bookings=[],s.forEach(a=>{console.log(a.id," => ",a.data());let c=a.data(),u=new Wt(a.id,c.date,c.name,c.number,c.email,c.booking_type,c.start_time,c.end_time,c.total_amount,c.amount_received,c.balance,c.comments);this.bookings.push(u)})})}};e.\u0275fac=function(i){return new(i||e)(M(Dt))},e.\u0275cmp=He({type:e,selectors:[["app-bookings"]],standalone:!0,features:[Ge],decls:16,vars:1,consts:[[1,"container"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","button",1,"btn","btn-primary","mx-1",3,"click"]],template:function(i,o){i&1&&(_(0,"div",0)(1,"h3"),D(2," Today & Later "),v()(),_(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),D(7,"Date"),v(),_(8,"th",2),D(9,"Booked by"),v(),_(10,"th",2),D(11,"Slot"),v(),_(12,"th",2),D(13,"Completed?"),v()()(),_(14,"tbody"),qe(15,CH,22,14,"tr",3),v()()),i&2&&(N(15),ee("ngForOf",o.bookings))},dependencies:[nn,Pr,Dl]});let t=e;return t})();var gR=(()=>{let e=class e{constructor(){this.firebaseAuth=E(rn),this.sharedService=E(Dt)}logout(){console.log("Logging out"),this.firebaseAuth.signOut()}showPage(r){r==="add-booking"&&this.sharedService.bookingForm.reset(),this.sharedService.lastPage="home",this.sharedService.currentPage=r}collapseNavbar(){let r=document.getElementById("navbarColor02");r.classList.contains("show")&&r.classList.remove("show")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=He({type:e,selectors:[["app-navbar"]],standalone:!0,features:[Ge],decls:22,vars:0,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],[1,"navbar-brand",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarColor02","aria-controls","navbarColor02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-5","mb-lg-0"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"visually-hidden"],[1,"btn","btn-secondary",3,"click"],[1,"d-flex"],[1,"btn","btn-success","my-2","my-sm-0",3,"click"]],template:function(i,o){i&1&&(_(0,"nav",0)(1,"div",1)(2,"a",2),de("click",function(){return o.showPage("home"),o.collapseNavbar()}),D(3,"ESSOS"),v(),_(4,"button",3),j(5,"span",4),v(),_(6,"div",5)(7,"ul",6)(8,"li",7)(9,"button",8),de("click",function(){return o.showPage("home"),o.collapseNavbar()}),D(10,"Home "),_(11,"span",9),D(12,"(current)"),v()()(),_(13,"li",7)(14,"button",8),de("click",function(){return o.showPage("all-booking"),o.collapseNavbar()}),D(15,"All Bookings"),v()(),_(16,"li",7)(17,"button",10),de("click",function(){return o.showPage("add-booking"),o.collapseNavbar()}),D(18,"Add Booking"),v()()(),_(19,"div",11)(20,"button",12),de("click",function(){return o.logout()}),D(21,"Logout"),v()()()()())}});let t=e;return t})();var ef=(()=>{let e=class e{constructor(){this.db=xs()}addBooking(r){return f(this,null,function*(){console.log(r);try{let i=yield pR(Ns(this.db,"bookings"),r);yield MI(i,le(S({},r),{id:i.id}))}catch(i){console.error("Error writing document: ",i)}})}updateBooking(r,i){return f(this,null,function*(){let o=S({},r);yield MI(Qh(this.db,"bookings",i),o)})}deleteBooking(r){return f(this,null,function*(){yield fR(Qh(this.db,"bookings",r))})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bH(t,e){if(t&1){let n=nr();_(0,"button",31),de("click",function(){In(n);let i=st();return wn(i.sharedService.setCurrentPage("excel-form"))}),D(1,` Upload Excel
`),v()}}function TH(t,e){if(t&1){let n=nr();_(0,"div",32)(1,"button",33),de("click",function(){In(n);let i=st();return wn(i.sharedService.setCurrentPage("previous"))}),D(2," Close "),v(),_(3,"button",34),de("click",function(){In(n);let i=st();return wn(i.onDelete())}),D(4," Delete Booking "),v()()}}function SH(t,e){if(t&1&&(_(0,"option"),D(1),v()),t&2){let n=e.$implicit;N(),ke(n)}}function AH(t,e){if(t&1&&(_(0,"option"),D(1),v()),t&2){let n=e.$implicit;N(),ke(n)}}var yR=(()=>{let e=class e{constructor(){this.startTimes=[],this.bookingForm=new Et({}),this.constantsService=E(Zh),this.sharedService=E(Dt),this.firestoreService=E(ef),this.startTimes=this.constantsService.getStartTimes(),this.bookingForm=this.sharedService.getBookingForm(),console.log(this.bookingForm.value)}onSubmit(){console.warn(this.bookingForm.value),this.bookingData=this.bookingForm.value;let r=this.sharedService.getBookingData(this.bookingData);this.bookingData.id!==null&&this.bookingData.id!==""?(console.log("updateData()"),this.firestoreService.updateBooking(r,this.bookingData.id),this.sharedService.currentPage=this.sharedService.lastPage,this.sharedService.lastPage="home",this.bookingForm.reset()):(console.log("addData()"),this.firestoreService.addBooking(r),alert("Booking added!"),this.bookingForm.reset())}onDelete(){console.log("onDelete()"),confirm("Are you sure you want to delete this booking?")&&(this.bookingData=this.bookingForm.value,this.firestoreService.deleteBooking(this.bookingData.id),console.log("Delete Successful"),this.sharedService.currentPage=this.sharedService.pages["all-booking"])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=He({type:e,selectors:[["app-bookingform"]],standalone:!0,features:[Ge],decls:55,vars:8,consts:[["type","button","class","btn btn-primary mx-1",3,"click",4,"ngIf"],["class","d-flex flex-row-reverse",4,"ngIf"],[1,"container"],[1,"row",3,"ngSubmit","formGroup"],["id","id","hidden","","formControlName","id"],[1,"col-12","col-lg-6"],["for","date",1,"form-label","mt-4"],["id","date","type","date","placeholder","Enter Date","formControlName","date",1,"form-control"],["for","name",1,"form-label","mt-4"],["id","name","type","text","placeholder","Enter Name","formControlName","name",1,"form-control"],["for","number",1,"form-label","mt-4"],["id","number","type","tel","placeholder","Enter Mobile","formControlName","number",1,"form-control"],["for","email",1,"form-label","mt-4"],["id","email","type","email","placeholder","Enter Email","formControlName","email",1,"form-control"],["for","booking_type",1,"form-label","mt-4"],["id","booking_type","type","text","placeholder","Enter Booking Type","formControlName","booking_type",1,"form-control"],[1,"col-6","col-lg-6"],["for","start_time",1,"form-label","mt-4"],["id","start_time","formControlName","start_time",1,"form-select"],[4,"ngFor","ngForOf"],["for","end_time",1,"form-label","mt-4"],["id","end_time","formControlName","end_time",1,"form-select"],["for","total_amount",1,"form-label","mt-4"],["id","total_amount","type","number","placeholder","Enter Total Amount","formControlName","total_amount",1,"form-control"],["for","amount_received",1,"form-label","mt-4"],["id","amount_received","type","number","placeholder","Enter Amount Received","formControlName","amount_received",1,"form-control"],["for","balance",1,"form-label","mt-4"],["id","balance","type","number","formControlName","balance",1,"form-control",3,"readOnly","value"],["for","comments",1,"form-label","mt-4"],["id","comments","type","text","placeholder","Enter Comments","formControlName","comments",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary","mx-1",3,"click"],[1,"d-flex","flex-row-reverse"],["type","button",1,"btn","btn-primary","mx-1","float-end",3,"click"],["type","button",1,"btn","btn-danger","mx-1","float-end",3,"click"]],template:function(i,o){if(i&1&&(qe(0,bH,2,0,"button",0)(1,TH,5,0,"div",1),_(2,"div",2)(3,"form",3),de("ngSubmit",function(){return o.onSubmit()}),j(4,"input",4),_(5,"div",5)(6,"label",6),D(7,"Date: "),v(),j(8,"input",7),v(),_(9,"div",5)(10,"label",8),D(11,"Name: "),v(),j(12,"input",9),v(),_(13,"div",5)(14,"label",10),D(15,"Mobile No.: "),v(),j(16,"input",11),v(),_(17,"div",5)(18,"label",12),D(19,"Email: "),v(),j(20,"input",13),v(),_(21,"div",5)(22,"label",14),D(23,"Booking Type: "),v(),j(24,"input",15),v(),_(25,"div",16)(26,"label",17),D(27,"Start Time"),v(),_(28,"select",18),qe(29,SH,2,1,"option",19),v()(),_(30,"div",16)(31,"label",20),D(32,"End Time"),v(),_(33,"select",21),qe(34,AH,2,1,"option",19),v()(),_(35,"div",5)(36,"label",22),D(37,"Total Amount: "),v(),j(38,"input",23),v(),_(39,"div",5)(40,"label",24),D(41,"Amount Received: "),v(),j(42,"input",25),v(),_(43,"div",5)(44,"label",26),D(45,"Balance: "),v(),j(46,"input",27),v(),_(47,"div",5)(48,"label",28),D(49,"Comments: "),v(),j(50,"input",29),v(),_(51,"p"),D(52,"Complete the form to enable button."),v(),_(53,"button",30),D(54," Submit "),v()()()),i&2){let s,a;ee("ngIf",((s=o.bookingForm.get("id"))==null?null:s.value)===""||!((s=o.bookingForm.get("id"))!=null&&s.value)),N(),ee("ngIf",((a=o.bookingForm.get("id"))==null?null:a.value)!==""&&((a=o.bookingForm.get("id"))==null?null:a.value)),N(2),ee("formGroup",o.bookingForm),N(26),ee("ngForOf",o.startTimes),N(5),ee("ngForOf",o.startTimes),N(12),ee("readOnly",!0)("value",o.bookingForm.get("total_amount").value-o.bookingForm.get("amount_received").value),N(7),ee("disabled",!o.bookingForm.valid)}},dependencies:[Qr,On,es,ts,Wr,Ny,Kr,xn,Pn,lr,dr,nn,Pr,El]});let t=e;return t})();function RH(t,e){if(t&1&&(_(0,"option",11),D(1),v()),t&2){let n=e.$implicit;ee("value",n),N(),ke(n)}}function MH(t,e){if(t&1&&(_(0,"option",11),D(1),v()),t&2){let n=e.$implicit;ee("value",n),N(),ke(n)}}function NH(t,e){if(t&1){let n=nr();_(0,"tr")(1,"th",12),D(2),ko(3,"date"),j(4,"br"),D(5),ko(6,"date"),v(),_(7,"td"),D(8),j(9,"br"),D(10),j(11,"br"),D(12),v(),_(13,"td"),D(14),j(15,"br"),D(16),j(17,"br"),D(18),v(),_(19,"td")(20,"button",13),de("click",function(){let i=In(n).$implicit,o=st();return wn(o.updateBooking(i.id))}),D(21,"Update"),v()()()}if(t&2){let n=e.$implicit,r=st();N(2),Cn(" ",Fo(3,8,n.date.toDate(),"dd-MM-yyyy"),""),N(3),Cn(" ",Fo(6,11,n.date.toDate(),"EEEE")," "),N(3),ke(n.name),N(2),ke(n.number),N(2),ke(n.booking_type),N(2),ke(n.start_time),N(2),ke(n.end_time),N(2),Cn("",r.getDurhour(n.start_time,n.end_time)," hr")}}var vR=(()=>{let e=class e{constructor(r){this.sharedService=r,this.bookings=[],this.years=[],this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.bookMonthYear=new Et({year:new be(this.sharedService.showBookingsForYear),month:new be(this.getMonthName(this.sharedService.showBookingsForMonth))})}ngOnInit(){return f(this,null,function*(){this.bookMonthYear.get("year")?.valueChanges.subscribe(o=>{console.log("Year changed:",o),this.sharedService.showBookingsForYear=o,console.log("updating year"),this.bookings=[],this.getAllBooking()}),this.bookMonthYear.get("month")?.valueChanges.subscribe(o=>{console.log("Month changed:",o),console.log("updating month"," - current :",this.sharedService.showBookingsForMonth,"new :",o),this.sharedService.showBookingsForMonth=this.getMonthNumber(o),this.bookings=[],this.getAllBooking()}),yield this.getAllBooking(),console.log(this.bookings);let r=new Date().getFullYear(),i=2021;this.years=Array.from({length:r-i+1},(o,s)=>i+s)})}getMonthNumber(r){return this.months.indexOf(r)+1}getMonthName(r){return this.months[r-1]}getAllBooking(){return f(this,null,function*(){let r=xs(),i=this.sharedService.showBookingsForYear,o=this.sharedService.showBookingsForMonth,s=new Date(i,o-1,1),a=new Date(i,o,0);console.log("getAllBooking()",s,a);let c=Yh(Ns(r,"bookings"),kc("date",">=",ye.fromDate(s)),kc("date","<=",ye.fromDate(a)));(yield Jh(c)).forEach(l=>{console.log(l.id," => ",l.data());let d=l.data(),h=new Wt(l.id,d.date,d.name,d.number,d.email,d.booking_type,d.start_time,d.end_time,d.total_amount,d.amount_received,d.balance,d.comments);this.bookings.push(h)})})}updateBooking(r){let i=this.bookings.find(o=>o.id===r);this.sharedService.bookingForm.patchValue({id:i.id,date:this.formatDate(i.date),name:i.name,number:i.number,email:i.email,booking_type:i.booking_type,start_time:i.start_time,end_time:i.end_time,total_amount:i.total_amount,amount_received:i.amount_received,balance:i.balance,comments:i.comments}),this.sharedService.lastPage=this.sharedService.pages["all-booking"],this.sharedService.currentPage="add-booking"}formatDate(r){let i=r.toDate(),o=""+(i.getMonth()+1),s=""+i.getDate(),a=i.getFullYear();return o.length<2&&(o="0"+o),s.length<2&&(s="0"+s),[a,o,s].join("-")}getDurhour(r,i){return this.sharedService.calculateDurationHours(r,i)}};e.\u0275fac=function(i){return new(i||e)(M(Dt))},e.\u0275cmp=He({type:e,selectors:[["app-allbookings"]],standalone:!0,features:[Ge],decls:26,vars:4,consts:[[1,"container"],[3,"formGroup"],[1,"row"],[1,"col-6","col-lg-6"],["for","year",1,"form-label","mt-4"],["id","year","formControlName","year",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["id","year","formControlName","month",1,"form-select"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[3,"value"],["scope","row"],["type","button",1,"btn","btn-primary","mx-1",3,"click"]],template:function(i,o){i&1&&(_(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),D(5,"Year: "),v(),_(6,"select",5),qe(7,RH,2,2,"option",6),v()(),_(8,"div",3)(9,"label",4),D(10,"Month: "),v(),_(11,"select",7),qe(12,MH,2,2,"option",6),v()()()()(),_(13,"table",8)(14,"thead")(15,"tr")(16,"th",9),D(17,"Date"),v(),_(18,"th",9),D(19,"Booked by"),v(),_(20,"th",9),D(21,"Slot"),v(),_(22,"th",9),D(23,"Completed?"),v()()(),_(24,"tbody"),qe(25,NH,22,14,"tr",10),v()()),i&2&&(N(),ee("formGroup",o.bookMonthYear),N(6),ee("ngForOf",o.years),N(5),ee("ngForOf",o.months),N(13),ee("ngForOf",o.bookings))},dependencies:[nn,Pr,Dl,Qr,On,es,ts,Kr,xn,Pn,lr,dr]});let t=e;return t})();var _R=(()=>{let e=class e{constructor(r){this.sharedService=r,this.excelForm=new Et({excel_data:new be("")})}onSubmitExcel(){console.warn(this.excelForm.value.excel_data);let r=this.excelForm.value.excel_data?.split(`
`)||[],i=[];r.forEach(o=>{let s=o.split("	");i.push(s)}),console.log("Excel lines:",i.length),this.sharedService.fullExcelData=i,this.sharedService.firstExcelData=i[0],this.sharedService.currentPage=this.sharedService.pages["excel-match"]}};e.\u0275fac=function(i){return new(i||e)(M(Dt))},e.\u0275cmp=He({type:e,selectors:[["app-excel-form"]],standalone:!0,features:[Ge],decls:14,vars:2,consts:[[1,"container"],[1,"row",3,"ngSubmit","formGroup"],["for","excel_data",1,"form-label","mt-4"],["id","excel_data","cols","30","rows","10","placeholder","Paste Excel Data","formControlName","excel_data",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,o){i&1&&(_(0,"div",0)(1,"form",1),de("ngSubmit",function(){return o.onSubmitExcel()}),_(2,"label",2),D(3,"Excel Data: "),v(),j(4,"textarea",3),_(5,"button",4),D(6," Submit "),v()()(),_(7,"div",0)(8,"p"),D(9,"Note:"),v(),_(10,"p"),D(11,"Pasted data is split by newline (for Rows) and then split by tab (for Columns)."),v(),_(12,"p"),D(13,"Tested on google sheets"),v()()),i&2&&(N(),ee("formGroup",o.excelForm),N(4),ee("disabled",!o.excelForm.valid))},dependencies:[Qr,On,Wr,xn,Pn,lr,dr]});let t=e;return t})();function xH(t,e){if(t&1&&(_(0,"option",10),D(1),v()),t&2){let n=e.$implicit,r=e.first;ee("selected",r),N(),ke(n)}}function PH(t,e){if(t&1){let n=nr();_(0,"div",4),D(1),v(),_(2,"div",5)(3,"select",6),pm("ngModelChange",function(i){let o=In(n).index,s=st();return $D(s.selectedFields[o],i)||(s.selectedFields[o]=i),wn(i)}),qe(4,xH,2,2,"option",7),v()(),_(5,"div",5)(6,"fieldset",8),j(7,"input",9),v()()}if(t&2){let n=e.$implicit,r=e.index,i=st();N(),hm(" Row",r+1," (",i.getAlphabet(r+1),") "),N(2),Zs("id","row",r,""),Zs("name","select",r,""),fm("ngModel",i.selectedFields[r]),N(),ee("ngForOf",i.formFields),N(3),lm("placeholder",n)}}var IR=(()=>{let e=class e{constructor(r){this.sharedService=r,this.formFields=[],this.selectedFields=[],this.firestoreService=E(ef),this.firstExcelData=this.sharedService.firstExcelData;let i=new Wt("",ye.now(),"",new Number,"","","","",new Number,new Number,new Number,""),o=Object.keys(i).slice(1);o.unshift("---"),this.formFields=o}ngOnInit(){this.sharedService.firstExcelData.forEach((r,i)=>{this.selectedFields[i]=this.formFields[0]})}onSubmit(){console.log("Selected Fields:",this.selectedFields),this.sharedService.fullExcelData.forEach(r=>{let i={};this.formFields.slice(1).forEach((s,a)=>{let c=this.selectedFields.indexOf(s);c!==-1?i[s]=r[c]:i[s]=""}),console.log(i);let o=this.sharedService.getBookingData(i);this.firestoreService.addBooking(o)}),this.sharedService.fullExcelData=[],this.sharedService.firstExcelData=[],this.sharedService.currentPage=this.sharedService.lastPage,this.sharedService.lastPage="home"}getAlphabet(r){return String.fromCharCode(65+r-1)}};e.\u0275fac=function(i){return new(i||e)(M(Dt))},e.\u0275cmp=He({type:e,selectors:[["app-excel-match"]],standalone:!0,features:[Ge],decls:5,vars:1,consts:[[1,"container"],[1,"row",3,"ngSubmit"],["ngFor","",3,"ngForOf"],["type","submit",1,"btn","btn-primary"],[1,"col-2"],[1,"col-5"],[1,"form-select",3,"ngModelChange","id","name","ngModel"],[3,"selected",4,"ngFor","ngForOf"],["disabled",""],["id","disabledInput","type","text","disabled","",1,"form-control",3,"placeholder"],[3,"selected"]],template:function(i,o){i&1&&(_(0,"div",0)(1,"form",1),de("ngSubmit",function(){return o.onSubmit()}),qe(2,PH,8,9,"ng-template",2),_(3,"button",3),D(4,"Submit"),v()()()),i&2&&(N(2),ee("ngForOf",o.firstExcelData))},dependencies:[nn,Pr,aT,On,es,ts,Kr,xn,Pn,My,Ry]});let t=e;return t})();function OH(t,e){t&1&&(ol(0),_(1,"div"),D(2,"Loading please wait. . ."),v(),sl())}function kH(t,e){t&1&&(_(0,"div"),j(1,"app-bookings"),v())}function FH(t,e){t&1&&(_(0,"div"),j(1,"app-allbookings"),v())}function VH(t,e){t&1&&(_(0,"div"),j(1,"app-bookingform"),v())}function LH(t,e){t&1&&(_(0,"div"),j(1,"app-excel-form"),v())}function UH(t,e){t&1&&(_(0,"div"),j(1,"app-excel-match"),v())}function jH(t,e){if(t&1&&(ol(0),j(1,"app-navbar"),qe(2,kH,2,0,"div",3)(3,FH,2,0,"div",3)(4,VH,2,0,"div",3)(5,LH,2,0,"div",3)(6,UH,2,0,"div",3),sl()),t&2){let n=st(2);N(2),ee("ngIf",n.sharedService.currentPage==="home"),N(),ee("ngIf",n.sharedService.currentPage==="all-booking"),N(),ee("ngIf",n.sharedService.currentPage==="add-booking"),N(),ee("ngIf",n.sharedService.currentPage==="excel-form"),N(),ee("ngIf",n.sharedService.currentPage==="excel-match")}}function BH(t,e){if(t&1&&qe(0,jH,7,5,"ng-container",2),t&2){let n=st(),r=dm(4);ee("ngIf",n.isLoggedin)("ngIfElse",r)}}function $H(t,e){t&1&&j(0,"app-login")}var wR=(()=>{let e=class e{constructor(){this.title="angular-essos",this.isLoggedin=null,this.firebaseAuth=E(rn),this.sharedService=E(Dt)}ngOnInit(){this.checkLoginStatus()}checkLoginStatus(){this.firebaseAuth.onAuthStateChanged(r=>{r?this.isLoggedin=!0:this.isLoggedin=!1})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=He({type:e,selectors:[["app-root"]],standalone:!0,features:[Ge],decls:5,vars:2,consts:[["home",""],["login",""],[4,"ngIf","ngIfElse"],[4,"ngIf"]],template:function(i,o){if(i&1&&qe(0,OH,3,0,"ng-container",2)(1,BH,1,2,"ng-template",null,0,mm)(3,$H,1,0,"ng-template",null,1,mm),i&2){let s=dm(2);ee("ngIf",o.isLoggedin===null)("ngIfElse",s)}},dependencies:[cT,nn,El,mR,gR,yR,vR,_R,IR]});let t=e;return t})();_0(wR,Ab).catch(t=>console.error(t));
