var mx=Object.defineProperty,gx=Object.defineProperties;var yx=Object.getOwnPropertyDescriptors;var iI=Object.getOwnPropertySymbols,vx=Object.getPrototypeOf,_x=Object.prototype.hasOwnProperty,wx=Object.prototype.propertyIsEnumerable,Ix=Reflect.get;var oI=(t,e,n)=>e in t?mx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||={})_x.call(e,n)&&oI(t,n,e[n]);if(iI)for(var n of iI(e))wx.call(e,n)&&oI(t,n,e[n]);return t},he=(t,e)=>gx(t,yx(e));var Vr=(t,e,n)=>Ix(vx(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var sI=null;var vf=1,_f=Symbol("SIGNAL");function ae(t){let e=sI;return sI=t,e}var aI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ex(t){if(!(Ef(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vf)){if(!t.producerMustRecompute(t)&&!wf(t)){t.dirty=!1,t.lastCleanEpoch=vf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vf}}function cI(t){return t&&(t.nextProducerIndex=0),ae(t)}function uI(t,e){if(ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ef(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)If(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function wf(t){su(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Ex(n),r!==n.version))return!0}return!1}function lI(t){if(su(t),Ef(t))for(let e=0;e<t.producerNode.length;e++)If(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function If(t,e){if(Dx(t),su(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)If(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];su(i),i.producerIndexOfThis[r]=e}}function Ef(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function su(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Dx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function bx(){throw new Error}var Cx=bx;function dI(t){Cx=t}function B(t){return typeof t=="function"}function No(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var au=No(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ii(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(B(r))try{r()}catch(o){e=o instanceof au?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{hI(o)}catch(s){e=e??[],s instanceof au?e=[...e,...s.errors]:e.push(s)}}if(e)throw new au(e)}}add(e){var n;if(e&&e!==this)if(this.closed)hI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ii(n,e)}remove(e){let{_finalizers:n}=this;n&&Ii(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var Df=Ue.EMPTY;function cu(t){return t instanceof Ue||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function hI(t){B(t)?t():t.unsubscribe()}var _n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Po={setTimeout(t,e,...n){let{delegate:r}=Po;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Po;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function uu(t){Po.setTimeout(()=>{let{onUnhandledError:e}=_n;if(e)e(t);else throw t})}function na(){}var fI=bf("C",void 0,void 0);function pI(t){return bf("E",void 0,t)}function mI(t){return bf("N",t,void 0)}function bf(t,e,n){return{kind:t,value:e,error:n}}var Ei=null;function ko(t){if(_n.useDeprecatedSynchronousErrorHandling){let e=!Ei;if(e&&(Ei={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ei;if(Ei=null,n)throw r}}else t()}function gI(t){_n.useDeprecatedSynchronousErrorHandling&&Ei&&(Ei.errorThrown=!0,Ei.error=t)}var Di=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cu(e)&&e.add(this)):this.destination=Ax}static create(e,n,r){return new Oo(e,n,r)}next(e){this.isStopped?Tf(mI(e),this):this._next(e)}error(e){this.isStopped?Tf(pI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tf(fI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Tx=Function.prototype.bind;function Cf(t,e){return Tx.call(t,e)}var Sf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){lu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){lu(r)}else lu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){lu(n)}}},Oo=class extends Di{constructor(e,n,r){super();let i;if(B(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_n.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cf(e.next,o),error:e.error&&Cf(e.error,o),complete:e.complete&&Cf(e.complete,o)}):i=e}this.destination=new Sf(i)}};function lu(t){_n.useDeprecatedSynchronousErrorHandling?gI(t):uu(t)}function Sx(t){throw t}function Tf(t,e){let{onStoppedNotification:n}=_n;n&&Po.setTimeout(()=>n(t,e))}var Ax={closed:!0,next:na,error:Sx,complete:na};var Fo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ft(t){return t}function Af(...t){return Mf(t)}function Mf(t){return t.length===0?Ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=xx(n)?n:new Oo(n,r,i);return ko(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=yI(r),new r((i,o)=>{let s=new Oo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Fo](){return this}pipe(...n){return Mf(n)(this)}toPromise(n){return n=yI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function yI(t){var e;return(e=t??_n.Promise)!==null&&e!==void 0?e:Promise}function Mx(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function xx(t){return t&&t instanceof Di||Mx(t)&&cu(t)}function xf(t){return B(t?.lift)}function ie(t){return e=>{if(xf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(t,e,n,r,i){return new Rf(t,e,n,r,i)}var Rf=class extends Di{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vo(){return ie((t,e)=>{let n=null;t._refCount++;let r=Z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Lo=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(Z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return Vo()(this)}};var vI=No(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pt=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new du(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new vI}next(n){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Df:(this.currentObservers=null,o.push(n),new Ue(()=>{this.currentObservers=null,Ii(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new du(e,n),t})(),du=class extends pt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Df}};var ot=class extends pt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Nf={now(){return(Nf.delegate||Date).now()},delegate:void 0};var hu=class extends Ue{constructor(e,n){super()}schedule(e,n=0){return this}};var ra={setInterval(t,e,...n){let{delegate:r}=ra;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ra;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Uo=class extends hu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ra.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ra.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ii(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var jo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};jo.now=Nf.now;var Bo=class extends jo{constructor(e,n=jo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Pf=new Bo(Uo);var fu=class extends Uo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var pu=class extends Bo{};var kf=new pu(fu);var Vt=new re(t=>t.complete());function _I(t){return t&&B(t.schedule)}function wI(t){return t[t.length-1]}function mu(t){return B(wI(t))?t.pop():void 0}function Lr(t){return _I(wI(t))?t.pop():void 0}function Of(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function EI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function II(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bi(t){return this instanceof bi?(this.v=t,this):new bi(t)}function DI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(p){return new Promise(function(v,E){o.push([h,p,v,E])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(v){d(o[0][3],v)}}function c(h){h.value instanceof bi?Promise.resolve(h.value.v).then(u,l):d(o[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function bI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof II=="function"?II(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var gu=t=>t&&typeof t.length=="number"&&typeof t!="function";function yu(t){return B(t?.then)}function vu(t){return B(t[Fo])}function _u(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function wu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Rx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Iu=Rx();function Eu(t){return B(t?.[Iu])}function Du(t){return DI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield bi(n.read());if(i)return yield bi(void 0);yield yield bi(r)}}finally{n.releaseLock()}})}function bu(t){return B(t?.getReader)}function Be(t){if(t instanceof re)return t;if(t!=null){if(vu(t))return Nx(t);if(gu(t))return Px(t);if(yu(t))return kx(t);if(_u(t))return CI(t);if(Eu(t))return Ox(t);if(bu(t))return Fx(t)}throw wu(t)}function Nx(t){return new re(e=>{let n=t[Fo]();if(B(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Px(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function kx(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,uu)})}function Ox(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function CI(t){return new re(e=>{Vx(t,e).catch(n=>e.error(n))})}function Fx(t){return CI(Du(t))}function Vx(t,e){var n,r,i,o;return EI(this,void 0,void 0,function*(){try{for(n=bI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function St(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ur(t,e=0){return ie((n,r)=>{n.subscribe(Z(r,i=>St(r,t,()=>r.next(i),e),()=>St(r,t,()=>r.complete(),e),i=>St(r,t,()=>r.error(i),e)))})}function jr(t,e=0){return ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function TI(t,e){return Be(t).pipe(jr(e),Ur(e))}function SI(t,e){return Be(t).pipe(jr(e),Ur(e))}function AI(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function MI(t,e){return new re(n=>{let r;return St(n,e,()=>{r=t[Iu](),St(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}function Cu(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{St(n,e,()=>{let r=t[Symbol.asyncIterator]();St(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function xI(t,e){return Cu(Du(t),e)}function RI(t,e){if(t!=null){if(vu(t))return TI(t,e);if(gu(t))return AI(t,e);if(yu(t))return SI(t,e);if(_u(t))return Cu(t,e);if(Eu(t))return MI(t,e);if(bu(t))return xI(t,e)}throw wu(t)}function Me(t,e){return e?RI(t,e):Be(t)}function H(...t){let e=Lr(t);return Me(t,e)}function $o(t,e){let n=B(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function Ff(t){return!!t&&(t instanceof re||B(t.lift)&&B(t.subscribe))}var pr=No(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t,e){return ie((n,r)=>{let i=0;n.subscribe(Z(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Lx}=Array;function Ux(t,e){return Lx(e)?t(...e):t(e)}function Tu(t){return X(e=>Ux(t,e))}var{isArray:jx}=Array,{getPrototypeOf:Bx,prototype:$x,keys:Hx}=Object;function Su(t){if(t.length===1){let e=t[0];if(jx(e))return{args:e,keys:null};if(qx(e)){let n=Hx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function qx(t){return t&&typeof t=="object"&&Bx(t)===$x}function Au(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Mu(...t){let e=Lr(t),n=mu(t),{args:r,keys:i}=Su(t);if(r.length===0)return Me([],e);let o=new re(Gx(r,e,i?s=>Au(i,s):Ft));return n?o.pipe(Tu(n)):o}function Gx(t,e,n=Ft){return r=>{NI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)NI(e,()=>{let u=Me(t[c],e),l=!1;u.subscribe(Z(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function NI(t,e,n){t?St(n,t,e):e()}function PI(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=E=>u<r?v(E):c.push(E),v=E=>{o&&e.next(E),u++;let D=!1;Be(n(E,l++)).subscribe(Z(e,x=>{i?.(x),o?p(x):e.next(x)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<r;){let x=c.shift();s?St(e,s,()=>v(x)):v(x)}h()}catch(x){e.error(x)}}))};return t.subscribe(Z(e,p,()=>{d=!0,h()})),()=>{a?.()}}function Ke(t,e,n=1/0){return B(e)?Ke((r,i)=>X((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),ie((r,i)=>PI(r,i,t,n)))}function Vf(t=1/0){return Ke(Ft,t)}function kI(){return Vf(1)}function Ho(...t){return kI()(Me(t,Lr(t)))}function xu(t){return new re(e=>{Be(t()).subscribe(e)})}function Lf(...t){let e=mu(t),{args:n,keys:r}=Su(t),i=new re(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Be(n[l]).subscribe(Z(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?Au(r,a):a),o.complete())}))}});return e?i.pipe(Tu(e)):i}function wn(t,e){return ie((n,r)=>{let i=0;n.subscribe(Z(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Br(t){return ie((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Z(n,void 0,void 0,s=>{o=Be(t(s,Br(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function OI(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(Z(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function qo(t,e){return B(e)?Ke(t,e,1):Ke(t,1)}function $r(t){return ie((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function mr(t){return t<=0?()=>Vt:ie((e,n)=>{let r=0;e.subscribe(Z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Uf(t){return X(()=>t)}function Ru(t=zx){return ie((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function zx(){return new pr}function ia(t){return ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function jn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wn((i,o)=>t(i,o,r)):Ft,mr(1),n?$r(e):Ru(()=>new pr))}function Go(t){return t<=0?()=>Vt:ie((e,n)=>{let r=[];e.subscribe(Z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function jf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wn((i,o)=>t(i,o,r)):Ft,Go(1),n?$r(e):Ru(()=>new pr))}function Bf(t,e){return ie(OI(t,e,arguments.length>=2,!0))}function $f(...t){let e=Lr(t);return ie((n,r)=>{(e?Ho(t,n,e):Ho(t,n)).subscribe(r)})}function In(t,e){return ie((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Z(r,c=>{i?.unsubscribe();let u=0,l=o++;Be(t(c,l)).subscribe(i=Z(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Hf(t){return ie((e,n)=>{Be(t).subscribe(Z(n,()=>n.complete(),na)),!n.closed&&e.subscribe(n)})}function Qe(t,e,n){let r=B(t)||e||n?{next:t,error:e,complete:n}:t;return r?ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Z(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ft}var wE="https://g.co/ng/security#xss",N=class extends Error{constructor(e,n){super(Xp(e,n)),this.code=e}};function Xp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ya(t){return{toString:t}.toString()}var Nu="__parameters__";function Wx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function IE(t,e,n){return ya(()=>{let r=Wx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Nu)?c[Nu]:Object.defineProperty(c,Nu,{value:[]})[Nu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Dn=globalThis;function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function Kx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function It(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(It).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function FI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Qx=ve({__forward_ref__:ve});function Ut(t){return t.__forward_ref__=Ut,t.toString=function(){return It(this())},t}function wt(t){return EE(t)?t():t}function EE(t){return typeof t=="function"&&t.hasOwnProperty(Qx)&&t.__forward_ref__===Ut}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function cl(t){return VI(t,bE)||VI(t,CE)}function DE(t){return cl(t)!==null}function VI(t,e){return t.hasOwnProperty(e)?t[e]:null}function Yx(t){let e=t&&(t[bE]||t[CE]);return e||null}function LI(t){return t&&(t.hasOwnProperty(UI)||t.hasOwnProperty(Jx))?t[UI]:null}var bE=ve({\u0275prov:ve}),UI=ve({\u0275inj:ve}),CE=ve({ngInjectableDef:ve}),Jx=ve({ngInjectorDef:ve}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function TE(t){return t&&!!t.\u0275providers}var Zx=ve({\u0275cmp:ve}),Xx=ve({\u0275dir:ve}),eR=ve({\u0275pipe:ve}),tR=ve({\u0275mod:ve}),$u=ve({\u0275fac:ve}),oa=ve({__NG_ELEMENT_ID__:ve}),jI=ve({__NG_ENV_ID__:ve});function Jo(t){return typeof t=="string"?t:t==null?"":String(t)}function nR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Jo(t)}function rR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new N(-200,t)}function em(t,e){throw new N(-201,!1)}var Q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Q||{}),sp;function SE(){return sp}function At(t){let e=sp;return sp=t,e}function AE(t,e,n){let r=cl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Q.Optional)return null;if(e!==void 0)return e;em(t,"Injector")}var iR={},sa=iR,ap="__NG_DI_FLAG__",Hu="ngTempTokenPath",oR="ngTokenPath",sR=/\n/gm,aR="\u0275",BI="__source",Qo;function cR(){return Qo}function Hr(t){let e=Qo;return Qo=t,e}function uR(t,e=Q.Default){if(Qo===void 0)throw new N(-203,!1);return Qo===null?AE(t,void 0,e):Qo.get(t,e&Q.Optional?null:void 0,e)}function Y(t,e=Q.Default){return(SE()||uR)(wt(t),e)}function w(t,e=Q.Default){return Y(t,ul(e))}function ul(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cp(t){let e=[];for(let n=0;n<t.length;n++){let r=wt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let i,o=Q.Default;for(let s=0;s<r.length;s++){let a=r[s],c=lR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function ME(t,e){return t[ap]=e,t.prototype[ap]=e,t}function lR(t){return t[ap]}function dR(t,e,n,r){let i=t[Hu];throw e[BI]&&i.unshift(e[BI]),t.message=hR(`
`+t.message,i,n,r),t[oR]=i,t[Hu]=null,t}function hR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==aR?t.slice(2):t;let i=It(e);if(Array.isArray(e))i=e.map(It).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):It(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sR,`
  `)}`}var zn=ME(IE("Optional"),8);var xE=ME(IE("SkipSelf"),4);function Ai(t,e){let n=t.hasOwnProperty($u);return n?t[$u]:null}function fR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function pR(t){return t.flat(Number.POSITIVE_INFINITY)}function tm(t,e){t.forEach(n=>Array.isArray(n)?tm(n,e):e(n))}function RE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function gR(t,e,n){let r=va(t,e);return r>=0?t[r|1]=n:(r=~r,mR(t,r,e,n)),r}function qf(t,e){let n=va(t,e);if(n>=0)return t[n|1]}function va(t,e){return yR(t,e,1)}function yR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Zo={},Zt=[],Xo=new V(""),NE=new V("",-1),PE=new V(""),Gu=class{get(e,n=sa){if(n===sa){let r=new Error(`NullInjectorError: No provider for ${It(e)}!`);throw r.name="NullInjectorError",r}return n}},kE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kE||{}),Hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Hn||{}),$e=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}($e||{});function vR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function up(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];_R(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function OE(t){return t===3||t===4||t===6}function _R(t){return t.charCodeAt(0)===64}function aa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?$I(t,n,i,null,e[++r]):$I(t,n,i,null,null))}}return t}function $I(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var FE="ng-template";function wR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&vR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(nm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function nm(t){return t.type===4&&t.value!==FE}function IR(t,e,n){let r=t.type===4&&!n?FE:t.value;return e===r}function ER(t,e,n){let r=4,i=t.attrs,o=i!==null?CR(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!En(r)&&!En(c))return!1;if(s&&En(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!IR(t,c,n)||c===""&&e.length===1){if(En(r))return!1;s=!0}}else if(r&8){if(i===null||!wR(t,i,c,n)){if(En(r))return!1;s=!0}}else{let u=e[++a],l=DR(c,i,nm(t),n);if(l===-1){if(En(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(En(r))return!1;s=!0}}}}return En(r)||s}function En(t){return(t&1)===0}function DR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return TR(e,t)}function bR(t,e,n=!1){for(let r=0;r<e.length;r++)if(ER(t,e[r],n))return!0;return!1}function CR(t){for(let e=0;e<t.length;e++){let n=t[e];if(OE(n))return e}return t.length}function TR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function HI(t,e){return t?":not("+e.trim()+")":e}function SR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!En(s)&&(e+=HI(o,i),i=""),r=s,o=o||!En(r);n++}return i!==""&&(e+=HI(o,i)),e}function AR(t){return t.map(SR).join(",")}function MR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!En(i))break;i=o}r++}return{attrs:e,classes:n}}function Ee(t){return ya(()=>{let e=$E(t),n=he(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Hn.Emulated,styles:t.styles||Zt,_:null,schemas:t.schemas||null,tView:null,id:""});HE(n);let r=t.dependencies;return n.directiveDefs=GI(r,!1),n.pipeDefs=GI(r,!0),n.id=NR(n),n})}function xR(t){return Mi(t)||LE(t)}function RR(t){return t!==null}function tn(t){return ya(()=>({type:t.type,bootstrap:t.bootstrap||Zt,declarations:t.declarations||Zt,imports:t.imports||Zt,exports:t.exports||Zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qI(t,e){if(t==null)return Zo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=$e.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==$e.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Se(t){return ya(()=>{let e=$E(t);return HE(e),e})}function VE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mi(t){return t[Zx]||null}function LE(t){return t[Xx]||null}function UE(t){return t[eR]||null}function jE(t){let e=Mi(t)||LE(t)||UE(t);return e!==null?e.standalone:!1}function BE(t,e){let n=t[tR]||null;if(!n&&e===!0)throw new Error(`Type ${It(t)} does not have '\u0275mod' property.`);return n}function $E(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Zo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qI(t.inputs,e),outputs:qI(t.outputs),debugInfo:null}}function HE(t){t.features?.forEach(e=>e(t))}function GI(t,e){if(!t)return null;let n=e?UE:xR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(RR)}function NR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ll(t){return{\u0275providers:t}}function rm(...t){return{\u0275providers:qE(!0,t),\u0275fromNgModule:!0}}function qE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return tm(e,s=>{let a=s;lp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&GE(i,o),n}function GE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];im(i,o=>{e(o,r)})}}function lp(t,e,n,r){if(t=wt(t),!t)return!1;let i=null,o=LI(t),s=!o&&Mi(t);if(!o&&!s){let c=t.ngModule;if(o=LI(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)lp(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{tm(o.imports,l=>{lp(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&GE(u,e)}if(!a){let u=Ai(i)||(()=>new i);e({provide:i,useFactory:u,deps:Zt},i),e({provide:PE,useValue:i,multi:!0},i),e({provide:Xo,useValue:()=>Y(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;im(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function im(t,e){for(let n of t)TE(n)&&(n=n.\u0275providers),Array.isArray(n)?im(n,e):e(n)}var PR=ve({provide:String,useValue:ve});function zE(t){return t!==null&&typeof t=="object"&&PR in t}function kR(t){return!!(t&&t.useExisting)}function OR(t){return!!(t&&t.useFactory)}function es(t){return typeof t=="function"}function FR(t){return!!t.useClass}var dl=new V(""),Fu={},VR={},Gf;function om(){return Gf===void 0&&(Gf=new Gu),Gf}var Xt=class{},ca=class extends Xt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hp(e,s=>this.processProvider(s)),this.records.set(NE,zo(void 0,this)),i.has("environment")&&this.records.set(Xt,zo(void 0,this));let o=this.records.get(dl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(PE,Zt,Q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Hr(this),r=At(void 0),i;try{return e()}finally{Hr(n),At(r)}}get(e,n=sa,r=Q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jI))return e[jI](this);r=ul(r);let i,o=Hr(this),s=At(void 0);try{if(!(r&Q.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=$R(e)&&cl(e);u&&this.injectableDefInScope(u)?c=zo(dp(e),Fu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Q.Self?om():this.parent;return n=r&Q.Optional&&n===sa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Hu]=a[Hu]||[]).unshift(It(e)),o)throw a;return dR(a,e,"R3InjectorError",this.source)}else throw a}finally{At(s),Hr(o)}}resolveInjectorInitializers(){let e=ae(null),n=Hr(this),r=At(void 0),i;try{let o=this.get(Xo,Zt,Q.Self);for(let s of o)s()}finally{Hr(n),At(r),ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(It(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(e){e=wt(e);let n=es(e)?e:wt(e&&e.provide),r=UR(e);if(!es(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zo(void 0,Fu,!0),i.factory=()=>cp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ae(null);try{return n.value===Fu&&(n.value=VR,n.value=n.factory()),typeof n.value=="object"&&n.value&&BR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=wt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function dp(t){let e=cl(t),n=e!==null?e.factory:Ai(t);if(n!==null)return n;if(t instanceof V)throw new N(204,!1);if(t instanceof Function)return LR(t);throw new N(204,!1)}function LR(t){if(t.length>0)throw new N(204,!1);let n=Yx(t);return n!==null?()=>n.factory(t):()=>new t}function UR(t){if(zE(t))return zo(void 0,t.useValue);{let e=WE(t);return zo(e,Fu)}}function WE(t,e,n){let r;if(es(t)){let i=wt(t);return Ai(i)||dp(i)}else if(zE(t))r=()=>wt(t.useValue);else if(OR(t))r=()=>t.useFactory(...cp(t.deps||[]));else if(kR(t))r=()=>Y(wt(t.useExisting));else{let i=wt(t&&(t.useClass||t.provide));if(jR(t))r=()=>new i(...cp(t.deps));else return Ai(i)||dp(i)}return r}function zo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jR(t){return!!t.deps}function BR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $R(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function hp(t,e){for(let n of t)Array.isArray(n)?hp(n,e):n&&TE(n)?hp(n.\u0275providers,e):e(n)}function ji(t,e){t instanceof ca&&t.assertNotDestroyed();let n,r=Hr(t),i=At(void 0);try{return e()}finally{Hr(r),At(i)}}function HR(){return SE()!==void 0||cR()!=null}function qR(t){return typeof t=="function"}var wr=0,W=1,F=2,st=3,bn=4,An=5,zu=6,ua=7,Cn=8,ts=9,Tn=10,He=11,la=12,zI=13,is=14,qn=15,_a=16,Wo=17,gr=18,hl=19,KE=20,qr=21,zf=22,xi=23,Sn=25,QE=1;var Ri=7,Wu=8,ns=9,Lt=10,sm=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(sm||{});function Ti(t){return Array.isArray(t)&&typeof t[QE]=="object"}function Ir(t){return Array.isArray(t)&&t[QE]===!0}function YE(t){return(t.flags&4)!==0}function fl(t){return t.componentOffset>-1}function am(t){return(t.flags&1)===1}function Gr(t){return!!t.template}function GR(t){return(t[F]&512)!==0}var fp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function JE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function nn(){return ZE}function ZE(t){return t.type.prototype.ngOnChanges&&(t.setInput=WR),zR}nn.ngInherit=!0;function zR(){let t=e0(this),e=t?.current;if(e){let n=t.previous;if(n===Zo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function WR(t,e,n,r,i){let o=this.declaredInputs[r],s=e0(t)||KR(t,{previous:Zo,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new fp(u&&u.currentValue,n,c===Zo),JE(t,e,i,n)}var XE="__ngSimpleChanges__";function e0(t){return t[XE]||null}function KR(t,e){return t[XE]=e}var WI=null;var Bn=function(t,e,n){WI?.(t,e,n)},QR="svg",YR="math",JR=!1;function ZR(){return JR}function Gn(t){for(;Array.isArray(t);)t=t[wr];return t}function t0(t,e){return Gn(e[t])}function rn(t,e){return Gn(e[t.index])}function n0(t,e){return t.data[e]}function r0(t,e){return t[e]}function Wr(t,e){let n=e[t];return Ti(n)?n:n[wr]}function XR(t){return(t[F]&4)===4}function cm(t){return(t[F]&128)===128}function eN(t){return Ir(t[st])}function Ku(t,e){return e==null?null:t[e]}function i0(t){t[Wo]=0}function tN(t){t[F]&1024||(t[F]|=1024,cm(t)&&da(t))}function nN(t,e){for(;t>0;)e=e[is],t--;return e}function um(t){return!!(t[F]&9216||t[xi]?.dirty)}function pp(t){t[Tn].changeDetectionScheduler?.notify(1),um(t)?da(t):t[F]&64&&(ZR()?(t[F]|=1024,da(t)):t[Tn].changeDetectionScheduler?.notify())}function da(t){t[Tn].changeDetectionScheduler?.notify();let e=ha(t);for(;e!==null&&!(e[F]&8192||(e[F]|=8192,!cm(e)));)e=ha(e)}function o0(t,e){if((t[F]&256)===256)throw new N(911,!1);t[qr]===null&&(t[qr]=[]),t[qr].push(e)}function rN(t,e){if(t[qr]===null)return;let n=t[qr].indexOf(e);n!==-1&&t[qr].splice(n,1)}function ha(t){let e=t[st];return Ir(e)?e[st]:e}var K={lFrame:f0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function iN(){return K.lFrame.elementDepthCount}function oN(){K.lFrame.elementDepthCount++}function sN(){K.lFrame.elementDepthCount--}function s0(){return K.bindingsEnabled}function aN(){return K.skipHydrationRootTNode!==null}function cN(t){return K.skipHydrationRootTNode===t}function uN(){K.skipHydrationRootTNode=null}function se(){return K.lFrame.lView}function at(){return K.lFrame.tView}function Re(t){return K.lFrame.contextLView=t,t[Cn]}function Ne(t){return K.lFrame.contextLView=null,t}function Mt(){let t=a0();for(;t!==null&&t.type===64;)t=t.parent;return t}function a0(){return K.lFrame.currentTNode}function lN(){let t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function wa(t,e){let n=K.lFrame;n.currentTNode=t,n.isParent=e}function c0(){return K.lFrame.isParent}function dN(){K.lFrame.isParent=!1}function hN(){return K.lFrame.contextLView}function fN(){let t=K.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pN(){return K.lFrame.bindingIndex}function mN(t){return K.lFrame.bindingIndex=t}function pl(){return K.lFrame.bindingIndex++}function u0(t){let e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function gN(){return K.lFrame.inI18n}function yN(t,e){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,mp(e)}function vN(){return K.lFrame.currentDirectiveIndex}function mp(t){K.lFrame.currentDirectiveIndex=t}function _N(t){let e=K.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function l0(){return K.lFrame.currentQueryIndex}function lm(t){K.lFrame.currentQueryIndex=t}function wN(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[An]:null}function d0(t,e,n){if(n&Q.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Q.Host);)if(i=wN(o),i===null||(o=o[is],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=K.lFrame=h0();return r.currentTNode=e,r.lView=t,!0}function dm(t){let e=h0(),n=t[W];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function h0(){let t=K.lFrame,e=t===null?null:t.child;return e===null?f0(t):e}function f0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function p0(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var m0=p0;function hm(){let t=p0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function IN(t){return(K.lFrame.contextLView=nN(t,K.lFrame.contextLView))[Cn]}function Bi(){return K.lFrame.selectedIndex}function Ni(t){K.lFrame.selectedIndex=t}function ml(){let t=K.lFrame;return n0(t.tView,t.selectedIndex)}function EN(){return K.lFrame.currentNamespace}var g0=!0;function fm(){return g0}function pm(t){g0=t}function DN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ZE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function mm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Vu(t,e,n){y0(t,e,3,n)}function Lu(t,e,n,r){(t[F]&3)===n&&y0(t,e,n,r)}function Wf(t,e){let n=t[F];(n&3)===e&&(n&=16383,n+=1,t[F]=n)}function y0(t,e,n,r){let i=r!==void 0?t[Wo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Wo]+=65536),(a<o||o==-1)&&(bN(t,n,e,c),t[Wo]=(t[Wo]&4294901760)+c+2),c++}function KI(t,e){Bn(4,t,e);let n=ae(null);try{e.call(t)}finally{ae(n),Bn(5,t,e)}}function bN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[F]>>14<t[Wo]>>16&&(t[F]&3)===e&&(t[F]+=16384,KI(a,o)):KI(a,o)}var Yo=-1,Pi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function CN(t){return t instanceof Pi}function TN(t){return(t.flags&8)!==0}function SN(t){return(t.flags&16)!==0}function v0(t){return t!==Yo}function Qu(t){return t&32767}function AN(t){return t>>16}function Yu(t,e){let n=AN(t),r=e;for(;n>0;)r=r[is],n--;return r}var gp=!0;function Ju(t){let e=gp;return gp=t,e}var MN=256,_0=MN-1,w0=5,xN=0,$n={};function RN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(oa)&&(r=n[oa]),r==null&&(r=n[oa]=xN++);let i=r&_0,o=1<<i;e.data[t+(i>>w0)]|=o}function Zu(t,e){let n=I0(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,Kf(r.data,t),Kf(e,null),Kf(r.blueprint,null));let i=gm(t,e),o=t.injectorIndex;if(v0(i)){let s=Qu(i),a=Yu(i,e),c=a[W].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Kf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function I0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function gm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=T0(i),r===null)return Yo;if(n++,i=i[is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yo}function yp(t,e,n){RN(t,e,n)}function NN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(OE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function E0(t,e,n){if(n&Q.Optional||t!==void 0)return t;em(e,"NodeInjector")}function D0(t,e,n,r){if(n&Q.Optional&&r===void 0&&(r=null),!(n&(Q.Self|Q.Host))){let i=t[ts],o=At(void 0);try{return i?i.get(e,r,n&Q.Optional):AE(e,r,n&Q.Optional)}finally{At(o)}}return E0(r,e,n)}function b0(t,e,n,r=Q.Default,i){if(t!==null){if(e[F]&2048&&!(r&Q.Self)){let s=FN(t,e,n,r,$n);if(s!==$n)return s}let o=C0(t,e,n,r,$n);if(o!==$n)return o}return D0(e,n,r,i)}function C0(t,e,n,r,i){let o=kN(n);if(typeof o=="function"){if(!d0(e,t,r))return r&Q.Host?E0(i,n,r):D0(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Q.Optional))em(n);else return s}finally{m0()}}else if(typeof o=="number"){let s=null,a=I0(t,e),c=Yo,u=r&Q.Host?e[qn][An]:null;for((a===-1||r&Q.SkipSelf)&&(c=a===-1?gm(t,e):e[a+8],c===Yo||!YI(r,!1)?a=-1:(s=e[W],a=Qu(c),e=Yu(c,e)));a!==-1;){let l=e[W];if(QI(o,a,l.data)){let d=PN(a,e,n,s,r,u);if(d!==$n)return d}c=e[a+8],c!==Yo&&YI(r,e[W].data[a+8]===u)&&QI(o,a,e)?(s=l,a=Qu(c),e=Yu(c,e)):a=-1}}return i}function PN(t,e,n,r,i,o){let s=e[W],a=s.data[t+8],c=r==null?fl(a)&&gp:r!=s&&(a.type&3)!==0,u=i&Q.Host&&o===a,l=Uu(a,s,n,c,u);return l!==null?ki(e,s,l,a):$n}function Uu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let v=s[p];if(p<c&&n===v||p>=c&&v.type===n)return p}if(i){let p=s[c];if(p&&Gr(p)&&p.type===n)return c}return null}function ki(t,e,n,r){let i=t[n],o=e.data;if(CN(i)){let s=i;s.resolving&&rR(nR(o[n]));let a=Ju(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?At(s.injectImpl):null,l=d0(t,r,Q.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&DN(n,o[n],e)}finally{u!==null&&At(u),Ju(a),s.resolving=!1,m0()}}return i}function kN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(oa)?t[oa]:void 0;return typeof e=="number"?e>=0?e&_0:ON:e}function QI(t,e,n){let r=1<<t;return!!(n[e+(t>>w0)]&r)}function YI(t,e){return!(t&Q.Self)&&!(t&Q.Host&&e)}var Si=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return b0(this._tNode,this._lView,e,ul(r),n)}};function ON(){return new Si(Mt(),se())}function Er(t){return ya(()=>{let e=t.prototype.constructor,n=e[$u]||vp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[$u]||vp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function vp(t){return EE(t)?()=>{let e=vp(wt(t));return e&&e()}:Ai(t)}function FN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[F]&2048&&!(s[F]&512);){let a=C0(o,s,n,r|Q.Self,$n);if(a!==$n)return a;let c=o.parent;if(!c){let u=s[KE];if(u){let l=u.get(n,$n,r);if(l!==$n)return l}c=T0(s),s=s[is]}o=c}return i}function T0(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[An]:null}function ym(t){return NN(Mt(),t)}function JI(t,e=null,n=null,r){let i=S0(t,e,n,r);return i.resolveInjectorInitializers(),i}function S0(t,e=null,n=null,r,i=new Set){let o=[n||Zt,rm(t)];return r=r||(typeof t=="object"?void 0:It(t)),new ca(o,e||om(),r||null,i)}var Mn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return JI({name:""},i,r,"");{let o=r.name??"";return JI({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=sa,e.NULL=new Gu,e.\u0275prov=P({token:e,providedIn:"any",factory:()=>Y(NE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var VN="ngOriginalError";function Qf(t){return t[VN]}var yr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qf(e);for(;n&&Qf(n);)n=Qf(n);return n||null}},A0=new V("",{providedIn:"root",factory:()=>w(yr).handleError.bind(void 0)}),M0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),_p=class extends M0{constructor(e){super(),this._lView=e}onDestroy(e){return o0(this._lView,e),()=>rN(this._lView,e)}};function LN(){return new _p(se())}function UN(){return os(Mt(),se())}function os(t,e){return new xt(rn(t,e))}var xt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=UN;let t=e;return t})();function jN(t){return t instanceof xt?t.nativeElement:t}var wp=class extends pt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,HR()&&(this.destroyRef=w(M0,{optional:!0})??void 0)}emit(e){let n=ae(null);try{super.next(e)}finally{ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Yf(o),i&&(i=Yf(i)),s&&(s=Yf(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ue&&e.add(a),a}};function Yf(t){return e=>{setTimeout(t,void 0,e)}}var Ye=wp;function BN(){return this._results[Symbol.iterator]()}var Ip=class t{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=BN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=pR(e);(this._changesDetected=!fR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function x0(t){return(t.flags&128)===128}var R0=new Map,$N=0;function HN(){return $N++}function qN(t){R0.set(t[hl],t)}function GN(t){R0.delete(t[hl])}var ZI="__ngContext__";function Oi(t,e){Ti(e)?(t[ZI]=e[hl],qN(e)):t[ZI]=e}function N0(t){return k0(t[la])}function P0(t){return k0(t[bn])}function k0(t){for(;t!==null&&!Ir(t);)t=t[bn];return t}var Ep;function O0(t){Ep=t}function zN(){if(Ep!==void 0)return Ep;if(typeof document<"u")return document;throw new N(210,!1)}var vm=new V("",{providedIn:"root",factory:()=>WN}),WN="ng",_m=new V(""),Kr=new V("",{providedIn:"platform",factory:()=>"unknown"});var wm=new V("",{providedIn:"root",factory:()=>zN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KN="h",QN="b";var YN=()=>null;function Im(t,e,n=!1){return YN(t,e,n)}var F0=!1,JN=new V("",{providedIn:"root",factory:()=>F0});var Pu;function ZN(){if(Pu===void 0&&(Pu=null,Dn.trustedTypes))try{Pu=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pu}function XI(t){return ZN()?.createScriptURL(t)||t}var Xu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wE})`}};function Ia(t){return t instanceof Xu?t.changingThisBreaksApplicationSecurity:t}function Em(t,e){let n=XN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${wE})`)}return n===e}function XN(t){return t instanceof Xu&&t.getTypeName()||null}var eP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function V0(t){return t=String(t),t.match(eP)?t:"unsafe:"+t}var gl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(gl||{});function tP(t){let e=U0();return e?e.sanitize(gl.URL,t)||"":Em(t,"URL")?Ia(t):V0(Jo(t))}function nP(t){let e=U0();if(e)return XI(e.sanitize(gl.RESOURCE_URL,t)||"");if(Em(t,"ResourceURL"))return XI(Ia(t));throw new N(904,!1)}function rP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?nP:tP}function L0(t,e,n){return rP(e,n)(t)}function U0(){let t=se();return t&&t[Tn].sanitizer}function j0(t){return t instanceof Function?t():t}var vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(vr||{}),iP;function Dm(t,e){return iP(t,e)}function Ko(t,e,n,r,i){if(r!=null){let o,s=!1;Ir(r)?o=r:Ti(r)&&(s=!0,r=r[wr]);let a=Gn(r);t===0&&n!==null?i==null?G0(e,n,a):el(e,n,a,i||null,!0):t===1&&n!==null?el(e,n,a,i||null,!0):t===2?IP(e,a,s):t===3&&e.destroyNode(a),o!=null&&DP(e,t,o,n,i)}}function oP(t,e){return t.createText(e)}function sP(t,e,n){t.setValue(e,n)}function B0(t,e,n){return t.createElement(e,n)}function aP(t,e){$0(t,e),e[wr]=null,e[An]=null}function cP(t,e,n,r,i,o){r[wr]=i,r[An]=e,yl(t,r,n,1,i,o)}function $0(t,e){e[Tn].changeDetectionScheduler?.notify(1),yl(t,e,e[He],2,null,null)}function uP(t){let e=t[la];if(!e)return Jf(t[W],t);for(;e;){let n=null;if(Ti(e))n=e[la];else{let r=e[Lt];r&&(n=r)}if(!n){for(;e&&!e[bn]&&e!==t;)Ti(e)&&Jf(e[W],e),e=e[st];e===null&&(e=t),Ti(e)&&Jf(e[W],e),n=e&&e[bn]}e=n}}function lP(t,e,n,r){let i=Lt+r,o=n.length;r>0&&(n[i-1][bn]=e),r<o-Lt?(e[bn]=n[i],RE(n,Lt+r,e)):(n.push(e),e[bn]=null),e[st]=n;let s=e[_a];s!==null&&n!==s&&dP(s,e);let a=e[gr];a!==null&&a.insertView(t),pp(e),e[F]|=128}function dP(t,e){let n=t[ns],i=e[st][st][qn];e[qn]!==i&&(t[F]|=sm.HasTransplantedViews),n===null?t[ns]=[e]:n.push(e)}function H0(t,e){let n=t[ns],r=n.indexOf(e);n.splice(r,1)}function Dp(t,e){if(t.length<=Lt)return;let n=Lt+e,r=t[n];if(r){let i=r[_a];i!==null&&i!==t&&H0(i,r),e>0&&(t[n-1][bn]=r[bn]);let o=qu(t,Lt+e);aP(r[W],r);let s=o[gr];s!==null&&s.detachView(o[W]),r[st]=null,r[bn]=null,r[F]&=-129}return r}function q0(t,e){if(!(e[F]&256)){let n=e[He];n.destroyNode&&yl(t,e,n,3,null,null),uP(e)}}function Jf(t,e){if(e[F]&256)return;let n=ae(null);try{e[F]&=-129,e[F]|=256,e[xi]&&lI(e[xi]),fP(t,e),hP(t,e),e[W].type===1&&e[He].destroy();let r=e[_a];if(r!==null&&Ir(e[st])){r!==e[st]&&H0(r,e);let i=e[gr];i!==null&&i.detachView(t)}GN(e)}finally{ae(n)}}function hP(t,e){let n=t.cleanup,r=e[ua];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ua]=null);let i=e[qr];if(i!==null){e[qr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function fP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Pi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Bn(4,a,c);try{c.call(a)}finally{Bn(5,a,c)}}else{Bn(4,i,o);try{o.call(i)}finally{Bn(5,i,o)}}}}}function pP(t,e,n){return mP(t,e.parent,n)}function mP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[wr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Hn.None||o===Hn.Emulated)return null}return rn(r,n)}}function el(t,e,n,r,i){t.insertBefore(e,n,r,i)}function G0(t,e,n){t.appendChild(e,n)}function eE(t,e,n,r,i){r!==null?el(t,e,n,r,i):G0(t,e,n)}function gP(t,e,n,r){t.removeChild(e,n,r)}function bm(t,e){return t.parentNode(e)}function yP(t,e){return t.nextSibling(e)}function vP(t,e,n){return wP(t,e,n)}function _P(t,e,n){return t.type&40?rn(t,n):null}var wP=_P,tE;function Cm(t,e,n,r){let i=pP(t,r,e),o=e[He],s=r.parent||e[An],a=vP(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)eE(o,i,n[c],a,!1);else eE(o,i,n,a,!1);tE!==void 0&&tE(o,r,e,n,i)}function ju(t,e){if(e!==null){let n=e.type;if(n&3)return rn(e,t);if(n&4)return bp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ju(t,r);{let i=t[e.index];return Ir(i)?bp(-1,i):Gn(i)}}else{if(n&32)return Dm(e,t)()||Gn(t[e.index]);{let r=z0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ha(t[qn]);return ju(i,r)}else return ju(t,e.next)}}}return null}function z0(t,e){if(e!==null){let r=t[qn][An],i=e.projection;return r.projection[i]}return null}function bp(t,e){let n=Lt+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return ju(r,i)}return e[Ri]}function IP(t,e,n){let r=bm(t,e);r&&gP(t,r,e,n)}function Tm(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Oi(Gn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Tm(t,e,n.child,r,i,o,!1),Ko(e,t,i,a,o);else if(c&32){let u=Dm(n,r),l;for(;l=u();)Ko(e,t,i,l,o);Ko(e,t,i,a,o)}else c&16?EP(t,e,r,n,i,o):Ko(e,t,i,a,o);n=s?n.projectionNext:n.next}}function yl(t,e,n,r,i,o){Tm(n,r,t.firstChild,e,i,o,!1)}function EP(t,e,n,r,i,o){let s=n[qn],c=s[An].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ko(e,t,i,l,o)}else{let u=c,l=s[st];x0(r)&&(u.flags|=128),Tm(t,e,u,l,i,o,!0)}}function DP(t,e,n,r,i){let o=n[Ri],s=Gn(n);o!==s&&Ko(e,t,r,o,i);for(let a=Lt;a<n.length;a++){let c=n[a];yl(c[W],c,t,e,r,o)}}function bP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:vr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=vr.Important),t.setStyle(n,r,i,o))}}function CP(t,e,n){t.setAttribute(e,"style",n)}function W0(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function K0(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&up(t,e,r),i!==null&&W0(t,e,i),o!==null&&CP(t,e,o)}var Wn={};function A(t=1){Q0(at(),se(),Bi()+t,!1)}function Q0(t,e,n,r){if(!r)if((e[F]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Vu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Lu(e,o,0,n)}Ni(n)}function M(t,e=Q.Default){let n=se();if(n===null)return Y(t,e);let r=Mt();return b0(r,n,wt(t),e)}function Y0(t,e,n,r,i,o){let s=ae(null);try{let a=null;i&$e.SignalBased&&(a=e[r][_f]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&$e.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):JE(e,a,r,o)}finally{ae(s)}}function TP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ni(~i);else{let o=i,s=n[++r],a=n[++r];yN(s,o);let c=e[o];a(2,c)}}}finally{Ni(-1)}}function vl(t,e,n,r,i,o,s,a,c,u,l){let d=e.blueprint.slice();return d[wr]=i,d[F]=r|4|128|8|64,(u!==null||t&&t[F]&2048)&&(d[F]|=2048),i0(d),d[st]=d[is]=t,d[Cn]=n,d[Tn]=s||t&&t[Tn],d[He]=a||t&&t[He],d[ts]=c||t&&t[ts]||null,d[An]=o,d[hl]=HN(),d[zu]=l,d[KE]=u,d[qn]=e.type==2?t[qn]:d,d}function _l(t,e,n,r,i){let o=t.data[e];if(o===null)o=SP(t,e,n,r,i),gN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=lN();o.injectorIndex=s===null?-1:s.injectorIndex}return wa(o,!0),o}function SP(t,e,n,r,i){let o=a0(),s=c0(),a=s?o:o&&o.parent,c=t.data[e]=PP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function J0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Z0(t,e,n,r,i){let o=Bi(),s=r&2;try{Ni(-1),s&&e.length>Sn&&Q0(t,e,Sn,!1),Bn(s?2:0,i),n(r,i)}finally{Ni(o),Bn(s?3:1,i)}}function X0(t,e,n){if(YE(e)){let r=ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{ae(r)}}}function eD(t,e,n){s0()&&(UP(t,e,n,rn(n,e)),(n.flags&64)===64&&oD(t,e,n))}function tD(t,e,n=rn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function nD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Sm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Sm(t,e,n,r,i,o,s,a,c,u,l){let d=Sn+r,h=d+i,p=AP(d,h),v=typeof u=="function"?u():u;return p[W]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:l}}function AP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Wn);return n}function MP(t,e,n,r){let o=r.get(JN,F0)||n===Hn.ShadowDom,s=t.selectRootElement(e,o);return xP(s),s}function xP(t){RP(t)}var RP=()=>null;function NP(t,e,n,r){let i=cD(e);i.push(n),t.firstCreatePass&&uD(t).push(r,i.length-1)}function PP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return aN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function nE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=$e.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?rE(r,n,u,a,c):rE(r,n,u,a)}return r}function rE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function kP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,p=h?h.inputs:null,v=h?h.outputs:null;c=nE(0,d.inputs,l,c,p),u=nE(1,d.outputs,l,u,v);let E=c!==null&&s!==null&&!nm(e)?YP(c,l,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function OP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Am(t,e,n,r,i,o,s,a){let c=rn(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Mm(t,n,l,r,i),fl(e)&&FP(n,e.index)):e.type&3?(r=OP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function FP(t,e){let n=Wr(e,t);n[F]&16||(n[F]|=64)}function rD(t,e,n,r){if(s0()){let i=r===null?null:{"":-1},o=BP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&iD(t,e,n,s,i,a),i&&$P(n,r,i)}n.mergedAttrs=aa(n.mergedAttrs,n.attrs)}function iD(t,e,n,r,i,o){for(let u=0;u<r.length;u++)yp(Zu(n,e),t,r[u].type);qP(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=J0(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=aa(n.mergedAttrs,l.hostAttrs),GP(t,n,e,c,l),HP(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}kP(t,n,o)}function VP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;LP(s)!=a&&s.push(a),s.push(n,r,o)}}function LP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function UP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;fl(n)&&zP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Zu(n,e),Oi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],u=ki(e,t,a,n);if(Oi(u,e),s!==null&&QP(e,a-i,u,c,n,s),Gr(c)){let l=Wr(n.index,e);l[Cn]=ki(e,t,a,n)}}}function oD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=vN();try{Ni(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];mp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&jP(c,u)}}finally{Ni(-1),mp(s)}}function jP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function BP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(bR(e,s.selectors,!1))if(r||(r=[]),Gr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Cp(t,e,c)}else r.unshift(s),Cp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Cp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $P(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new N(-301,!1);r.push(e[i],o)}}}function HP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gr(e)&&(n[""]=t)}}function qP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function GP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ai(i.type,!0)),s=new Pi(o,Gr(i),M);t.blueprint[r]=s,n[r]=s,VP(t,e,r,J0(t,n,i.hostVars,Wn),i)}function zP(t,e,n){let r=rn(e,t),i=nD(n),o=t[Tn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=wl(t,vl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function WP(t,e,n,r,i,o){let s=rn(t,e);KP(e[He],s,o,t.value,n,r,i)}function KP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Jo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function QP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];Y0(r,n,c,u,l,d)}}function YP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function sD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function aD(t,e){let n=t.contentQueries;if(n!==null){let r=ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];lm(o),a.contentQueries(2,e[s],s)}}}finally{ae(r)}}}function wl(t,e){return t[la]?t[zI][bn]=e:t[la]=e,t[zI]=e,e}function Tp(t,e,n){lm(0);let r=ae(null);try{e(t,n)}finally{ae(r)}}function cD(t){return t[ua]||(t[ua]=[])}function uD(t){return t.cleanup||(t.cleanup=[])}function lD(t,e){let n=t[ts],r=n?n.get(yr,null):null;r&&r.handleError(e)}function Mm(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],l=t.data[s];Y0(l,u,r,a,c,i)}}function dD(t,e,n){let r=t0(e,t);sP(t[He],r,n)}function JP(t,e){let n=Wr(e,t),r=n[W];ZP(r,n);let i=n[wr];i!==null&&n[zu]===null&&(n[zu]=Im(i,n[ts])),xm(r,n,n[Cn])}function ZP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function xm(t,e,n){dm(e);try{let r=t.viewQuery;r!==null&&Tp(1,r,n);let i=t.template;i!==null&&Z0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[gr]?.finishViewCreation(t),t.staticContentQueries&&aD(t,e),t.staticViewQueries&&Tp(2,t.viewQuery,n);let o=t.components;o!==null&&XP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[F]&=-5,hm()}}function XP(t,e){for(let n=0;n<e.length;n++)JP(t,e[n])}function e1(t,e,n,r){let i=ae(null);try{let o=e.tView,a=t[F]&4096?4096:16,c=vl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[_a]=u;let l=t[gr];return l!==null&&(c[gr]=l.createEmbeddedView(o)),xm(o,c,n),c}finally{ae(i)}}function iE(t,e){return!e||e.firstChild===null||x0(t)}function t1(t,e,n,r=!0){let i=e[W];if(lP(i,e,t,n),r){let s=bp(n,t),a=e[He],c=bm(a,t[Ri]);c!==null&&cP(i,t[An],a,e,c,s)}let o=e[zu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function tl(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Gn(o)),Ir(o)&&n1(o,r);let s=n.type;if(s&8)tl(t,e,n.child,r);else if(s&32){let a=Dm(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=z0(e,n);if(Array.isArray(a))r.push(...a);else{let c=ha(e[qn]);tl(c[W],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function n1(t,e){for(let n=Lt;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&tl(r[W],r,i,e)}t[Ri]!==t[wr]&&e.push(t[Ri])}var hD=[];function r1(t){return t[xi]??i1(t)}function i1(t){let e=hD.pop()??Object.create(s1);return e.lView=t,e}function o1(t){t.lView[xi]!==t&&(t.lView=null,hD.push(t))}var s1=he(T({},aI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{da(t.lView)},consumerOnSignalRead(){this.lView[xi]=this}}),fD=100;function pD(t,e=!0,n=0){let r=t[Tn],i=r.rendererFactory,o=!1;o||i.begin?.();try{a1(t,n)}catch(s){throw e&&lD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function a1(t,e){Sp(t,e);let n=0;for(;um(t);){if(n===fD)throw new N(103,!1);n++,Sp(t,1)}}function c1(t,e,n,r){let i=e[F];if((i&256)===256)return;let o=!1;!o&&e[Tn].inlineEffectRunner?.flush(),dm(e);let s=null,a=null;!o&&u1(t)&&(a=r1(e),s=cI(a));try{i0(e),mN(t.bindingStartIndex),n!==null&&Z0(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Vu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Lu(e,d,0,null),Wf(e,0)}if(l1(e),mD(e,0),t.contentQueries!==null&&aD(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Vu(e,d)}else{let d=t.contentHooks;d!==null&&Lu(e,d,1),Wf(e,1)}TP(t,e);let u=t.components;u!==null&&yD(e,u,0);let l=t.viewQuery;if(l!==null&&Tp(2,l,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Vu(e,d)}else{let d=t.viewHooks;d!==null&&Lu(e,d,2),Wf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zf]){for(let d of e[zf])d();e[zf]=null}o||(e[F]&=-73)}catch(c){throw da(e),c}finally{a!==null&&(uI(a,s),o1(a)),hm()}}function u1(t){return t.type!==2}function mD(t,e){for(let n=N0(t);n!==null;n=P0(n))for(let r=Lt;r<n.length;r++){let i=n[r];gD(i,e)}}function l1(t){for(let e=N0(t);e!==null;e=P0(e)){if(!(e[F]&sm.HasTransplantedViews))continue;let n=e[ns];for(let r=0;r<n.length;r++){let i=n[r],o=i[st];tN(i)}}}function d1(t,e,n){let r=Wr(e,t);gD(r,n)}function gD(t,e){cm(t)&&Sp(t,e)}function Sp(t,e){let r=t[W],i=t[F],o=t[xi],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&wf(o)),o&&(o.dirty=!1),t[F]&=-9217,s)c1(r,t,r.template,t[Cn]);else if(i&8192){mD(t,1);let a=r.components;a!==null&&yD(t,a,1)}}function yD(t,e,n){for(let r=0;r<e.length;r++)d1(t,e[r],n)}function Rm(t){for(t[Tn].changeDetectionScheduler?.notify();t;){t[F]|=64;let e=ha(t);if(GR(t)&&!e)return t;t=e}return null}var Fi=class{get rootNodes(){let e=this._lView,n=e[W];return tl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cn]}set context(e){this._lView[Cn]=e}get destroyed(){return(this._lView[F]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(Ir(e)){let n=e[Wu],r=n?n.indexOf(this):-1;r>-1&&(Dp(e,r),qu(n,r))}this._attachedToViewContainer=!1}q0(this._lView[W],this._lView)}onDestroy(e){o0(this._lView,e)}markForCheck(){Rm(this._cdRefInjectingView||this._lView)}detach(){this._lView[F]&=-129}reattach(){pp(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,pD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,$0(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e,pp(this._lView)}},Vi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=p1;let t=e;return t})(),h1=Vi,f1=class extends h1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=e1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Fi(i)}};function p1(){return Nm(Mt(),se())}function Nm(t,e){return t.type&4?new f1(e,t,os(t,e)):null}var u6=new RegExp(`^(\\d+)*(${QN}|${KN})*(.*)`);var m1=()=>null;function oE(t,e){return m1(t,e)}var Ap=class{},Mp=class{},nl=class{};function g1(t){let e=Error(`No component factory found for ${It(t)}.`);return e[y1]=t,e}var y1="ngComponent";var xp=class{resolveComponentFactory(e){throw g1(e)}},Il=(()=>{let e=class e{};e.NULL=new xp;let t=e;return t})(),fa=class{},Kn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>v1();let t=e;return t})();function v1(){let t=se(),e=Mt(),n=Wr(e.index,t);return(Ti(n)?n:t)[He]}var _1=(()=>{let e=class e{};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Zf={};var sE=new Set;function vD(t){sE.has(t)||(sE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function aE(...t){}function w1(){let t=typeof Dn.requestAnimationFrame=="function",e=Dn[t?"requestAnimationFrame":"setTimeout"],n=Dn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=w1().nativeRequestAnimationFrame,D1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new N(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,I1,aE,aE);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},I1={};function Pm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function E1(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Rp(t),t.isCheckStableRunning=!0,Pm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Rp(t))}function D1(t){let e=()=>{E1(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(b1(a))return n.invokeTask(i,o,s,a);try{return cE(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),uE(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return cE(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),uE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Rp(t),Pm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Rp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function cE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uE(t){t._nesting--,Pm(t)}function b1(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var _D=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Np(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=FI(i,a);else if(o==2){let c=a,u=e[++s];r=FI(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var rl=class extends Il{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Mi(e);return new pa(n,this.ngModule)}};function lE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function C1(t){let e=t.toLowerCase();return e==="svg"?QR:e==="math"?YR:null}var Pp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ul(r);let i=this.injector.get(e,Zf,r);return i!==Zf||n===Zf?i:this.parentInjector.get(e,n,r)}},pa=class extends nl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=lE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return lE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=AR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ae(null);try{i=i||this.ngModule;let s=i instanceof Xt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Pp(e,s):e,c=a.get(fa,null);if(c===null)throw new N(407,!1);let u=a.get(_1,null),l=a.get(_D,null),d=a.get(Ap,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",E=r?MP(p,r,this.componentDef.encapsulation,a):B0(p,v,C1(v)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let x=null;E!==null&&(x=Im(E,a,!0));let ne=Sm(0,null,null,1,0,null,null,null,null,null,null),J=vl(null,ne,null,D,null,null,h,p,a,null,x);dm(J);let we,it;try{let de=this.componentDef,ft,Un=null;de.findHostDirectiveDefs?(ft=[],Un=new Map,de.findHostDirectiveDefs(de,ft,Un),ft.push(de)):ft=[de];let wi=T1(J,E),Ro=S1(wi,E,de,ft,J,h,p);it=n0(ne,Sn),E&&x1(p,de,E,r),n!==void 0&&R1(it,this.ngContentSelectors,n),we=M1(Ro,de,ft,Un,J,[N1]),xm(ne,J,null)}finally{hm()}return new kp(this.componentType,we,os(it,J),J,it)}finally{ae(o)}}},kp=class extends Mp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Mm(o[W],o,i,e,n),this.previousInputValues.set(e,n);let s=Wr(this._tNode.index,o);Rm(s)}}get injector(){return new Si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function T1(t,e){let n=t[W],r=Sn;return t[r]=e,_l(n,r,2,"#host",null)}function S1(t,e,n,r,i,o,s){let a=i[W];A1(r,t,e,s);let c=null;e!==null&&(c=Im(e,i[ts]));let u=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=vl(i,nD(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&Cp(a,t,r.length-1),wl(i,d),i[t.index]=d}function A1(t,e,n,r){for(let i of t)e.mergedAttrs=aa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Np(e,e.mergedAttrs,!0),n!==null&&K0(r,n,e))}function M1(t,e,n,r,i,o){let s=Mt(),a=i[W],c=rn(s,i);iD(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=ki(i,a,d,s);Oi(h,i)}oD(a,i,s),c&&Oi(c,i);let u=ki(i,a,s.directiveStart+s.componentOffset,s);if(t[Cn]=i[Cn]=u,o!==null)for(let l of o)l(u,e);return X0(a,s,i),u}function x1(t,e,n,r){if(r)up(t,n,["ng-version","17.3.4"]);else{let{attrs:i,classes:o}=MR(e.selectors[0]);i&&up(t,n,i),o&&o.length>0&&W0(t,n,o.join(" "))}}function R1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function N1(){let t=Mt();mm(se()[W],t)}var Qr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=P1;let t=e;return t})();function P1(){let t=Mt();return ID(t,se())}var k1=Qr,wD=class extends k1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return os(this._hostTNode,this._hostLView)}get injector(){return new Si(this._hostTNode,this._hostLView)}get parentInjector(){let e=gm(this._hostTNode,this._hostLView);if(v0(e)){let n=Yu(e,this._hostLView),r=Qu(e),i=n[W].data[r+8];return new Si(i,n)}else return new Si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=dE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=oE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,iE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!qR(e),a;if(s)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new pa(Mi(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?u:this.parentInjector).get(Xt,null);E&&(o=E)}let l=Mi(c.componentType??{}),d=oE(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,o);return this.insertImpl(p.hostView,a,iE(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(eN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[st],u=new wD(c,c[An],c[st]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return t1(s,i,o,r),e.attachToViewContainerRef(),RE(Xf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=dE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Dp(this._lContainer,n);r&&(qu(Xf(this._lContainer),n),q0(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=Dp(this._lContainer,n);return r&&qu(Xf(this._lContainer),n)!=null?new Fi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function dE(t){return t[Wu]}function Xf(t){return t[Wu]||(t[Wu]=[])}function ID(t,e){let n,r=e[t.index];return Ir(r)?n=r:(n=sD(r,e,null,t),e[t.index]=n,wl(e,n)),F1(n,e,t,r),new wD(n,t,e)}function O1(t,e){let n=t[He],r=n.createComment(""),i=rn(e,t),o=bm(n,i);return el(n,o,r,yP(n,i),!1),r}var F1=U1,V1=()=>!1;function L1(t,e,n){return V1(t,e,n)}function U1(t,e,n,r){if(t[Ri])return;let i;n.type&8?i=Gn(r):i=O1(e,n),t[Ri]=i}var Op=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Fp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)km(e,n).matches!==null&&this.queries[n].setDirty()}},Vp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=W1(e):this.predicate=e}},Lp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Up=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,j1(n,o)),this.matchTNodeWithReadOption(e,n,Uu(n,e,o,!1,!1))}else r===Vi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Uu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===xt||i===Qr||i===Vi&&n.type&4)this.addMatch(n.index,-2);else{let o=Uu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function j1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function B1(t,e){return t.type&11?os(t,e):t.type&4?Nm(t,e):null}function $1(t,e,n,r){return n===-1?B1(e,t):n===-2?H1(t,e,r):ki(t,t[W],n,e)}function H1(t,e,n){if(n===xt)return os(e,t);if(n===Vi)return Nm(e,t);if(n===Qr)return ID(e,t)}function ED(t,e,n,r){let i=e[gr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=o[u];a.push($1(e,l,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function jp(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=ED(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],l=e[-c];for(let d=Lt;d<l.length;d++){let h=l[d];h[_a]===h[st]&&jp(h[W],h,u,r)}if(l[ns]!==null){let d=l[ns];for(let h=0;h<d.length;h++){let p=d[h];jp(p[W],p,u,r)}}}}}return r}function q1(t,e){return t[gr].queries[e].queryList}function G1(t,e,n){let r=new Ip((n&4)===4);return NP(t,e,r,r.destroy),(e[gr]??=new Fp).queries.push(new Op(r))-1}function z1(t,e,n){let r=at();return r.firstCreatePass&&(K1(r,new Vp(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),G1(r,se(),e)}function W1(t){return t.split(",").map(e=>e.trim())}function K1(t,e,n){t.queries===null&&(t.queries=new Lp),t.queries.track(new Up(e,n))}function km(t,e){return t.queries.getByIndex(e)}function Q1(t,e){let n=t[W],r=km(n,e);return r.crossesNgTemplate?jp(n,t,e,[]):ED(n,t,r,e)}function Y1(t){return typeof t=="function"&&t[_f]!==void 0}function DD(t){return Y1(t)&&typeof t.set=="function"}function J1(t){return Object.getPrototypeOf(t.prototype).constructor}function Et(t){let e=J1(t.type),n=!0,r=[t];for(;e;){let i;if(Gr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new N(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ku(t.inputs),s.inputTransforms=ku(t.inputTransforms),s.declaredInputs=ku(t.declaredInputs),s.outputs=ku(t.outputs);let a=i.hostBindings;a&&nk(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&ek(t,c),u&&tk(t,u),Z1(t,i),Kx(t.outputs,i.outputs),Gr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Et&&(n=!1)}}e=Object.getPrototypeOf(e)}X1(r)}function Z1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function X1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=aa(i.hostAttrs,n=aa(n,i.hostAttrs))}}function ku(t){return t===Zo?{}:t===Zt?[]:t}function ek(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function tk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function nk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Om(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var zr=class{},ma=class{};var Bp=class extends zr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rl(this);let i=BE(e);this._bootstrapComponents=j0(i.bootstrap),this._r3Injector=S0(e,n,[{provide:zr,useValue:this},{provide:Il,useValue:this.componentFactoryResolver},...r],It(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},$p=class extends ma{constructor(e){super(),this.moduleType=e}create(e){return new Bp(this.moduleType,e,[])}};var il=class extends zr{constructor(e){super(),this.componentFactoryResolver=new rl(this),this.instance=null;let n=new ca([...e.providers,{provide:zr,useValue:this},{provide:Il,useValue:this.componentFactoryResolver}],e.parent||om(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Fm(t,e,n=null){return new il({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var El=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bD(t){return ik(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function rk(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ik(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ok(t,e,n){return t[e]=n}function Li(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function CD(t,e,n,r){let i=Li(t,e,n);return Li(t,e+1,r)||i}function sk(t){return(t.flags&32)===32}function ak(t,e,n,r,i,o,s,a,c){let u=e.consts,l=_l(e,t,4,s||null,Ku(u,a));rD(e,n,l,Ku(u,c)),mm(e,l);let d=l.tView=Sm(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Pe(t,e,n,r,i,o,s,a){let c=se(),u=at(),l=t+Sn,d=u.firstCreatePass?ak(l,u,c,e,n,r,i,o,s):u.data[l];wa(d,!1);let h=ck(u,c,d,t);fm()&&Cm(u,c,h,d),Oi(h,c);let p=sD(h,c,h,d);return c[l]=p,wl(c,p),L1(p,d,c),am(d)&&eD(u,c,d),s!=null&&tD(c,d,a),Pe}var ck=uk;function uk(t,e,n,r){return pm(!0),e[He].createComment("")}function Ea(t,e,n,r){let i=se(),o=pl();if(Li(i,o,e)){let s=at(),a=ml();WP(a,i,t,e,n,r)}return Ea}function TD(t,e,n,r){return Li(t,pl(),n)?e+Jo(n)+r:Wn}function lk(t,e,n,r,i,o){let s=pN(),a=CD(t,s,n,i);return u0(2),a?e+Jo(n)+r+Jo(i)+o:Wn}function Ou(t,e){return t<<17|e<<2}function Ui(t){return t>>17&32767}function dk(t){return(t&2)==2}function hk(t,e){return t&131071|e<<17}function Hp(t){return t|2}function rs(t){return(t&131068)>>2}function ep(t,e){return t&-131069|e<<2}function fk(t){return(t&1)===1}function qp(t){return t|1}function pk(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ui(s),c=rs(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||va(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Ui(t[a+1]);t[r+1]=Ou(h,a),h!==0&&(t[h+1]=ep(t[h+1],r)),t[a+1]=hk(t[a+1],r)}else t[r+1]=Ou(a,0),a!==0&&(t[a+1]=ep(t[a+1],r)),a=r;else t[r+1]=Ou(c,0),a===0?a=r:t[c+1]=ep(t[c+1],r),c=r;u&&(t[r+1]=Hp(t[r+1])),hE(t,l,r,!0),hE(t,l,r,!1),mk(e,l,t,r,o),s=Ou(a,c),o?e.classBindings=s:e.styleBindings=s}function mk(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&va(o,e)>=0&&(n[r+1]=qp(n[r+1]))}function hE(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ui(i):rs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];gk(c,e)&&(a=!0,t[s+1]=r?qp(u):Hp(u)),s=r?Ui(u):rs(u)}a&&(t[n+1]=r?Hp(i):qp(i))}function gk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?va(t,e)>=0:!1}function G(t,e,n){let r=se(),i=pl();if(Li(r,i,e)){let o=at(),s=ml();Am(o,s,r,t,e,r[He],n,!1)}return G}function fE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Mm(t,n,o[s],s,r)}function Dl(t,e){return yk(t,e,null,!0),Dl}function yk(t,e,n,r){let i=se(),o=at(),s=u0(2);if(o.firstUpdatePass&&_k(o,t,s,r),e!==Wn&&Li(i,s,e)){let a=o.data[Bi()];bk(o,a,i,i[He],t,i[s+1]=Ck(e,n),r,s)}}function vk(t,e){return e>=t.expandoStartIndex}function _k(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Bi()],s=vk(t,n);Tk(o,r)&&e===null&&!s&&(e=!1),e=wk(i,o,e,r),pk(i,o,e,n,s,r)}}function wk(t,e,n,r){let i=_N(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=tp(null,t,e,n,r),n=ga(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=tp(i,t,e,n,r),o===null){let c=Ik(t,e,r);c!==void 0&&Array.isArray(c)&&(c=tp(null,t,e,c[1],r),c=ga(c,e.attrs,r),Ek(t,e,r,c))}else o=Dk(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Ik(t,e,n){let r=n?e.classBindings:e.styleBindings;if(rs(r)!==0)return t[Ui(r)]}function Ek(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ui(i)]=r}function Dk(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ga(r,s,n)}return ga(r,e.attrs,n)}function tp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ga(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ga(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),gR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function bk(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=fk(u)?pE(c,e,n,i,rs(u),s):void 0;if(!ol(l)){ol(o)||dk(u)&&(o=pE(c,null,n,i,a,s));let d=t0(Bi(),n);bP(r,s,d,i,o)}}function pE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Wn&&(h=d?Zt:void 0);let p=d?qf(h,r):l===r?h:void 0;if(u&&!ol(p)&&(p=qf(c,r)),ol(p)&&(a=p,s))return a;let v=t[i+1];i=s?Ui(v):rs(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=qf(c,r))}return a}function ol(t){return t!==void 0}function Ck(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=It(Ia(t)))),t}function Tk(t,e){return(t.flags&(e?8:16))!==0}function Sk(t,e,n,r,i,o){let s=e.consts,a=Ku(s,i),c=_l(e,t,2,r,a);return rD(e,n,c,Ku(s,o)),c.attrs!==null&&Np(c,c.attrs,!1),c.mergedAttrs!==null&&Np(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function g(t,e,n,r){let i=se(),o=at(),s=Sn+t,a=i[He],c=o.firstCreatePass?Sk(s,o,i,e,n,r):o.data[s],u=Ak(o,i,c,a,e,t);i[s]=u;let l=am(c);return wa(c,!0),K0(a,u,c),!sk(c)&&fm()&&Cm(o,i,u,c),iN()===0&&Oi(u,i),oN(),l&&(eD(o,i,c),X0(o,c,i)),r!==null&&tD(i,c),g}function m(){let t=Mt();c0()?dN():(t=t.parent,wa(t,!1));let e=t;cN(e)&&uN(),sN();let n=at();return n.firstCreatePass&&(mm(n,t),YE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&TN(e)&&fE(n,e,se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&SN(e)&&fE(n,e,se(),e.stylesWithoutHost,!1),m}function O(t,e,n,r){return g(t,e,n,r),m(),O}var Ak=(t,e,n,r,i,o)=>(pm(!0),B0(r,i,EN()));function Rt(){return se()}var Ci=void 0;function Mk(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var xk=["en",[["a","p"],["AM","PM"],Ci],[["AM","PM"],Ci,Ci],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ci,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ci,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ci,"{1} 'at' {0}",Ci],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Mk],np={};function on(t){let e=Rk(t),n=mE(e);if(n)return n;let r=e.split("-")[0];if(n=mE(r),n)return n;if(r==="en")return xk;throw new N(701,!1)}function mE(t){return t in np||(np[t]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[t]),np[t]}var je=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(je||{});function Rk(t){return t.toLowerCase().replace(/_/g,"-")}var sl="en-US";var Nk=sl;function Pk(t){typeof t=="string"&&(Nk=t.toLowerCase().replace(/_/g,"-"))}function R(t,e,n,r){let i=se(),o=at(),s=Mt();return SD(o,i,i[He],s,t,e,r),R}function kk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ua],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function SD(t,e,n,r,i,o,s){let a=am(r),u=t.firstCreatePass&&uD(t),l=e[Cn],d=cD(e),h=!0;if(r.type&3||s){let E=rn(r,e),D=s?s(E):E,x=d.length,ne=s?we=>s(Gn(we[r.index])):r.index,J=null;if(!s&&a&&(J=kk(t,e,i,r.index)),J!==null){let we=J.__ngLastListenerFn__||J;we.__ngNextListenerFn__=o,J.__ngLastListenerFn__=o,h=!1}else{o=yE(r,e,l,o,!1);let we=n.listen(D,i,o);d.push(o,we),u&&u.push(i,ne,x,x+1)}}else o=yE(r,e,l,o,!1);let p=r.outputs,v;if(h&&p!==null&&(v=p[i])){let E=v.length;if(E)for(let D=0;D<E;D+=2){let x=v[D],ne=v[D+1],it=e[x][ne].subscribe(o),de=d.length;d.push(o,it),u&&u.push(i,r.index,de,-(de+1))}}}function gE(t,e,n,r){let i=ae(null);try{return Bn(6,e,n),n(r)!==!1}catch(o){return lD(t,o),!1}finally{Bn(7,e,n),ae(i)}}function yE(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Wr(t.index,e):e;Rm(a);let c=gE(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=gE(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function De(t=1){return IN(t)}function Dr(t,e,n){return $i(t,"",e,"",n),Dr}function $i(t,e,n,r,i){let o=se(),s=TD(o,e,n,r);if(s!==Wn){let a=at(),c=ml();Am(a,c,o,t,s,o[He],i,!1)}return $i}function AD(t,e,n){z1(t,e,n)}function Vm(t){let e=se(),n=at(),r=l0();lm(r+1);let i=km(n,r);if(t.dirty&&XR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Q1(e,r);t.reset(o,jN),t.notifyOnChanges()}return!0}return!1}function Lm(){return q1(se(),l0())}function Ok(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function MD(t){let e=hN();return r0(e,Sn+t)}function y(t,e=""){let n=se(),r=at(),i=t+Sn,o=r.firstCreatePass?_l(r,i,1,e,null):r.data[i],s=Fk(r,n,o,e,t);n[i]=s,fm()&&Cm(r,n,s,o),wa(o,!1)}var Fk=(t,e,n,r,i)=>(pm(!0),oP(e[He],r));function ye(t){return Dt("",t,""),ye}function Dt(t,e,n){let r=se(),i=TD(r,t,e,n);return i!==Wn&&dD(r,Bi(),i),Dt}function Um(t,e,n,r,i){let o=se(),s=lk(o,t,e,n,r,i);return s!==Wn&&dD(o,Bi(),s),Um}function jm(t,e,n){DD(e)&&(e=e());let r=se(),i=pl();if(Li(r,i,e)){let o=at(),s=ml();Am(o,s,r,t,e,r[He],n,!1)}return jm}function xD(t,e){let n=DD(t);return n&&t.set(e),n}function Bm(t,e){let n=se(),r=at(),i=Mt();return SD(r,n,n[He],i,t,e),Bm}function Vk(t,e,n){let r=at();if(r.firstCreatePass){let i=Gr(t);Gp(n,r.data,r.blueprint,i,!0),Gp(e,r.data,r.blueprint,i,!1)}}function Gp(t,e,n,r,i){if(t=wt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gp(t[o],e,n,r,i);else{let o=at(),s=se(),a=Mt(),c=es(t)?t:wt(t.provide),u=WE(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(es(t)||!t.multi){let p=new Pi(u,i,M),v=ip(c,e,i?l:l+h,d);v===-1?(yp(Zu(a,s),o,c),rp(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{let p=ip(c,e,l+h,d),v=ip(c,e,l,l+h),E=p>=0&&n[p],D=v>=0&&n[v];if(i&&!D||!i&&!E){yp(Zu(a,s),o,c);let x=jk(i?Uk:Lk,n.length,i,r,u);!i&&D&&(n[v].providerFactory=x),rp(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=RD(n[i?v:p],u,!i&&r);rp(o,t,p>-1?p:v,x)}!i&&r&&D&&n[v].componentProviders++}}}function rp(t,e,n,r){let i=es(e),o=FR(e);if(i||o){let c=(o?wt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function RD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ip(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Lk(t,e,n,r){return zp(this.multi,[])}function Uk(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ki(n,n[W],this.providerFactory.index,r);o=a.slice(0,s),zp(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],zp(i,o);return o}function zp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function jk(t,e,n,r,i){let o=new Pi(t,n,M);return o.multi=[],o.index=e,o.componentProviders=0,RD(o,i,r&&!n),o}function xn(t,e=[]){return n=>{n.providersResolver=(r,i)=>Vk(r,i?i(t):t,e)}}var Bk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=qE(!1,r.type),o=i.length>0?Fm([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(Y(Xt))});let t=e;return t})();function be(t){vD("NgStandalone"),t.getStandaloneInjector=e=>e.get(Bk).getOrCreateStandaloneInjector(t)}function $k(t,e){let n=t[e];return n===Wn?void 0:n}function Hk(t,e,n,r,i,o,s){let a=e+n;return CD(t,a,i,o)?ok(t,a+2,s?r.call(s,i,o):r(i,o)):$k(t,a+2)}function jt(t,e){let n=at(),r,i=t+Sn;n.firstCreatePass?(r=qk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ai(r.type,!0)),s,a=At(M);try{let c=Ju(!1),u=o();return Ju(c),Ok(n,se(),i,u),u}finally{At(a)}}function qk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Bt(t,e,n,r){let i=t+Sn,o=se(),s=r0(o,i);return Gk(o,i)?Hk(o,fN(),e,s.transform,n,r,s):s.transform(n,r)}function Gk(t,e){return t[W].data[e].pure}var _r=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ND=new _r("17.3.4"),bl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var PD=new V("");function Hi(t){return!!t&&typeof t.then=="function"}function kD(t){return!!t&&typeof t.subscribe=="function"}var OD=new V(""),FD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=w(OD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Hi(s))r.push(s);else if(kD(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$m=new V("");function zk(){dI(()=>{throw new N(600,!1)})}function Wk(t){return t.isBoundToModule}function Kk(t,e,n){try{let r=n();return Hi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Da=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(A0),this.afterRenderEffectManager=w(_D),this.externalTestViews=new Set,this.beforeRender=new pt,this.afterTick=new pt,this.componentTypes=[],this.components=[],this.isStable=w(El).hasPendingTasks.pipe(X(r=>!r)),this._injector=w(Xt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof nl;if(!this._injector.get(FD).done){let p=!o&&jE(r),v=!1;throw new N(405,v)}let a;o?a=r:a=this._injector.get(Il).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Wk(a)?void 0:this._injector.get(zr),u=i||a.selector,l=a.create(Mn.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(PD,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),op(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new N(101,!1);let i=ae(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ae(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===fD)throw new N(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)Qk(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Wp(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Wp(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;op(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get($m,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>op(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new N(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function op(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qk(t,e,n){!e&&!Wp(t)||Yk(t,n,e)}function Wp(t){return um(t)}function Yk(t,e,n){let r;n?(r=0,t[F]|=1024):t[F]&64?r=0:r=1,pD(t,e,r)}var Kp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Hm=(()=>{let e=class e{compileModuleSync(r){return new $p(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=BE(r),s=j0(o.declarations).reduce((a,c)=>{let u=Mi(c);return u&&a.push(new pa(u)),a},[]);return new Kp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jk=(()=>{let e=class e{constructor(){this.zone=w(Ie),this.applicationRef=w(Da)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zk(t){return[{provide:Ie,useFactory:t},{provide:Xo,multi:!0,useFactory:()=>{let e=w(Jk,{optional:!0});return()=>e.initialize()}},{provide:Xo,multi:!0,useFactory:()=>{let e=w(nO);return()=>{e.initialize()}}},{provide:A0,useFactory:Xk}]}function Xk(){let t=w(Ie),e=w(yr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function eO(t){let e=Zk(()=>new Ie(tO(t)));return ll([[],e])}function tO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nO=(()=>{let e=class e{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=w(Ie),this.pendingTasks=w(El)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rO(){return typeof $localize<"u"&&$localize.locale||sl}var Cl=new V("",{providedIn:"root",factory:()=>w(Cl,Q.Optional|Q.SkipSelf)||rO()});var VD=new V("");var Bu=null;function iO(t=[],e){return Mn.create({name:e,providers:[{provide:dl,useValue:"platform"},{provide:VD,useValue:new Set([()=>Bu=null])},...t]})}function oO(t=[]){if(Bu)return Bu;let e=iO(t);return Bu=e,zk(),sO(e),e}function sO(t){t.get(_m,null)?.forEach(n=>n())}var qi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aO;let t=e;return t})();function aO(t){return cO(Mt(),se(),(t&16)===16)}function cO(t,e,n){if(fl(t)&&!n){let r=Wr(t.index,e);return new Fi(r,r)}else if(t.type&47){let r=e[qn];return new Fi(r,e)}return null}var Qp=class{constructor(){}supports(e){return bD(e)}create(e){return new Yp(e)}},uO=(t,e)=>e,Yp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<vE(r,i,o)?n:r,a=vE(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let p=h<o.length?o[h]:o[h]=0,v=p+h;l<=v&&v<u&&(o[h]=p+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!bD(e))throw new N(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,rk(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Jp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new al),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new al),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Jp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Zp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},al=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Zp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function _E(){return new qm([new Qp])}var qm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||_E()),deps:[[e,new xE,new zn]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new N(901,!1)}};e.\u0275prov=P({token:e,providedIn:"root",factory:_E});let t=e;return t})();function LD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=oO(r),o=[eO(),...n||[]],a=new il({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ie);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(yr,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=i.get(VD);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),Kk(u,c,()=>{let p=a.get(FD);return p.runInitializers(),p.donePromise.then(()=>{let v=a.get(Cl,sl);Pk(v||sl);let E=a.get(Da);return e!==void 0&&E.bootstrap(e),E})})})}catch(e){return Promise.reject(e)}}function Yr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var qD=null;function Tr(){return qD}function GD(t){qD??=t}var kl=class{};var an=new V(""),zD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(lO),providedIn:"platform"});let t=e;return t})();var lO=(()=>{let e=class e extends zD{constructor(){super(),this._doc=w(an),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tr().getBaseHref(this._doc)}onPopState(r){let i=Tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function WD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function UD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Gi(t){return t&&t[0]!=="?"?"?"+t:t}var ss=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(KD),providedIn:"root"});let t=e;return t})(),dO=new V(""),KD=(()=>{let e=class e extends ss{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(an).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return WD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Gi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Gi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Gi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Y(zD),Y(dO,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zi=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=pO(UD(jD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Gi(i))}normalize(r){return e.stripTrailingSlash(fO(this._basePath,jD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Gi,e.joinWithSlash=WD,e.stripTrailingSlash=UD,e.\u0275fac=function(i){return new(i||e)(Y(ss))},e.\u0275prov=P({token:e,factory:()=>hO(),providedIn:"root"});let t=e;return t})();function hO(){return new zi(Y(ss))}function fO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function jD(t){return t.replace(/\/index.html$/,"")}function pO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var bt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(bt||{}),_e=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(_e||{}),$t=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}($t||{}),Jr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function mO(t){return on(t)[je.LocaleId]}function gO(t,e,n){let r=on(t),i=[r[je.DayPeriodsFormat],r[je.DayPeriodsStandalone]],o=sn(i,e);return sn(o,n)}function yO(t,e,n){let r=on(t),i=[r[je.DaysFormat],r[je.DaysStandalone]],o=sn(i,e);return sn(o,n)}function vO(t,e,n){let r=on(t),i=[r[je.MonthsFormat],r[je.MonthsStandalone]],o=sn(i,e);return sn(o,n)}function _O(t,e){let r=on(t)[je.Eras];return sn(r,e)}function Tl(t,e){let n=on(t);return sn(n[je.DateFormat],e)}function Sl(t,e){let n=on(t);return sn(n[je.TimeFormat],e)}function Al(t,e){let r=on(t)[je.DateTimeFormat];return sn(r,e)}function Vl(t,e){let n=on(t),r=n[je.NumberSymbols][e];if(typeof r>"u"){if(e===Jr.CurrencyDecimal)return n[je.NumberSymbols][Jr.Decimal];if(e===Jr.CurrencyGroup)return n[je.NumberSymbols][Jr.Group]}return r}function QD(t){if(!t[je.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wO(t){let e=on(t);return QD(e),(e[je.ExtraData][2]||[]).map(r=>typeof r=="string"?Gm(r):[Gm(r[0]),Gm(r[1])])}function IO(t,e,n){let r=on(t);QD(r);let i=[r[je.ExtraData][0],r[je.ExtraData][1]],o=sn(i,e)||[];return sn(o,n)||[]}function sn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Gm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var EO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ml={},DO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Cr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Cr||{}),ue=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ue||{}),ce=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ce||{});function bO(t,e,n,r){let i=PO(t);e=br(n,e)||e;let s=[],a;for(;e;)if(a=DO.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=JD(r,c),i=NO(i,r,!0));let u="";return s.forEach(l=>{let d=xO(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Ol(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function br(t,e){let n=mO(t);if(Ml[n]??={},Ml[n][e])return Ml[n][e];let r="";switch(e){case"shortDate":r=Tl(t,$t.Short);break;case"mediumDate":r=Tl(t,$t.Medium);break;case"longDate":r=Tl(t,$t.Long);break;case"fullDate":r=Tl(t,$t.Full);break;case"shortTime":r=Sl(t,$t.Short);break;case"mediumTime":r=Sl(t,$t.Medium);break;case"longTime":r=Sl(t,$t.Long);break;case"fullTime":r=Sl(t,$t.Full);break;case"short":let i=br(t,"shortTime"),o=br(t,"shortDate");r=xl(Al(t,$t.Short),[i,o]);break;case"medium":let s=br(t,"mediumTime"),a=br(t,"mediumDate");r=xl(Al(t,$t.Medium),[s,a]);break;case"long":let c=br(t,"longTime"),u=br(t,"longDate");r=xl(Al(t,$t.Long),[c,u]);break;case"full":let l=br(t,"fullTime"),d=br(t,"fullDate");r=xl(Al(t,$t.Full),[l,d]);break}return r&&(Ml[n][e]=r),r}function xl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Rn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function CO(t,e){return Rn(t,3).substring(0,e)}function qe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=TO(t,o);if((n>0||a>-n)&&(a+=n),t===ue.Hours)a===0&&n===-12&&(a=12);else if(t===ue.FractionalSeconds)return CO(a,e);let c=Vl(s,Jr.MinusSign);return Rn(a,e,c,r,i)}}function TO(t,e){switch(t){case ue.FullYear:return e.getFullYear();case ue.Month:return e.getMonth();case ue.Date:return e.getDate();case ue.Hours:return e.getHours();case ue.Minutes:return e.getMinutes();case ue.Seconds:return e.getSeconds();case ue.FractionalSeconds:return e.getMilliseconds();case ue.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ce(t,e,n=bt.Format,r=!1){return function(i,o){return SO(i,o,t,e,n,r)}}function SO(t,e,n,r,i,o){switch(n){case ce.Months:return vO(e,i,r)[t.getMonth()];case ce.Days:return yO(e,i,r)[t.getDay()];case ce.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let u=wO(e),l=IO(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[p,v]=h,E=s>=p.hours&&a>=p.minutes,D=s<v.hours||s===v.hours&&a<v.minutes;if(p.hours<v.hours){if(E&&D)return!0}else if(E||D)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return gO(e,i,r)[s<12?0:1];case ce.Eras:return _O(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Rl(t){return function(e,n,r){let i=-1*r,o=Vl(n,Jr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Cr.Short:return(i>=0?"+":"")+Rn(s,2,o)+Rn(Math.abs(i%60),2,o);case Cr.ShortGMT:return"GMT"+(i>=0?"+":"")+Rn(s,1,o);case Cr.Long:return"GMT"+(i>=0?"+":"")+Rn(s,2,o)+":"+Rn(Math.abs(i%60),2,o);case Cr.Extended:return r===0?"Z":(i>=0?"+":"")+Rn(s,2,o)+":"+Rn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var AO=0,Pl=4;function MO(t){let e=Ol(t,AO,1).getDay();return Ol(t,0,1+(e<=Pl?Pl:Pl+7)-e)}function YD(t){let e=t.getDay(),n=e===0?-3:Pl-e;return Ol(t.getFullYear(),t.getMonth(),t.getDate()+n)}function zm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=YD(n),s=MO(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Rn(i,t,Vl(r,Jr.MinusSign))}}function Nl(t,e=!1){return function(n,r){let o=YD(n).getFullYear();return Rn(o,t,Vl(r,Jr.MinusSign),e)}}var Wm={};function xO(t){if(Wm[t])return Wm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ce(ce.Eras,_e.Abbreviated);break;case"GGGG":e=Ce(ce.Eras,_e.Wide);break;case"GGGGG":e=Ce(ce.Eras,_e.Narrow);break;case"y":e=qe(ue.FullYear,1,0,!1,!0);break;case"yy":e=qe(ue.FullYear,2,0,!0,!0);break;case"yyy":e=qe(ue.FullYear,3,0,!1,!0);break;case"yyyy":e=qe(ue.FullYear,4,0,!1,!0);break;case"Y":e=Nl(1);break;case"YY":e=Nl(2,!0);break;case"YYY":e=Nl(3);break;case"YYYY":e=Nl(4);break;case"M":case"L":e=qe(ue.Month,1,1);break;case"MM":case"LL":e=qe(ue.Month,2,1);break;case"MMM":e=Ce(ce.Months,_e.Abbreviated);break;case"MMMM":e=Ce(ce.Months,_e.Wide);break;case"MMMMM":e=Ce(ce.Months,_e.Narrow);break;case"LLL":e=Ce(ce.Months,_e.Abbreviated,bt.Standalone);break;case"LLLL":e=Ce(ce.Months,_e.Wide,bt.Standalone);break;case"LLLLL":e=Ce(ce.Months,_e.Narrow,bt.Standalone);break;case"w":e=zm(1);break;case"ww":e=zm(2);break;case"W":e=zm(1,!0);break;case"d":e=qe(ue.Date,1);break;case"dd":e=qe(ue.Date,2);break;case"c":case"cc":e=qe(ue.Day,1);break;case"ccc":e=Ce(ce.Days,_e.Abbreviated,bt.Standalone);break;case"cccc":e=Ce(ce.Days,_e.Wide,bt.Standalone);break;case"ccccc":e=Ce(ce.Days,_e.Narrow,bt.Standalone);break;case"cccccc":e=Ce(ce.Days,_e.Short,bt.Standalone);break;case"E":case"EE":case"EEE":e=Ce(ce.Days,_e.Abbreviated);break;case"EEEE":e=Ce(ce.Days,_e.Wide);break;case"EEEEE":e=Ce(ce.Days,_e.Narrow);break;case"EEEEEE":e=Ce(ce.Days,_e.Short);break;case"a":case"aa":case"aaa":e=Ce(ce.DayPeriods,_e.Abbreviated);break;case"aaaa":e=Ce(ce.DayPeriods,_e.Wide);break;case"aaaaa":e=Ce(ce.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":e=Ce(ce.DayPeriods,_e.Abbreviated,bt.Standalone,!0);break;case"bbbb":e=Ce(ce.DayPeriods,_e.Wide,bt.Standalone,!0);break;case"bbbbb":e=Ce(ce.DayPeriods,_e.Narrow,bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ce(ce.DayPeriods,_e.Abbreviated,bt.Format,!0);break;case"BBBB":e=Ce(ce.DayPeriods,_e.Wide,bt.Format,!0);break;case"BBBBB":e=Ce(ce.DayPeriods,_e.Narrow,bt.Format,!0);break;case"h":e=qe(ue.Hours,1,-12);break;case"hh":e=qe(ue.Hours,2,-12);break;case"H":e=qe(ue.Hours,1);break;case"HH":e=qe(ue.Hours,2);break;case"m":e=qe(ue.Minutes,1);break;case"mm":e=qe(ue.Minutes,2);break;case"s":e=qe(ue.Seconds,1);break;case"ss":e=qe(ue.Seconds,2);break;case"S":e=qe(ue.FractionalSeconds,1);break;case"SS":e=qe(ue.FractionalSeconds,2);break;case"SSS":e=qe(ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Rl(Cr.Short);break;case"ZZZZZ":e=Rl(Cr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Rl(Cr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Rl(Cr.Long);break;default:return null}return Wm[t]=e,e}function JD(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function RO(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function NO(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=JD(e,i);return RO(t,r*(o-i))}function PO(t){if(BD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Ol(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(EO))return kO(r)}let e=new Date(t);if(!BD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function kO(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,u),e}function BD(t){return t instanceof Date&&!isNaN(t.valueOf())}function ZD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Km=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Km(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),$D(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);$D(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(M(Qr),M(Vi),M(qm))},e.\u0275dir=Se({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function $D(t,e){t.context.$implicit=e.item}var as=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Qm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){HD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){HD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(M(Qr),M(Vi))},e.\u0275dir=Se({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Qm=class{constructor(){this.$implicit=null,this.ngIf=null}};function HD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${It(e)}'.`)}function OO(t,e){return new N(2100,!1)}var FO="mediumDate",VO=new V(""),LO=new V(""),Qn=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??FO,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return bO(r,a,s||this.locale,c)}catch(a){throw OO(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(M(Cl,16),M(VO,24),M(LO,24))},e.\u0275pipe=VE({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var ct=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({});let t=e;return t})(),XD="browser",UO="server";function Ym(t){return t===UO}var Fl=class{};var Xm=class extends kl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},eg=class t extends Xm{static makeCurrent(){GD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=jO();return n==null?null:BO(n)}resetBaseElement(){ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ZD(document.cookie,e)}},ba=null;function jO(){return ba=ba||document.querySelector("base"),ba?ba.getAttribute("href"):null}function BO(t){return new URL(t,document.baseURI).pathname}var $O=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),tg=new V(""),rb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new N(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Y(tg),Y(Ie))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Ll=class{constructor(e){this._doc=e}},Jm="ng-app-id",ib=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ym(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Jm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Jm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Jm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Y(an),Y(vm),Y(wm,8),Y(Kr))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Zm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rg=/%COMP%/g,ob="%COMP%",HO=`_nghost-${ob}`,qO=`_ngcontent-${ob}`,GO=!0,zO=new V("",{providedIn:"root",factory:()=>GO});function WO(t){return qO.replace(rg,t)}function KO(t){return HO.replace(rg,t)}function sb(t,e){return e.map(n=>n.replace(rg,t))}var eb=(()=>{let e=class e{constructor(r,i,o,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ym(c),this.defaultRenderer=new Ca(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Hn.ShadowDom&&(i=he(T({},i),{encapsulation:Hn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ul?o.applyToHost(r):o instanceof Ta&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Hn.Emulated:s=new Ul(u,l,i,this.appId,d,a,c,h);break;case Hn.ShadowDom:return new ng(u,l,r,i,a,c,this.nonce,h);default:s=new Ta(u,l,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Y(rb),Y(ib),Y(vm),Y(zO),Y(an),Y(Kr),Y(Ie),Y(wm))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Ca=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Zm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(tb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(tb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new N(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Zm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Zm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(vr.DashCase|vr.Important)?e.style.setProperty(n,r,i&vr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&vr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Tr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function tb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ng=class extends Ca{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=sb(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ta=class extends Ca{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?sb(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ul=class extends Ta{constructor(e,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=WO(u),this.hostAttr=KO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},QO=(()=>{let e=class e extends Ll{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(Y(an))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),nb=["alt","control","meta","shift"],YO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ZO=(()=>{let e=class e extends Ll{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),nb.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=YO[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),nb.forEach(a=>{if(a!==o){let c=JO[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Y(an))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function ab(t,e){return LD(T({rootComponent:t},XO(e)))}function XO(t){return{appProviders:[...iF,...t?.providers??[]],platformProviders:rF}}function eF(){eg.makeCurrent()}function tF(){return new yr}function nF(){return O0(document),document}var rF=[{provide:Kr,useValue:XD},{provide:_m,useValue:eF,multi:!0},{provide:an,useFactory:nF,deps:[]}];var iF=[{provide:dl,useValue:"root"},{provide:yr,useFactory:tF,deps:[]},{provide:tg,useClass:QO,multi:!0,deps:[an,Ie,Kr]},{provide:tg,useClass:ZO,multi:!0,deps:[an]},eb,ib,rb,{provide:fa,useExisting:eb},{provide:Fl,useClass:$O,deps:[]},[]];var cb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Y(an))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var z="primary",Ba=Symbol("RouteTitle"),cg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function hs(t){return new cg(t)}function sF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function aF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yn(t[n],e[n]))return!1;return!0}function Yn(t,e){let n=t?ug(t):void 0,r=e?ug(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!pb(t[i],e[i]))return!1;return!0}function ug(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function pb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function mb(t){return t.length>0?t[t.length-1]:null}function ti(t){return Ff(t)?t:Hi(t)?Me(Promise.resolve(t)):H(t)}var cF={exact:yb,subset:vb},gb={exact:uF,subset:lF,ignored:()=>!0};function ub(t,e,n){return cF[n.paths](t.root,e.root,n.matrixParams)&&gb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function uF(t,e){return Yn(t,e)}function yb(t,e,n){if(!Ki(t.segments,e.segments)||!$l(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!yb(t.children[r],e.children[r],n))return!1;return!0}function lF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pb(t[n],e[n]))}function vb(t,e,n){return _b(t,e,e.segments,n)}function _b(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ki(i,n)||e.hasChildren()||!$l(i,n,r))}else if(t.segments.length===n.length){if(!Ki(t.segments,n)||!$l(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!vb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ki(t.segments,i)||!$l(t.segments,i,r)||!t.children[z]?!1:_b(t.children[z],e,o,r)}}function $l(t,e,n){return e.every((r,i)=>gb[n](t[i].parameters,r.parameters))}var Zr=class{constructor(e=new fe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){return fF.serialize(this)}},fe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hl(this)}},Wi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=hs(this.parameters),this._parameterMap}toString(){return Ib(this)}};function dF(t,e){return Ki(t,e)&&t.every((n,r)=>Yn(n.parameters,e[r].parameters))}function Ki(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function hF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==z&&(n=n.concat(e(i,r)))}),n}var Og=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new Gl,providedIn:"root"});let t=e;return t})(),Gl=class{parse(e){let n=new dg(e);return new Zr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Sa(e.root,!0)}`,r=gF(e.queryParams),i=typeof e.fragment=="string"?`#${pF(e.fragment)}`:"";return`${n}${r}${i}`}},fF=new Gl;function Hl(t){return t.segments.map(e=>Ib(e)).join("/")}function Sa(t,e){if(!t.hasChildren())return Hl(t);if(e){let n=t.children[z]?Sa(t.children[z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${Sa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=hF(t,(r,i)=>i===z?[Sa(t.children[z],!1)]:[`${i}:${Sa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[z]!=null?`${Hl(t)}/${n[0]}`:`${Hl(t)}/(${n.join("//")})`}}function wb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jl(t){return wb(t).replace(/%3B/gi,";")}function pF(t){return encodeURI(t)}function lg(t){return wb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ql(t){return decodeURIComponent(t)}function lb(t){return ql(t.replace(/\+/g,"%20"))}function Ib(t){return`${lg(t.path)}${mF(t.parameters)}`}function mF(t){return Object.entries(t).map(([e,n])=>`;${lg(e)}=${lg(n)}`).join("")}function gF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${jl(n)}=${jl(i)}`).join("&"):`${jl(n)}=${jl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var yF=/^[^\/()?;#]+/;function ig(t){let e=t.match(yF);return e?e[0]:""}var vF=/^[^\/()?;=#]+/;function _F(t){let e=t.match(vF);return e?e[0]:""}var wF=/^[^=?&#]+/;function IF(t){let e=t.match(wF);return e?e[0]:""}var EF=/^[^&#]+/;function DF(t){let e=t.match(EF);return e?e[0]:""}var dg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[z]=new fe(e,n)),r}parseSegment(){let e=ig(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(e),new Wi(ql(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=_F(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ig(this.remaining);i&&(r=i,this.capture(r))}e[ql(n)]=ql(r)}parseQueryParam(e){let n=IF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=DF(this.remaining);s&&(r=s,this.capture(r))}let i=lb(n),o=lb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ig(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new N(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=z);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[z]:new fe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new N(4011,!1)}};function Eb(t){return t.segments.length>0?new fe([],{[z]:t}):t}function Db(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Db(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new fe(t.segments,e);return bF(n)}function bF(t){if(t.numberOfChildren===1&&t.children[z]){let e=t.children[z];return new fe(t.segments.concat(e.segments),e.children)}return t}function fs(t){return t instanceof Zr}function CF(t,e,n=null,r=null){let i=bb(t);return Cb(i,e,n,r)}function bb(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new fe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Eb(r);return e??i}function Cb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return og(i,i,i,n,r);let o=TF(e);if(o.toRoot())return og(i,i,new fe([],{}),n,r);let s=SF(o,i,t),a=s.processChildren?xa(s.segmentGroup,s.index,o.commands):Sb(s.segmentGroup,s.index,o.commands);return og(i,s.segmentGroup,a,n,r)}function zl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Pa(t){return typeof t=="object"&&t!=null&&t.outlets}function og(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=Tb(t,e,n);let a=Eb(Db(s));return new Zr(a,o,i)}function Tb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Tb(o,e,n)}),new fe(t.segments,r)}var Wl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&zl(r[0]))throw new N(4003,!1);let i=r.find(Pa);if(i&&i!==mb(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function TF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Wl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Wl(n,e,r)}var ls=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function SF(t,e,n){if(t.isAbsolute)return new ls(e,!0,0);if(!n)return new ls(e,!1,NaN);if(n.parent===null)return new ls(n,!0,0);let r=zl(t.commands[0])?0:1,i=n.segments.length-1+r;return AF(n,i,t.numberOfDoubleDots)}function AF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new ls(r,!1,i-o)}function MF(t){return Pa(t[0])?t[0].outlets:{[z]:t}}function Sb(t,e,n){if(t??=new fe([],{}),t.segments.length===0&&t.hasChildren())return xa(t,e,n);let r=xF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new fe(t.segments.slice(0,r.pathIndex),{});return o.children[z]=new fe(t.segments.slice(r.pathIndex),t.children),xa(o,0,i)}else return r.match&&i.length===0?new fe(t.segments,{}):r.match&&!t.hasChildren()?hg(t,e,n):r.match?xa(t,0,i):hg(t,e,n)}function xa(t,e,n){if(n.length===0)return new fe(t.segments,{});{let r=MF(n),i={};if(Object.keys(r).some(o=>o!==z)&&t.children[z]&&t.numberOfChildren===1&&t.children[z].segments.length===0){let o=xa(t.children[z],e,n);return new fe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Sb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(t.segments,i)}}function xF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Pa(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!hb(c,u,s))return o;r+=2}else{if(!hb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Pa(o)){let c=RF(o.outlets);return new fe(r,c)}if(i===0&&zl(n[0])){let c=t.segments[e];r.push(new Wi(c.path,db(n[0]))),i++;continue}let s=Pa(o)?o.outlets[z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&zl(a)?(r.push(new Wi(s,db(a))),i+=2):(r.push(new Wi(s,{})),i++)}return new fe(r,{})}function RF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=hg(new fe([],{}),0,r))}),e}function db(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function hb(t,e,n){return t==n.path&&Yn(e,n.parameters)}var Ra="imperative",ut=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ut||{}),un=class{constructor(e,n){this.id=e,this.url=n}},ka=class extends un{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ut.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xr=class extends un{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(qt||{}),fg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(fg||{}),ei=class extends un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qi=class extends un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ut.NavigationSkipped}},Oa=class extends un{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Kl=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pg=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class extends un{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gg=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yg=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vg=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_g=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wg=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ig=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eg=class{constructor(e){this.snapshot=e,this.type=ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dg=class{constructor(e){this.snapshot=e,this.type=ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Fa=class{},Va=class{constructor(e){this.url=e}};var bg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ed,this.attachRef=null}},ed=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new bg,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ql=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Cg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Cg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Tg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Tg(e,this._root).map(n=>n.value)}};function Cg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Cg(t,n);if(r)return r}return null}function Tg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Tg(t,n);if(r.length)return r.unshift(e),r}return[]}var Ht=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function us(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Yl=class extends Ql{constructor(e,n){super(e),this.snapshot=n,Vg(this,e)}toString(){return this.snapshot.toString()}};function Ab(t){let e=NF(t),n=new ot([new Wi("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new Yi(n,r,o,s,i,z,t,e.root);return a.snapshot=e.root,new Yl(new Ht(a,[]),e)}function NF(t){let e={},n={},r={},i="",o=new La([],e,r,i,n,z,t,null,{});return new Jl("",new Ht(o,[]))}var Yi=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(u=>u[Ba]))??H(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>hs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>hs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),i?.data),t._resolvedData)}:r={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},i&&xb(i)&&(r.resolve[Ba]=i.title),r}var La=class{get title(){return this.data?.[Ba]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Jl=class extends Ql{constructor(e,n){super(n),this.url=e,Vg(this,n)}toString(){return Mb(this._root)}};function Vg(t,e){e.value._routerState=t,e.children.forEach(n=>Vg(t,n))}function Mb(t){let e=t.children.length>0?` { ${t.children.map(Mb).join(", ")} } `:"";return`${t.value}${e}`}function sg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yn(e.params,n.params)||t.paramsSubject.next(n.params),aF(e.url,n.url)||t.urlSubject.next(n.url),Yn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sg(t,e){let n=Yn(t.params,e.params)&&dF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Sg(t.parent,e.parent))}function xb(t){return typeof t.title=="string"||t.title===null}var Lg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=w(ed),this.location=w(Qr),this.changeDetector=w(qi),this.environmentInjector=w(Xt),this.inputBinder=w(Ug,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Ag(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Se({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nn]});let t=e;return t})(),Ag=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Yi?this.route:e===ed?this.childContexts:this.parent.get(e,n)}},Ug=new V("");function PF(t,e,n){let r=Ua(t,e._root,n?n._root:void 0);return new Yl(r,e)}function Ua(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=kF(t,e,n);return new Ht(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ua(t,a)),s}}let r=OF(e.value),i=e.children.map(o=>Ua(t,o));return new Ht(r,i)}}function kF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ua(t,r,i);return Ua(t,r)})}function OF(t){return new Yi(new ot(t.url),new ot(t.params),new ot(t.queryParams),new ot(t.fragment),new ot(t.data),t.outlet,t.component,t)}var Rb="ngNavigationCancelingError";function Nb(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=fs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Pb(!1,qt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Pb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Rb]=!0,n.cancellationCode=e,n}function FF(t){return kb(t)&&fs(t.url)}function kb(t){return!!t&&t[Rb]}var VF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["ng-component"]],standalone:!0,features:[be],decls:1,vars:0,template:function(i,o){i&1&&O(0,"router-outlet")},dependencies:[Lg],encapsulation:2});let t=e;return t})();function LF(t,e){return t.providers&&!t._injector&&(t._injector=Fm(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jg(t){let e=t.children&&t.children.map(jg),n=e?he(T({},t),{children:e}):T({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=VF),n}function Jn(t){return t.outlet||z}function UF(t,e){let n=t.filter(r=>Jn(r)===e);return n.push(...t.filter(r=>Jn(r)!==e)),n}function $a(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var jF=(t,e,n,r)=>X(i=>(new Mg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Mg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),sg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=us(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=us(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Dg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ig(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(sg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),sg(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=$a(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Zl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ds=class{constructor(e,n){this.component=e,this.route=n}};function BF(t,e,n){let r=t._root,i=e?e._root:null;return Aa(r,i,n,[r.value])}function $F(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ms(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!DE(t)?t:e.get(t):r}function Aa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=us(e);return t.children.forEach(s=>{HF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Na(a,n.getContext(s),i)),i}function HF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=qF(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Zl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Aa(t,e,a?a.children:null,r,i):Aa(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ds(a.outlet.component,s))}else s&&Na(e,a,i),i.canActivateChecks.push(new Zl(r)),o.component?Aa(t,null,a?a.children:null,r,i):Aa(t,null,n,r,i);return i}function qF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ki(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ki(t.url,e.url)||!Yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sg(t,e)||!Yn(t.queryParams,e.queryParams);case"paramsChange":default:return!Sg(t,e)}}function Na(t,e,n){let r=us(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Na(s,e.children.getContext(o),n):Na(s,null,n):Na(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ds(e.outlet.component,i)):n.canDeactivateChecks.push(new ds(null,i)):n.canDeactivateChecks.push(new ds(null,i))}function Ha(t){return typeof t=="function"}function GF(t){return typeof t=="boolean"}function zF(t){return t&&Ha(t.canLoad)}function WF(t){return t&&Ha(t.canActivate)}function KF(t){return t&&Ha(t.canActivateChild)}function QF(t){return t&&Ha(t.canDeactivate)}function YF(t){return t&&Ha(t.canMatch)}function Ob(t){return t instanceof pr||t?.name==="EmptyError"}var Bl=Symbol("INITIAL_VALUE");function ps(){return In(t=>Mu(t.map(e=>e.pipe(mr(1),$f(Bl)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===Bl)return Bl;if(n===!1||n instanceof Zr)return n}return!0}),wn(e=>e!==Bl),mr(1)))}function JF(t,e){return Ke(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?H(he(T({},n),{guardsResult:!0})):ZF(s,r,i,t).pipe(Ke(a=>a&&GF(a)?XF(r,o,t,e):H(a)),X(a=>he(T({},n),{guardsResult:a})))})}function ZF(t,e,n,r){return Me(t).pipe(Ke(i=>iV(i.component,i.route,n,e,r)),jn(i=>i!==!0,!0))}function XF(t,e,n,r){return Me(e).pipe(qo(i=>Ho(tV(i.route.parent,r),eV(i.route,r),rV(t,i.path,n),nV(t,i.route,n))),jn(i=>i!==!0,!0))}function eV(t,e){return t!==null&&e&&e(new Eg(t)),H(!0)}function tV(t,e){return t!==null&&e&&e(new wg(t)),H(!0)}function nV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>xu(()=>{let s=$a(e)??n,a=ms(o,s),c=WF(a)?a.canActivate(e,t):ji(s,()=>a(e,t));return ti(c).pipe(jn())}));return H(i).pipe(ps())}function rV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>$F(s)).filter(s=>s!==null).map(s=>xu(()=>{let a=s.guards.map(c=>{let u=$a(s.node)??n,l=ms(c,u),d=KF(l)?l.canActivateChild(r,t):ji(u,()=>l(r,t));return ti(d).pipe(jn())});return H(a).pipe(ps())}));return H(o).pipe(ps())}function iV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let c=$a(e)??i,u=ms(a,c),l=QF(u)?u.canDeactivate(t,e,n,r):ji(c,()=>u(t,e,n,r));return ti(l).pipe(jn())});return H(s).pipe(ps())}function oV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let a=ms(s,t),c=zF(a)?a.canLoad(e,n):ji(t,()=>a(e,n));return ti(c)});return H(o).pipe(ps(),Fb(r))}function Fb(t){return Af(Qe(e=>{if(fs(e))throw Nb(t,e)}),X(e=>e===!0))}function sV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=ms(s,t),c=YF(a)?a.canMatch(e,n):ji(t,()=>a(e,n));return ti(c)});return H(o).pipe(ps(),Fb(r))}var ja=class{constructor(e){this.segmentGroup=e||null}},Xl=class extends Error{constructor(e){super(),this.urlTree=e}};function cs(t){return $o(new ja(t))}function aV(t){return $o(new N(4e3,!1))}function cV(t){return $o(Pb(!1,qt.GuardRejected))}var xg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[z])return aV(e.redirectTo);i=i.children[z]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Xl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Zr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new fe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new N(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Rg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uV(t,e,n,r,i){let o=Bg(t,e,n);return o.matched?(r=LF(e,r),sV(r,e,n,i).pipe(X(s=>s===!0?o:T({},Rg)))):H(o)}function Bg(t,e,n){if(e.path==="**")return lV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?T({},Rg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||sF)(n,t,e);if(!i)return T({},Rg);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?T(T({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function lV(t){return{matched:!0,parameters:t.length>0?mb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function fb(t,e,n,r){return n.length>0&&fV(t,n,r)?{segmentGroup:new fe(e,hV(r,new fe(n,t.children))),slicedSegments:[]}:n.length===0&&pV(t,n,r)?{segmentGroup:new fe(t.segments,dV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new fe(t.segments,t.children),slicedSegments:n}}function dV(t,e,n,r){let i={};for(let o of n)if(td(t,e,o)&&!r[Jn(o)]){let s=new fe([],{});i[Jn(o)]=s}return T(T({},r),i)}function hV(t,e){let n={};n[z]=e;for(let r of t)if(r.path===""&&Jn(r)!==z){let i=new fe([],{});n[Jn(r)]=i}return n}function fV(t,e,n){return n.some(r=>td(t,e,r)&&Jn(r)!==z)}function pV(t,e,n){return n.some(r=>td(t,e,r))}function td(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function mV(t,e,n,r){return Jn(t)!==r&&(r===z||!td(e,n,t))?!1:Bg(e,t,n).matched}function gV(t,e,n){return e.length===0&&!t.children[n]}var Ng=class{};function yV(t,e,n,r,i,o,s="emptyOnly"){return new Pg(t,e,n,r,i,s,o).recognize()}var vV=31,Pg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new xg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new N(4002,`'${e.segmentGroup}'`)}recognize(){let e=fb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(n=>{let r=new La([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),i=new Ht(r,n),o=new Jl("",i),s=CF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,z).pipe(Br(r=>{if(r instanceof Xl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ja?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Fg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(X(o=>o instanceof Ht?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Me(i).pipe(qo(o=>{let s=r.children[o],a=UF(n,o);return this.processSegmentGroup(e,a,s,o)}),Bf((o,s)=>(o.push(...s),o)),$r(null),jf(),Ke(o=>{if(o===null)return cs(r);let s=Vb(o);return _V(s),H(s)}))}processSegment(e,n,r,i,o,s){return Me(n).pipe(qo(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Br(c=>{if(c instanceof ja)return H(null);throw c}))),jn(a=>!!a),Br(a=>{if(Ob(a))return gV(r,i,o)?H(new Ng):cs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return mV(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):cs(i):cs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Bg(n,i,o);if(!a)return cs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vV&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ke(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=uV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(In(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(In(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new La(l,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,IV(r),Jn(r),r.component??r._loadedComponent??null,r,EV(r)),{segmentGroup:v,slicedSegments:E}=fb(n,l,d,c);if(E.length===0&&v.hasChildren())return this.processChildren(u,c,v).pipe(X(x=>x===null?null:new Ht(p,x)));if(c.length===0&&E.length===0)return H(new Ht(p,[]));let D=Jn(r)===o;return this.processSegment(u,c,v,E,D?z:o,!0).pipe(X(x=>new Ht(p,x instanceof Ht?[x]:[])))}))):cs(n)))}getChildConfig(e,n,r){return n.children?H({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?H({routes:n._loadedRoutes,injector:n._loadedInjector}):oV(e,n,r,this.urlSerializer).pipe(Ke(i=>i?this.configLoader.loadChildren(e,n).pipe(Qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):cV(n))):H({routes:[],injector:e})}};function _V(t){t.sort((e,n)=>e.value.outlet===z?-1:n.value.outlet===z?1:e.value.outlet.localeCompare(n.value.outlet))}function wV(t){let e=t.value.routeConfig;return e&&e.path===""}function Vb(t){let e=[],n=new Set;for(let r of t){if(!wV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Vb(r.children);e.push(new Ht(r.value,i))}return e.filter(r=>!n.has(r))}function IV(t){return t.data||{}}function EV(t){return t.resolve||{}}function DV(t,e,n,r,i,o){return Ke(s=>yV(t,e,n,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:c})=>he(T({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function bV(t,e){return Ke(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of Lb(c))s.add(u);let a=0;return Me(s).pipe(qo(c=>o.has(c)?CV(c,r,t,e):(c.data=Fg(c,c.parent,t).resolve,H(void 0))),Qe(()=>a++),Go(1),Ke(c=>a===s.size?H(n):Vt))})}function Lb(t){let e=t.children.map(n=>Lb(n)).flat();return[t,...e]}function CV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!xb(i)&&(o[Ba]=i.title),TV(o,t,e,r).pipe(X(s=>(t._resolvedData=s,t.data=Fg(t,t.parent,n).resolve,null)))}function TV(t,e,n,r){let i=ug(t);if(i.length===0)return H({});let o={};return Me(i).pipe(Ke(s=>SV(t[s],e,n,r).pipe(jn(),Qe(a=>{o[s]=a}))),Go(1),Uf(o),Br(s=>Ob(s)?Vt:$o(s)))}function SV(t,e,n,r){let i=$a(e)??r,o=ms(t,i),s=o.resolve?o.resolve(e,n):ji(i,()=>o(e,n));return ti(s)}function ag(t){return In(e=>{let n=t(e);return n?Me(n).pipe(X(()=>e)):H(e)})}var Ub=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===z);return i}getResolvedTitleForRoute(r){return r.data[Ba]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(AV),providedIn:"root"});let t=e;return t})(),AV=(()=>{let e=class e extends Ub{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Y(cb))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$g=new V("",{providedIn:"root",factory:()=>({})}),Hg=new V(""),MV=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(Hm)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ti(r.loadComponent()).pipe(X(jb),Qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ia(()=>{this.componentLoaders.delete(r)})),o=new Lo(i,()=>new pt).pipe(Vo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return H({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=xV(i,this.compiler,r,this.onLoadEndListener).pipe(ia(()=>{this.childrenLoaders.delete(i)})),a=new Lo(s,()=>new pt).pipe(Vo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xV(t,e,n,r){return ti(t.loadChildren()).pipe(X(jb),Ke(i=>i instanceof ma||Array.isArray(i)?H(i):Me(e.compileModuleAsync(i))),X(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Hg,[],{optional:!0,self:!0}).flat()),{routes:s.map(jg),injector:o}}))}function RV(t){return t&&typeof t=="object"&&"default"in t}function jb(t){return RV(t)?t.default:t}var qg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(NV),providedIn:"root"});let t=e;return t})(),NV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PV=new V("");var kV=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pt,this.transitionAbortSubject=new pt,this.configLoader=w(MV),this.environmentInjector=w(Xt),this.urlSerializer=w(Og),this.rootContexts=w(ed),this.location=w(zi),this.inputBindingEnabled=w(Ug,{optional:!0})!==null,this.titleStrategy=w(Ub),this.options=w($g,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(qg),this.createViewTransition=w(PV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null;let r=o=>this.events.next(new vg(o)),i=o=>this.events.next(new _g(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(he(T(T({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ot({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ra,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wn(s=>s.id!==0),X(s=>he(T({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),In(s=>{let a=!1,c=!1;return H(s).pipe(In(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",qt.SupersededByNewNavigation),Vt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?he(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Qi(u.id,this.urlSerializer.serialize(u.rawUrl),h,fg.IgnoredSameUrlNavigation)),u.resolve(null),Vt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return H(u).pipe(In(h=>{let p=this.transitions?.getValue();return this.events.next(new ka(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Vt:Promise.resolve(h)}),DV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=he(T({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Kl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:v,restoredState:E,extras:D}=u,x=new ka(h,this.urlSerializer.serialize(p),v,E);this.events.next(x);let ne=Ab(this.rootComponentType).snapshot;return this.currentTransition=s=he(T({},u),{targetSnapshot:ne,urlAfterRedirects:p,extras:he(T({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,H(s)}else{let h="";return this.events.next(new Qi(u.id,this.urlSerializer.serialize(u.extractedUrl),h,fg.IgnoredByUrlHandlingStrategy)),u.resolve(null),Vt}}),Qe(u=>{let l=new pg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),X(u=>(this.currentTransition=s=he(T({},u),{guards:BF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),JF(this.environmentInjector,u=>this.events.next(u)),Qe(u=>{if(s.guardsResult=u.guardsResult,fs(u.guardsResult))throw Nb(this.urlSerializer,u.guardsResult);let l=new mg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),wn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",qt.GuardRejected),!1)),ag(u=>{if(u.guards.canActivateChecks.length)return H(u).pipe(Qe(l=>{let d=new gg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),In(l=>{let d=!1;return H(l).pipe(bV(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",qt.NoDataFromResolver)}}))}),Qe(l=>{let d=new yg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),ag(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Qe(p=>{d.component=p}),X(()=>{})));for(let p of d.children)h.push(...l(p));return h};return Mu(l(u.targetSnapshot.root)).pipe($r(null),mr(1))}),ag(()=>this.afterPreactivation()),In(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?Me(d).pipe(X(()=>s)):H(s)}),X(u=>{let l=PF(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=he(T({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Qe(()=>{this.events.next(new Fa)}),jF(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),mr(1),Qe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Hf(this.transitionAbortSubject.pipe(Qe(u=>{throw u}))),ia(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",qt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Br(u=>{if(c=!0,kb(u))this.events.next(new ei(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),FF(u)?this.events.next(new Va(u.url)):s.resolve(!1);else{this.events.next(new Oa(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return Vt}))}))}cancelNavigationTransition(r,i,o){let s=new ei(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OV(t){return t!==Ra}var FV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(VV),providedIn:"root"});let t=e;return t})(),kg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},VV=(()=>{let e=class e extends kg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Er(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(LV),providedIn:"root"});let t=e;return t})(),LV=(()=>{let e=class e extends Bb{constructor(){super(...arguments),this.location=w(zi),this.urlSerializer=w(Og),this.options=w($g,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(qg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ab(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ka)this.stateMemento=this.createStateMemento();else if(r instanceof Qi)this.rawUrlTree=i.initialUrl;else if(r instanceof Kl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Fa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof ei&&(r.code===qt.GuardRejected||r.code===qt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Oa?this.restoreHistory(i,!0):r instanceof Xr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=T(T({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=T(T({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Er(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ma=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ma||{});function UV(t,e){t.events.pipe(wn(n=>n instanceof Xr||n instanceof ei||n instanceof Oa||n instanceof Qi),X(n=>n instanceof Xr||n instanceof Qi?Ma.COMPLETE:(n instanceof ei?n.code===qt.Redirect||n.code===qt.SupersededByNewNavigation:!1)?Ma.REDIRECTING:Ma.FAILED),wn(n=>n!==Ma.REDIRECTING),mr(1)).subscribe(()=>{e()})}function jV(t){throw t}var BV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$V={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Je=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(bl),this.stateManager=w(Bb),this.options=w($g,{optional:!0})||{},this.pendingTasks=w(El),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(kV),this.urlSerializer=w(Og),this.location=w(zi),this.urlHandlingStrategy=w(qg),this._events=new pt,this.errorHandler=this.options.errorHandler||jV,this.navigated=!1,this.routeReuseStrategy=w(FV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(Hg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(Ug,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=w(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof ei&&i.code!==qt.Redirect&&i.code!==qt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Xr)this.navigated=!0;else if(i instanceof Va){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||OV(o.source)};this.scheduleNavigation(a,Ra,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}qV(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ra,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=T({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(jg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=T(T({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=o?o.snapshot:this.routerState.snapshot.root;h=bb(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Cb(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=fs(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ra,null,i)}navigate(r,i={skipLocationChange:!1}){return HV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=T({},BV):i===!1?o=T({},$V):o=i,fs(r))return ub(this.currentUrlTree,r,o);let s=this.parseUrl(r);return ub(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return UV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new N(4008,!1)}function qV(t){return!(t instanceof Fa)&&!(t instanceof Va)}var gs=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new pt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Xr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:L0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(M(Je),M(Yi),ym("tabindex"),M(Kn),M(xt),M(ss))},e.\u0275dir=Se({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&R("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ea("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[$e.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Yr],skipLocationChange:[$e.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Yr],replaceUrl:[$e.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Yr],routerLink:"routerLink"},standalone:!0,features:[Om,nn]});let t=e;return t})();var GV=new V("");function $b(t,...e){return ll([{provide:Hg,multi:!0,useValue:t},[],{provide:Yi,useFactory:zV,deps:[Je]},{provide:$m,multi:!0,useFactory:WV},e.map(n=>n.\u0275providers)])}function zV(t){return t.routerState.root}function WV(){let t=w(Mn);return e=>{let n=t.get(Da);if(e!==n.components[0])return;let r=t.get(Je),i=t.get(KV);t.get(QV)===1&&r.initialNavigation(),t.get(YV,null,Q.Optional)?.setUpPreloading(),t.get(GV,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var KV=new V("",{factory:()=>new pt}),QV=new V("",{providedIn:"root",factory:()=>1});var YV=new V("");var qb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,s||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new zg;let h=o<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ZV=function(t){let e=qb(t);return Gb.encodeByteArray(e,!0)},qa=function(t){return ZV(t).replace(/\./g,"")},Kg=function(t){try{return Gb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eL=()=>XV().__FIREBASE_DEFAULTS__,tL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Kg(t[1]);return e&&JSON.parse(e)},rd=()=>{try{return eL()||tL()||nL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qg=t=>{var e,n;return(n=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zb=t=>{let e=Qg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Yg=()=>{var t;return(t=rd())===null||t===void 0?void 0:t.config},Jg=t=>{var e;return(e=rd())===null||e===void 0?void 0:e[`_${t}`]};var nd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Wb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qa(JSON.stringify(n)),qa(JSON.stringify(s)),""].join(".")}function Oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function rL(){var t;let e=(t=rd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){let t=Oe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zb(){return!rL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function id(){try{return typeof indexedDB=="object"}catch{return!1}}function Xb(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var iL="FirebaseError",Gt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar.prototype.create)}},Ar=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?oL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gt(i,a,r)}};function oL(t,e){return t.replace(sL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var sL=/\{\$([^}]+)}/g;function eC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ji(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Hb(o)&&Hb(s)){if(!Ji(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Hb(t){return t!==null&&typeof t=="object"}function Ga(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ys(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tC(t,e){let n=new Wg(t,e);return n.subscribe.bind(n)}var Wg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gg),i.error===void 0&&(i.error=Gg),i.complete===void 0&&(i.complete=Gg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function aL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gg(){}var M5=4*60*60*1e3;function Ze(t){return t&&t._delegate?t._delegate:t}var ln=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Zi="[DEFAULT]";var Zg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new nd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uL(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cL(t){return t===Zi?void 0:t}function uL(t){return t.instantiationMode==="EAGER"}var od=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Zg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var lL=[],ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ee||{}),dL={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},hL=ee.INFO,fL={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},pL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=fL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ni=class{constructor(e){this.name=e,this._logLevel=hL,this._logHandler=pL,this._userLogHandler=null,lL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var mL=(t,e)=>e.some(n=>t instanceof n),nC,rC;function gL(){return nC||(nC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yL(){return rC||(rC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var iC=new WeakMap,ey=new WeakMap,oC=new WeakMap,Xg=new WeakMap,ny=new WeakMap;function vL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Zn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&iC.set(n,t)}).catch(()=>{}),ny.set(e,t),e}function _L(t){if(ey.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ey.set(t,e)}var ty={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ey.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sC(t){ty=t(ty)}function wL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(sd(this),e,...n);return oC.set(r,e.sort?e.sort():[e]),Zn(r)}:yL().includes(t)?function(...e){return t.apply(sd(this),e),Zn(iC.get(this))}:function(...e){return Zn(t.apply(sd(this),e))}}function IL(t){return typeof t=="function"?wL(t):(t instanceof IDBTransaction&&_L(t),mL(t,gL())?new Proxy(t,ty):t)}function Zn(t){if(t instanceof IDBRequest)return vL(t);if(Xg.has(t))return Xg.get(t);let e=IL(t);return e!==t&&(Xg.set(t,e),ny.set(e,t)),e}var sd=t=>ny.get(t);function cC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Zn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Zn(s.result),c.oldVersion,c.newVersion,Zn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var EL=["get","getKey","getAll","getAllKeys","count"],DL=["put","add","delete","clear"],ry=new Map;function aC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ry.get(e))return ry.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=DL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EL.includes(n)))return;let o=function(s,...a){return f(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return ry.set(e,o),o}sC(t=>he(T({},t),{get:(e,n,r)=>aC(e,n)||t.get(e,n,r),has:(e,n)=>!!aC(e,n)||t.has(e,n)}));var oy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function bL(t){let e=t.getComponent();return e?.type==="VERSION"}var sy="@firebase/app",uC="0.10.1";var Xi=new ni("@firebase/app"),CL="@firebase/app-compat",TL="@firebase/analytics-compat",SL="@firebase/analytics",AL="@firebase/app-check-compat",ML="@firebase/app-check",xL="@firebase/auth",RL="@firebase/auth-compat",NL="@firebase/database",PL="@firebase/database-compat",kL="@firebase/functions",OL="@firebase/functions-compat",FL="@firebase/installations",VL="@firebase/installations-compat",LL="@firebase/messaging",UL="@firebase/messaging-compat",jL="@firebase/performance",BL="@firebase/performance-compat",$L="@firebase/remote-config",HL="@firebase/remote-config-compat",qL="@firebase/storage",GL="@firebase/storage-compat",zL="@firebase/firestore",WL="@firebase/firestore-compat",KL="firebase",QL="10.11.0";var ay="[DEFAULT]",YL={[sy]:"fire-core",[CL]:"fire-core-compat",[SL]:"fire-analytics",[TL]:"fire-analytics-compat",[ML]:"fire-app-check",[AL]:"fire-app-check-compat",[xL]:"fire-auth",[RL]:"fire-auth-compat",[NL]:"fire-rtdb",[PL]:"fire-rtdb-compat",[kL]:"fire-fn",[OL]:"fire-fn-compat",[FL]:"fire-iid",[VL]:"fire-iid-compat",[LL]:"fire-fcm",[UL]:"fire-fcm-compat",[jL]:"fire-perf",[BL]:"fire-perf-compat",[$L]:"fire-rc",[HL]:"fire-rc-compat",[qL]:"fire-gcs",[GL]:"fire-gcs-compat",[zL]:"fire-fst",[WL]:"fire-fst-compat","fire-js":"fire-js",[KL]:"fire-js-all"};var za=new Map,JL=new Map,cy=new Map;function lC(t,e){try{t.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ii(t){let e=t.name;if(cy.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;cy.set(e,t);for(let n of za.values())lC(n,t);for(let n of JL.values())lC(n,t);return!0}function Ka(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xn(t){return t.settings!==void 0}var ZL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new Ar("app","Firebase",ZL);var uy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}};var oi=QL;function hy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ay,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(n||(n=Yg()),!n)throw ri.create("no-options");let o=za.get(i);if(o){if(Ji(n,o.options)&&Ji(r,o.config))return o;throw ri.create("duplicate-app",{appName:i})}let s=new od(i);for(let c of cy.values())s.addComponent(c);let a=new uy(n,r,s);return za.set(i,a),a}function _s(t=ay){let e=za.get(t);if(!e&&t===ay&&Yg())return hy();if(!e)throw ri.create("no-app",{appName:t});return e}function ad(){return Array.from(za.values())}function lt(t,e,n){var r;let i=(r=YL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(a.join(" "));return}ii(new ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var XL="firebase-heartbeat-database",e2=1,Wa="firebase-heartbeat-store",iy=null;function pC(){return iy||(iy=cC(XL,e2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw ri.create("idb-open",{originalErrorMessage:t.message})})),iy}function t2(t){return f(this,null,function*(){try{let n=(yield pC()).transaction(Wa),r=yield n.objectStore(Wa).get(mC(t));return yield n.done,r}catch(e){if(e instanceof Gt)Xi.warn(e.message);else{let n=ri.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(n.message)}}})}function dC(t,e){return f(this,null,function*(){try{let r=(yield pC()).transaction(Wa,"readwrite");yield r.objectStore(Wa).put(e,mC(t)),yield r.done}catch(n){if(n instanceof Gt)Xi.warn(n.message);else{let r=ri.create("idb-set",{originalErrorMessage:n?.message});Xi.warn(r.message)}}})}function mC(t){return`${t.name}!${t.options.appId}`}var n2=1024,r2=30*24*60*60*1e3,ly=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new dy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=r2}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=hC(),{heartbeatsToSend:r,unsentEntries:i}=i2(this._heartbeatsCache.heartbeats),o=qa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function hC(){return new Date().toISOString().substring(0,10)}function i2(t,e=n2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var dy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return id()?Xb().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield t2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function fC(t){return qa(JSON.stringify({version:2,heartbeats:t})).length}function o2(t){ii(new ln("platform-logger",e=>new oy(e),"PRIVATE")),ii(new ln("heartbeat",e=>new ly(e),"PRIVATE")),lt(sy,uC,t),lt(sy,uC,"esm2017"),lt("fire-js","")}o2("");var s2="firebase",a2="10.11.0";lt(s2,a2,"app");var Qa=new _r("ANGULARFIRE2_VERSION");function gC(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var py=(t,e)=>{let n=e?[e]:ad(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},cd=class{constructor(){return py(c2)}},c2="app-check";function ws(){}var ud=class{zone;delegate;constructor(e,n=kf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},fy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ws,{},ws,ws)),n.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ld=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ud(Zone.current)),this.insideAngular=n.run(()=>new ud(Zone.current,Pf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Y(Ie))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function u2(t){return dd().ngZone.runOutsideAngular(()=>t())}function eo(t){return dd().ngZone.run(()=>t())}function l2(t){return d2(dd())(t)}function d2(t){return function(n){return n=n.lift(new fy(t.ngZone)),n.pipe(jr(t.outsideAngular),Ur(t.insideAngular))}}var h2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),eo(()=>t.apply(void 0,r))},hd=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ws,{},ws,ws))),r[o]=h2(r[o],n));let i=u2(()=>t.apply(this,r));if(!e)if(i instanceof re){let o=dd();return i.pipe(jr(o.outsideAngular),Ur(o.insideAngular))}else return eo(()=>i);return i instanceof re?i.pipe(l2):i instanceof Promise?eo(()=>new Promise((o,s)=>i.then(a=>eo(()=>o(a)),a=>eo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:eo(()=>i)};var to=class{constructor(e){return e}},Ya=class{constructor(){return ad()}};function f2(t){return t&&t.length===1?t[0]:new to(_s())}var my=new V("angularfire2._apps"),p2={provide:to,useFactory:f2,deps:[[new zn,my]]},m2={provide:Ya,deps:[[new zn,my]]};function g2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new to(r)}}var y2=(()=>{class t{constructor(n){lt("angularfire",Qa.full,"core"),lt("angularfire",Qa.full,"app"),lt("angular",ND.full,n.toString())}static \u0275fac=function(r){return new(r||t)(Y(Kr))};static \u0275mod=tn({type:t});static \u0275inj=en({providers:[p2,m2]})}return t})();function yC(t,...e){return{ngModule:y2,providers:[{provide:my,useFactory:g2(t),multi:!0,deps:[Ie,Mn,ld,...e]}]}}var vC=hd(hy,!0);function FC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var VC=FC,LC=new Ar("auth","Firebase",FC());var vd=new ni("@firebase/auth");function v2(t,...e){vd.logLevel<=ee.WARN&&vd.warn(`Auth (${oi}): ${t}`,...e)}function pd(t,...e){vd.logLevel<=ee.ERROR&&vd.error(`Auth (${oi}): ${t}`,...e)}function tr(t,...e){throw Vy(t,...e)}function no(t,...e){return Vy(t,...e)}function UC(t,e,n){let r=Object.assign(Object.assign({},VC()),{[e]:n});return new Ar("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return UC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LC.create(t,...e)}function L(t,e,...n){if(!t)throw Vy(e,...n)}function Mr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw pd(e),new Error(e)}function ci(t,e){t||Mr(e)}function _y(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _2(){return _C()==="http:"||_C()==="https:"}function _C(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function w2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_2()||Qb()||"connection"in navigator)?navigator.onLine:!0}function I2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ro=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=Kb()||Yb()}get(){return w2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ly(t,e){ci(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var _d=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var E2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var D2=new ro(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ui(o,s,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return jC(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Ga(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),_d.fetch()(BC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function jC(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},E2),e);try{let i=new wy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw fd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw fd(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw fd(t,"user-disabled",s);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw UC(t,l,u);tr(t,l)}}catch(i){if(i instanceof Gt)throw i;tr(t,"network-request-failed",{message:String(i)})}})}function Md(o,s,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield ui(t,e,n,r,i);return"mfaPendingCredential"in u&&tr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function BC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ly(t.config,i):`${t.config.apiScheme}://${i}`}function b2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var wy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(no(this.auth,"network-request-failed")),D2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function fd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=no(t,e,r);return i.customData._tokenResponse=n,i}function wC(t){return t!==void 0&&t.enterprise!==void 0}var Iy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function C2(t,e){return f(this,null,function*(){return ui(t,"GET","/v2/recaptchaConfig",oo(t,e))})}function T2(t,e){return f(this,null,function*(){return ui(t,"POST","/v1/accounts:delete",e)})}function $C(t,e){return f(this,null,function*(){return ui(t,"POST","/v1/accounts:lookup",e)})}function Ja(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Uy(t,e=!1){return f(this,null,function*(){let n=Ze(t),r=yield n.getIdToken(e),i=jy(r);L(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ja(gy(i.auth_time)),issuedAtTime:Ja(gy(i.iat)),expirationTime:Ja(gy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function gy(t){return Number(t)*1e3}function jy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Kg(n);return i?JSON.parse(i):(pd("Failed to decode base64 JWT payload"),null)}catch(i){return pd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function IC(t){let e=jy(t);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Xa(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Gt&&S2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function S2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ey=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ec=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ja(this.lastLoginAt),this.creationTime=Ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wd(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Xa(t,$C(n,{idToken:r}));L(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?HC(o.providerUserInfo):[],a=A2(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,l=c?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ec(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function By(t){return f(this,null,function*(){let e=Ze(t);yield wd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function A2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HC(t){return t.map(e=>{var{providerId:n}=e,r=Of(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function M2(t,e){return f(this,null,function*(){let n=yield jC(t,{},()=>f(this,null,function*(){let r=Ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=BC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_d.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function x2(t,e){return f(this,null,function*(){return ui(t,"POST","/v2/accounts:revokeToken",oo(t,e))})}var Za=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){L(e.length!==0,"internal-error");let n=IC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return f(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(L(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield M2(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(L(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(L(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(L(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Mr("not implemented")}};function si(t,e){L(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Is=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Of(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ey(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ec(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield Xa(this,this.stsTokenManager.getToken(this.auth,e));return L(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Uy(this,e)}reload(){return By(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield wd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(Xn(this.auth.app))return Promise.reject(ai(this.auth));let e=yield this.getIdToken();return yield Xa(this,T2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,ne=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:J,emailVerified:we,isAnonymous:it,providerData:de,stsTokenManager:ft}=n;L(J&&ft,e,"internal-error");let Un=Za.fromJSON(this.name,ft);L(typeof J=="string",e,"internal-error"),si(d,e.name),si(h,e.name),L(typeof we=="boolean",e,"internal-error"),L(typeof it=="boolean",e,"internal-error"),si(p,e.name),si(v,e.name),si(E,e.name),si(D,e.name),si(x,e.name),si(ne,e.name);let wi=new t({uid:J,auth:e,email:h,emailVerified:we,displayName:d,isAnonymous:it,photoURL:v,phoneNumber:p,tenantId:E,stsTokenManager:Un,createdAt:x,lastLoginAt:ne});return de&&Array.isArray(de)&&(wi.providerData=de.map(Ro=>Object.assign({},Ro))),D&&(wi._redirectEventId=D),wi}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new Za;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return f(this,null,function*(){let i=n.users[0];L(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?HC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Za;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ec(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var EC=new Map;function xr(t){ci(t instanceof Function,"Expected a class definition");let e=EC.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EC.set(t,e),e)}var R2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Dy=R2;function md(t,e,n){return`firebase:${t}:${e}:${n}`}var Id=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=md(this.userKey,i.apiKey,o),this.fullPersistenceKey=md("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Is._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(xr(Dy),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||xr(Dy),s=md(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(s);if(l){let d=Is._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,r))})}};function DC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KC(e))return"Blackberry";if(QC(e))return"Webos";if($y(e))return"Safari";if((e.includes("chrome/")||GC(e))&&!e.includes("edge/"))return"Chrome";if(WC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function qC(t=Oe()){return/firefox\//i.test(t)}function $y(t=Oe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GC(t=Oe()){return/crios\//i.test(t)}function zC(t=Oe()){return/iemobile/i.test(t)}function WC(t=Oe()){return/android/i.test(t)}function KC(t=Oe()){return/blackberry/i.test(t)}function QC(t=Oe()){return/webos/i.test(t)}function xd(t=Oe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N2(t=Oe()){var e;return xd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P2(){return Jb()&&document.documentMode===10}function YC(t=Oe()){return xd(t)||WC(t)||QC(t)||KC(t)||/windows phone/i.test(t)||zC(t)}function k2(){try{return!!(window&&window!==window.top)}catch{return!1}}function JC(t,e=[]){let n;switch(t){case"Browser":n=DC(Oe());break;case"Worker":n=`${DC(Oe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oi}/${r}`}var by=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function O2(n){return f(this,arguments,function*(t,e={}){return ui(t,"GET","/v2/passwordPolicy",oo(t,e))})}var F2=6,Cy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:F2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Ty=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ed(this),this.idTokenSubscription=new Ed(this),this.beforeStateQueue=new by(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Id.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return f(this,null,function*(){try{let n=yield $C(this,{idToken:e}),r=yield Is._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;if(Xn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield wd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=I2()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){if(Xn(this.app))return Promise.reject(ai(this));let n=e?Ze(e):null;return n&&L(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return Xn(this.app)?Promise.reject(ai(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Xn(this.app)?Promise.reject(ai(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(xr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield O2(this),n=new Cy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ar("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield x2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&xr(e)||this._popupRedirectResolver;L(n,this,"argument-error"),this.redirectPersistenceManager=yield Id.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(L(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&v2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Es(t){return Ze(t)}var Ed=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=tC(n=>this.observer=n)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Rd={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V2(t){Rd=t}function ZC(t){return Rd.loadJS(t)}function L2(){return Rd.recaptchaEnterpriseScript}function U2(){return Rd.gapiScript}function XC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var j2="recaptcha-enterprise",B2="NO_RECAPTCHA",Sy=class{constructor(e){this.type=j2,this.auth=Es(e)}verify(e="verify",n=!1){return f(this,null,function*(){function r(o){return f(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>f(this,null,function*(){C2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Iy(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;wC(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(B2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&wC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=L2();c.length!==0&&(c+=a),ZC(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function bC(t,e,n,r=!1){return f(this,null,function*(){let i=new Sy(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function CC(t,e,n,r){return f(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield bC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>f(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield bC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Hy(t,e){let n=Ka(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Ji(o,e??{}))return i;tr(i,"already-initialized")}return n.initialize({options:e})}function $2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function qy(t,e,n){let r=Es(t);L(r._canInitEmulator,r,"emulator-config-failed"),L(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=eT(e),{host:s,port:a}=H2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||q2()}function eT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H2(t){let e=eT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:TC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:TC(s)}}}function TC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function q2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var tc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}};function G2(t,e){return f(this,null,function*(){return ui(t,"POST","/v1/accounts:signUp",e)})}function z2(t,e){return f(this,null,function*(){return Md(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))})}function W2(t,e){return f(this,null,function*(){return Md(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))})}function K2(t,e){return f(this,null,function*(){return Md(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))})}var nc=class t extends tc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CC(e,n,"signInWithPassword",z2);case"emailLink":return W2(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}})}_linkToIdToken(e,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CC(e,r,"signUpPassword",G2);case"emailLink":return K2(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function yy(t,e){return f(this,null,function*(){return Md(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))})}function Q2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y2(t){let e=ys(vs(t)).link,n=e?ys(vs(e)).deep_link_id:null,r=ys(vs(t)).deep_link_id;return(r?ys(vs(r)).link:null)||r||n||e||t}var Dd=class t{constructor(e){var n,r,i,o,s,a;let c=ys(vs(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=Q2((i=c.mode)!==null&&i!==void 0?i:null);L(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Y2(e);try{return new t(n)}catch{return null}}};var tT=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return nc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Dd.parseLink(r);return L(i,"argument-error"),nc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),bd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ay=class extends bd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var rc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let o=yield Is._fromIdTokenResponse(e,r,i),s=SC(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=SC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function SC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var My=class t extends Gt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function nT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?My._fromErrorAndOperation(t,o,e,r):o})}function J2(t,e,n=!1){return f(this,null,function*(){let r=yield Xa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return rc._forOperation(t,"link",r)})}function Z2(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t;if(Xn(r.app))return Promise.reject(ai(r));let i="reauthenticate";try{let o=yield Xa(t,nT(r,i,e,t),n);L(o.idToken,r,"internal-error");let s=jy(o.idToken);L(s,r,"internal-error");let{sub:a}=s;return L(t.uid===a,r,"user-mismatch"),rc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&tr(r,"user-mismatch"),o}})}function rT(t,e,n=!1){return f(this,null,function*(){if(Xn(t.app))return Promise.reject(ai(t));let r="signIn",i=yield nT(t,r,e),o=yield rc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Gy(t,e){return f(this,null,function*(){return rT(Es(t),e)})}function X2(t){return f(this,null,function*(){let e=Es(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Nd(t,e,n){return Xn(t.app)?Promise.reject(ai(t)):Gy(Ze(t),tT.credential(e,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&X2(t),r}))}function zy(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function Wy(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}var Cd="__sak";var Td=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cd,"1"),this.storage.removeItem(Cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function eU(){let t=Oe();return $y(t)||xd(t)}var tU=1e3,nU=10,rU=(()=>{class t extends Td{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=eU()&&k2(),this.fallbackToPolling=YC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);P2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,nU):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},tU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield Vr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield Vr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield Vr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),iT=rU;var iU=(()=>{class t extends Td{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ky=iU;function oU(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var sU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,s)})),u=yield oU(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function oT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var xy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=oT("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function er(){return window}function aU(t){er().location.href=t}function sT(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}function cU(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function uU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lU(){return sT()?self:null}var aT="firebaseLocalStorageDb",dU=1,Sd="firebaseLocalStorage",cT="fbase_key",io=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Pd(t,e){return t.transaction([Sd],e?"readwrite":"readonly").objectStore(Sd)}function hU(){let t=indexedDB.deleteDatabase(aT);return new io(t).toPromise()}function Ry(){let t=indexedDB.open(aT,dU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Sd,{keyPath:cT})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Sd)?e(r):(r.close(),yield hU(),e(yield Ry()))}))})}function AC(t,e,n){return f(this,null,function*(){let r=Pd(t,!0).put({[cT]:e,value:n});return new io(r).toPromise()})}function fU(t,e){return f(this,null,function*(){let n=Pd(t,!1).get(e),r=yield new io(n).toPromise();return r===void 0?null:r.value})}function MC(t,e){let n=Pd(t,!0).delete(e);return new io(n).toPromise()}var pU=800,mU=3,gU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield Ry(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>mU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return sT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=sU._getInstance(lU()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield cU(),!this.activeServiceWorker)return;this.sender=new xy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||uU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ry();return yield AC(n,Cd,"1"),yield MC(n,Cd),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>AC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>fU(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>MC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(o=>{let s=Pd(o,!1).getAll();return new io(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),pU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),uT=gU;var w8=XC("rcb"),I8=new ro(3e4,6e4);function yU(t,e){return e?xr(e):(L(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ic=class extends tc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function vU(t){return rT(t.auth,new ic(t),t.bypassAuthState)}function _U(t){let{auth:e,user:n}=t;return L(n,e,"internal-error"),Z2(n,new ic(t),t.bypassAuthState)}function wU(t){return f(this,null,function*(){let{auth:e,user:n}=t;return L(n,e,"internal-error"),J2(n,new ic(t),t.bypassAuthState)})}var Ny=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vU;case"linkViaPopup":case"linkViaRedirect":return wU;case"reauthViaPopup":case"reauthViaRedirect":return _U;default:tr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var E8=new ro(2e3,1e4);var IU="pendingRedirect",gd=new Map,Py=class t extends Ny{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=gd.get(this.auth._key());if(!e){try{let r=(yield EU(this.resolver,this.auth))?yield Vr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return Vr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Vr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function EU(t,e){return f(this,null,function*(){let n=CU(e),r=bU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function DU(t,e){gd.set(t._key(),e)}function bU(t){return xr(t._redirectPersistence)}function CU(t){return md(IU,t.config.apiKey,t.name)}function TU(t,e,n=!1){return f(this,null,function*(){if(Xn(t.app))return Promise.reject(ai(t));let r=Es(t),i=yU(r,e),s=yield new Py(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var SU=10*60*1e3,ky=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(no(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SU&&this.cachedEventUids.clear(),this.cachedEventUids.has(xC(e))}saveEventToCache(e){this.cachedEventUids.add(xC(e)),this.lastProcessedEventTime=Date.now()}};function xC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function AU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lT(t);default:return!1}}function MU(n){return f(this,arguments,function*(t,e={}){return ui(t,"GET","/v1/projects",e)})}var xU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RU=/^https?/;function NU(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield MU(t);for(let n of e)try{if(PU(n))return}catch{}tr(t,"unauthorized-domain")})}function PU(t){let e=_y(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!RU.test(n))return!1;if(xU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var kU=new ro(3e4,6e4);function RC(){let t=er().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OU(t){return new Promise((e,n)=>{var r,i,o;function s(){RC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RC(),n(no(t,"network-request-failed"))},timeout:kU.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=er().gapi)===null||o===void 0)&&o.load)s();else{let a=XC("iframefcb");return er()[a]=()=>{gapi.load?s():n(no(t,"network-request-failed"))},ZC(`${U2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw yd=null,e})}var yd=null;function FU(t){return yd=yd||OU(t),yd}var VU=new ro(5e3,15e3),LU="__/auth/iframe",UU="emulator/auth/iframe",jU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $U(t){let e=t.config;L(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ly(e,UU):`https://${t.config.authDomain}/${LU}`,r={apiKey:e.apiKey,appName:t.name,v:oi},i=BU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ga(r).slice(1)}`}function HU(t){return f(this,null,function*(){let e=yield FU(t),n=er().gapi;return L(n,t,"internal-error"),e.open({where:document.body,url:$U(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jU,dontclear:!0},r=>new Promise((i,o)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=no(t,"network-request-failed"),a=er().setTimeout(()=>{o(s)},VU.get());function c(){er().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var qU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GU=500,zU=600,WU="_blank",KU="http://localhost",Ad=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function QU(t,e,n,r=GU,i=zU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},qU),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Oe().toLowerCase();n&&(a=GC(u)?WU:n),qC(u)&&(e=e||KU,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(N2(u)&&a!=="_self")return YU(e||"",a),new Ad(null);let d=window.open(e||"",a,l);L(d,t,"popup-blocked");try{d.focus()}catch{}return new Ad(d)}function YU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var JU="__/auth/handler",ZU="emulator/auth/handler",XU=encodeURIComponent("fac");function NC(t,e,n,r,i,o){return f(this,null,function*(){L(t.config.authDomain,t,"auth-domain-config-required"),L(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oi,eventId:i};if(e instanceof bd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",eC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof Ay){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${XU}=${encodeURIComponent(c)}`:"";return`${ej(t)}?${Ga(a).slice(1)}${u}`})}function ej({config:t}){return t.emulator?Ly(t,ZU):`https://${t.authDomain}/${JU}`}var vy="webStorageSupport",Oy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ky,this._completeRedirectFn=TU,this._overrideRedirectResult=DU}_openPopup(e,n,r,i){return f(this,null,function*(){var o;ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield NC(e,n,r,_y(),i);return QU(e,s,oT())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let o=yield NC(e,n,r,_y(),i);return aU(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ci(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield HU(e),r=new ky(e);return n.register("authEvent",i=>(L(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vy,{type:vy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[vy];s!==void 0&&n(!!s),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YC()||$y()||xd()}},dT=Oy;var PC="@firebase/auth",kC="1.7.1";var Fy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function tj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nj(t){ii(new ln("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;L(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JC(t)},u=new Ty(r,i,o,c);return $2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ii(new ln("auth-internal",e=>{let n=Es(e.getProvider("auth").getImmediate());return(r=>new Fy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lt(PC,kC,tj(t)),lt(PC,kC,"esm2017")}var rj=5*60,ij=Jg("authIdTokenMaxAge")||rj,OC=null,oj=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ij)return;let i=n?.token;OC!==i&&(OC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Qy(t=_s()){let e=Ka(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Hy(t,{popupRedirectResolver:dT,persistence:[uT,iT,Ky]}),r=Jg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=oj(o.toString());Wy(n,s,()=>s(n.currentUser)),zy(n,a=>s(a))}}let i=Qg("auth");return i&&qy(n,`http://${i}`),n}function sj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}V2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=no("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",sj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nj("Browser");var hT="auth",Nn=class{constructor(e){return e}},Yy=class{constructor(){return py(hT)}};var Jy=new V("angularfire2.auth-instances");function Zj(t,e){let n=gC(hT,t,e);return n&&new Nn(n)}function Xj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Nn(r)}}var eB={provide:Yy,deps:[[new zn,Jy]]},tB={provide:Nn,useFactory:Zj,deps:[[new zn,Jy],to]},nB=(()=>{class t{constructor(){lt("angularfire",Qa.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=tn({type:t});static \u0275inj=en({providers:[tB,eB]})}return t})();function fT(t,...e){return{ngModule:nB,providers:[{provide:Jy,useFactory:Xj(t),multi:!0,deps:[Ie,Mn,ld,Ya,[new zn,cd],...e]}]}}var pT=hd(Qy,!0);var DT=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(M(Kn),M(xt))},e.\u0275dir=Se({type:e});let t=e;return t})(),cc=(()=>{let e=class e extends DT{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Er(e)))(o||e)}})(),e.\u0275dir=Se({type:e,features:[Et]});let t=e;return t})(),so=new V("");var rB={provide:so,useExisting:Ut(()=>dn),multi:!0};function iB(){let t=Tr()?Tr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var oB=new V(""),dn=(()=>{let e=class e extends DT{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!iB())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(M(Kn),M(xt),M(oB,8))},e.\u0275dir=Se({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&R("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[xn([rB]),Et]});let t=e;return t})();function li(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function bT(t){return t!=null&&typeof t.length=="number"}var uc=new V(""),Hd=new V(""),sB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pn=class{static min(e){return aB(e)}static max(e){return cB(e)}static required(e){return CT(e)}static requiredTrue(e){return uB(e)}static email(e){return lB(e)}static minLength(e){return dB(e)}static maxLength(e){return hB(e)}static pattern(e){return fB(e)}static nullValidator(e){return Od(e)}static compose(e){return RT(e)}static composeAsync(e){return NT(e)}};function aB(t){return e=>{if(li(e.value)||li(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function cB(t){return e=>{if(li(e.value)||li(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function CT(t){return li(t.value)?{required:!0}:null}function uB(t){return t.value===!0?null:{required:!0}}function lB(t){return li(t.value)||sB.test(t.value)?null:{email:!0}}function dB(t){return e=>li(e.value)||!bT(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function hB(t){return e=>bT(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function fB(t){if(!t)return Od;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(li(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Od(t){return null}function TT(t){return t!=null}function ST(t){return Hi(t)?Me(t):t}function AT(t){let e={};return t.forEach(n=>{e=n!=null?T(T({},e),n):e}),Object.keys(e).length===0?null:e}function MT(t,e){return e.map(n=>n(t))}function pB(t){return!t.validate}function xT(t){return t.map(e=>pB(e)?e:n=>e.validate(n))}function RT(t){if(!t)return null;let e=t.filter(TT);return e.length==0?null:function(n){return AT(MT(n,e))}}function Xy(t){return t!=null?RT(xT(t)):null}function NT(t){if(!t)return null;let e=t.filter(TT);return e.length==0?null:function(n){let r=MT(n,e).map(ST);return Lf(r).pipe(X(AT))}}function ev(t){return t!=null?NT(xT(t)):null}function mT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function PT(t){return t._rawValidators}function kT(t){return t._rawAsyncValidators}function Zy(t){return t?Array.isArray(t)?t:[t]:[]}function Fd(t,e){return Array.isArray(t)?t.includes(e):t===e}function gT(t,e){let n=Zy(e);return Zy(t).forEach(i=>{Fd(n,i)||n.push(i)}),n}function yT(t,e){return Zy(e).filter(n=>!Fd(t,n))}var Vd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ev(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Rr=class extends Vd{get formDirective(){return null}get path(){return null}},di=class extends Vd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ld=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},mB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},EK=he(T({},mB),{"[class.ng-submitted]":"isSubmitted"}),Nt=(()=>{let e=class e extends Ld{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(M(di,2))},e.\u0275dir=Se({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Dl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Et]});let t=e;return t})(),Pt=(()=>{let e=class e extends Ld{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(M(Rr,10))},e.\u0275dir=Se({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Dl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Et]});let t=e;return t})();var oc="VALID",kd="INVALID",Ds="PENDING",sc="DISABLED";function OT(t){return(qd(t)?t.validators:t)||null}function gB(t){return Array.isArray(t)?Xy(t):t||null}function FT(t,e){return(qd(e)?e.asyncValidators:t)||null}function yB(t){return Array.isArray(t)?ev(t):t||null}function qd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function vB(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new N(1e3,"");if(!r[n])throw new N(1001,"")}function _B(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new N(1002,"")})}var Ud=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===oc}get invalid(){return this.status===kd}get pending(){return this.status==Ds}get disabled(){return this.status===sc}get enabled(){return this.status!==sc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yT(e,this._rawAsyncValidators))}hasValidator(e){return Fd(this._rawValidators,e)}hasAsyncValidator(e){return Fd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ds,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=sc,this.errors=null,this._forEachChild(r=>{r.disable(he(T({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=oc,this._forEachChild(r=>{r.enable(he(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oc||this.status===Ds)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sc:oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ds,this._hasOwnPendingAsyncValidator=!0;let n=ST(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?sc:this.errors?kd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ds)?Ds:this._anyControlsHaveStatus(kd)?kd:oc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=gB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=yB(this._rawAsyncValidators)}},et=class extends Ud{constructor(e,n,r){super(OT(n),FT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){_B(this,!0,e),Object.keys(e).forEach(r=>{vB(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var bs=new V("CallSetDisabledState",{providedIn:"root",factory:()=>lc}),lc="always";function VT(t,e){return[...e.path,t]}function jd(t,e,n=lc){tv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),IB(t,e),DB(t,e),EB(t,e),wB(t,e)}function vT(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$d(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Bd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function wB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function tv(t,e){let n=PT(t);e.validator!==null?t.setValidators(mT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=kT(t);e.asyncValidator!==null?t.setAsyncValidators(mT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Bd(e._rawValidators,i),Bd(e._rawAsyncValidators,i)}function $d(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=PT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=kT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Bd(e._rawValidators,r),Bd(e._rawAsyncValidators,r),n}function IB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LT(t,e)})}function EB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function DB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function UT(t,e){t==null,tv(t,e)}function bB(t,e){return $d(t,e)}function jT(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function CB(t){return Object.getPrototypeOf(t.constructor)===cc}function BT(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function $T(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===dn?n=o:CB(o)?r=o:i=o}),i||r||n||null}function TB(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var SB={provide:Rr,useExisting:Ut(()=>nv)},ac=Promise.resolve(),nv=(()=>{let e=class e extends Rr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ye,this.form=new et({},Xy(r),ev(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ac.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),jd(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ac.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ac.then(()=>{let i=this._findContainer(r.path),o=new et({});UT(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ac.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ac.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,BT(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(M(uc,10),M(Hd,10),M(bs,8))},e.\u0275dir=Se({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&R("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[$e.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xn([SB]),Et]});let t=e;return t})();function _T(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function wT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var pe=class extends Ud{constructor(e=null,n,r){super(OT(n),FT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(wT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_T(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_T(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){wT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var AB=t=>t instanceof pe;var MB={provide:di,useExisting:Ut(()=>rv)},IT=Promise.resolve(),rv=(()=>{let e=class e extends di{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new pe,this._registered=!1,this.name="",this.update=new Ye,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=$T(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),jT(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){jd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){IT.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Yr(i);IT.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?VT(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(M(Rr,9),M(uc,10),M(Hd,10),M(so,10),M(qi,8),M(bs,8))},e.\u0275dir=Se({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[$e.None,"disabled","isDisabled"],model:[$e.None,"ngModel","model"],options:[$e.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xn([MB]),Et,nn]});let t=e;return t})(),kt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Se({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),xB={provide:so,useExisting:Ut(()=>iv),multi:!0},iv=(()=>{let e=class e extends cc{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Er(e)))(o||e)}})(),e.\u0275dir=Se({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&R("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[xn([xB]),Et]});let t=e;return t})(),RB={provide:so,useExisting:Ut(()=>ov),multi:!0};var NB=(()=>{let e=class e{constructor(){this._accessors=[]}add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r){this._accessors.splice(i,1);return}}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return r[0].control?r[0]._parent===i._control._parent&&r[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ov=(()=>{let e=class e extends cc{constructor(r,i,o,s){super(r,i),this._registry=o,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=w(bs,{optional:!0})??lc}ngOnInit(){this._control=this._injector.get(di),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}setDisabledState(r){(this.setDisabledStateFired||r||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",r),this.setDisabledStateFired=!0}fireUncheck(r){this.writeValue(r)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)(M(Kn),M(xt),M(NB),M(Mn))},e.\u0275dir=Se({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&R("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[xn([RB]),Et]});let t=e;return t})();var HT=new V("");var PB={provide:Rr,useExisting:Ut(()=>zt)},zt=(()=>{let e=class e extends Rr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($d(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return jd(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){vT(r.control||null,r,!1),TB(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,BT(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(vT(i||null,r),AB(o)&&(jd(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);UT(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&bB(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tv(this.form,this),this._oldForm&&$d(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(M(uc,10),M(Hd,10),M(bs,8))},e.\u0275dir=Se({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&R("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[$e.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xn([PB]),Et,nn]});let t=e;return t})();var kB={provide:di,useExisting:Ut(()=>Wt)},Wt=(()=>{let e=class e extends di{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ye,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=$T(this,s)}ngOnChanges(r){this._added||this._setUpControl(),jT(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return VT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(M(Rr,13),M(uc,10),M(Hd,10),M(so,10),M(HT,8))},e.\u0275dir=Se({type:e,selectors:[["","formControlName",""]],inputs:{name:[$e.None,"formControlName","name"],isDisabled:[$e.None,"disabled","isDisabled"],model:[$e.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[xn([kB]),Et,nn]});let t=e;return t})(),OB={provide:so,useExisting:Ut(()=>hi),multi:!0};function qT(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function FB(t){return t.split(":")[0]}var hi=(()=>{let e=class e extends cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=qT(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=FB(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Er(e)))(o||e)}})(),e.\u0275dir=Se({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&R("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[xn([OB]),Et]});let t=e;return t})(),Cs=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(qT(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(M(xt),M(Kn),M(hi,9))},e.\u0275dir=Se({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),VB={provide:so,useExisting:Ut(()=>GT),multi:!0};function ET(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function LB(t){return t.split(":")[0]}var GT=(()=>{let e=class e extends cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let u=a[c],l=this._getOptionValue(u.value);o.push(l)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let l=this._getOptionValue(u.value);o.push(l)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=LB(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Er(e)))(o||e)}})(),e.\u0275dir=Se({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&R("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[xn([VB]),Et]});let t=e;return t})(),Ts=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(ET(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(ET(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(M(xt),M(Kn),M(GT,9))},e.\u0275dir=Se({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var UB=(()=>{let e=class e{constructor(){this._validator=Od}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Od,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Se({type:e,features:[nn]});let t=e;return t})();var jB={provide:uc,useExisting:Ut(()=>sv),multi:!0};var sv=(()=>{let e=class e extends UB{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Yr,this.createValidator=r=>CT}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Er(e)))(o||e)}})(),e.\u0275dir=Se({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Ea("required",o._enabled?"":null)},inputs:{required:"required"},features:[xn([jB]),Et]});let t=e;return t})();var zT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({});let t=e;return t})();var WT=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:bs,useValue:r.callSetDisabledState??lc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({imports:[zT]});let t=e;return t})(),hn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:HT,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:bs,useValue:r.callSetDisabledState??lc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tn({type:e}),e.\u0275inj=en({imports:[zT]});let t=e;return t})();var KT=(()=>{let e=class e{constructor(){this.loginForm=new et({email:new pe("",Pn.required),password:new pe("",Pn.required)}),this.firebaseAuth=w(Nn),this.router=w(Je)}onSubmit(){console.log(this.loginForm.value);let r=this.loginForm.getRawValue();this.login(r.email,r.password).subscribe({next:()=>{this.router.navigateByUrl("/")},error:i=>{console.log(i),alert("Incorrect Email or Password!")}})}login(r,i){let o=Nd(this.firebaseAuth,r,i).then(()=>{});return Me(o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-login"]],standalone:!0,features:[be],decls:17,vars:1,consts:[[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-md-6"],[1,"border","p-4",3,"ngSubmit","formGroup"],[1,"text-center","mb-4"],[1,"mb-3"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["id","password","type","password","formControlName","password","required","",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),R("ngSubmit",function(){return o.onSubmit()}),g(4,"h2",4),y(5,"Login"),m(),g(6,"div",5)(7,"label",6),y(8,"Email"),m(),O(9,"input",7),m(),g(10,"div",5)(11,"label",8),y(12,"Password"),m(),O(13,"input",9),m(),g(14,"div",10)(15,"button",11),y(16,"Submit"),m()()()()()()),i&2&&(A(3),G("formGroup",o.loginForm))},dependencies:[hn,kt,dn,Nt,Pt,sv,zt,Wt]});let t=e;return t})();var BB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},On={},b,Av=Av||{},j=BB||self;function ih(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function bc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $B(t){return Object.prototype.hasOwnProperty.call(t,av)&&t[av]||(t[av]=++HB)}var av="closure_uid_"+(1e9*Math.random()>>>0),HB=0;function qB(t,e,n){return t.call.apply(t.bind,arguments)}function GB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function mt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?mt=qB:mt=GB,mt.apply(null,arguments)}function Gd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function fi(){this.s=this.s,this.o=this.o}var zB=0;fi.prototype.s=!1;fi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),zB!=0)&&$B(this)};fi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var aS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Mv(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function QT(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(ih(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var WB=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};j.addEventListener("test",n,e),j.removeEventListener("test",n,e)}catch{}return t}();function gc(t){return/^[\s\xa0]*$/.test(t)}function oh(){var t=j.navigator;return t&&(t=t.userAgent)?t:""}function nr(t){return oh().indexOf(t)!=-1}function xv(t){return xv[" "](t),t}xv[" "]=function(){};function KB(t,e){var n=F$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var QB=nr("Opera"),xs=nr("Trident")||nr("MSIE"),cS=nr("Edge"),hv=cS||xs,uS=nr("Gecko")&&!(oh().toLowerCase().indexOf("webkit")!=-1&&!nr("Edge"))&&!(nr("Trident")||nr("MSIE"))&&!nr("Edge"),YB=oh().toLowerCase().indexOf("webkit")!=-1&&!nr("Edge");function lS(){var t=j.document;return t?t.documentMode:void 0}var fv;e:{if(zd="",Wd=function(){var t=oh();if(uS)return/rv:([^\);]+)(\)|;)/.exec(t);if(cS)return/Edge\/([\d\.]+)/.exec(t);if(xs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(YB)return/WebKit\/(\S+)/.exec(t);if(QB)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Wd&&(zd=Wd?Wd[1]:""),xs&&(Kd=lS(),Kd!=null&&Kd>parseFloat(zd))){fv=String(Kd);break e}fv=zd}var zd,Wd,Kd,pv;j.document&&xs?(cv=lS(),pv=cv||parseInt(fv,10)||void 0):pv=void 0;var cv,JB=pv;function yc(t,e){if(gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(uS){e:{try{xv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ZB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&yc.$.h.call(this)}}nt(yc,gt);var ZB={2:"touch",3:"pen",4:"mouse"};yc.prototype.h=function(){yc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cc="closure_listenable_"+(1e6*Math.random()|0),XB=0;function e$(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++XB,this.fa=this.ia=!1}function sh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Rv(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function t$(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function dS(t){let e={};for(let n in t)e[n]=t[n];return e}var YT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<YT.length;o++)n=YT[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ah(t){this.src=t,this.g={},this.h=0}ah.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=gv(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new e$(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function mv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=aS(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(sh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function gv(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Nv="closure_lm_"+(1e6*Math.random()|0),uv={};function fS(t,e,n,r,i){if(r&&r.once)return mS(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fS(t,e[o],n,r,i);return null}return n=Ov(n),t&&t[Cc]?t.O(e,n,bc(r)?!!r.capture:!!r,i):pS(t,e,n,!1,r,i)}function pS(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=bc(i)?!!i.capture:!!i,a=kv(t);if(a||(t[Nv]=a=new ah(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=n$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)WB||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function n$(){function t(n){return e.call(t.src,t.listener,n)}let e=r$;return t}function mS(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)mS(t,e[o],n,r,i);return null}return n=Ov(n),t&&t[Cc]?t.P(e,n,bc(r)?!!r.capture:!!r,i):pS(t,e,n,!0,r,i)}function gS(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gS(t,e[o],n,r,i);else r=bc(r)?!!r.capture:!!r,n=Ov(n),t&&t[Cc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=gv(o,n,r,i),-1<n&&(sh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=kv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gv(e,n,r,i)),(n=-1<t?e[t]:null)&&Pv(n))}function Pv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Cc])mv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kv(e))?(mv(n,t),n.h==0&&(n.src=null,e[Nv]=null)):sh(t)}}}function yS(t){return t in uv?uv[t]:uv[t]="on"+t}function r$(t,e){if(t.fa)t=!0;else{e=new yc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Pv(t),t=n.call(r,e)}return t}function kv(t){return t=t[Nv],t instanceof ah?t:null}var lv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ov(t){return typeof t=="function"?t:(t[lv]||(t[lv]=function(e){return t.handleEvent(e)}),t[lv])}function tt(){fi.call(this),this.i=new ah(this),this.S=this,this.J=null}nt(tt,fi);tt.prototype[Cc]=!0;tt.prototype.removeEventListener=function(t,e,n,r){gS(this,t,e,n,r)};function ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new gt(e,t);else if(e instanceof gt)e.target=e.target||t;else{var i=e;e=new gt(r,t),hS(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Qd(s,r,!0,e)&&i}if(s=e.g=t,i=Qd(s,r,!0,e)&&i,i=Qd(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Qd(s,r,!1,e)&&i}tt.prototype.N=function(){if(tt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sh(n[r]);delete t.g[e],t.h--}}this.J=null};tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};tt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&mv(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Fv=j.JSON.stringify,yv=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function i$(){var t=Vv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var vv=class{constructor(){this.h=this.g=null}add(e,n){let r=vS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},vS=new yv(()=>new _v,t=>t.reset()),_v=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function o$(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function s$(t){j.setTimeout(()=>{throw t},0)}var vc,_c=!1,Vv=new vv,_S=()=>{let t=j.Promise.resolve(void 0);vc=()=>{t.then(a$)}},a$=()=>{for(var t;t=i$();){try{t.h.call(t.g)}catch(n){s$(n)}var e=vS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}_c=!1};function ch(t,e){tt.call(this),this.h=t||1,this.g=e||j,this.j=mt(this.qb,this),this.l=Date.now()}nt(ch,tt);b=ch.prototype;b.ga=!1;b.T=null;b.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ht(this,"tick"),this.ga&&(Lv(this),this.start()))}};b.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Lv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}b.N=function(){ch.$.N.call(this),Lv(this),delete this.g};function Uv(t,e,n){if(typeof t=="function")n&&(t=mt(t,n));else if(t&&typeof t.handleEvent=="function")t=mt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:j.setTimeout(t,e||0)}function wS(t){t.g=Uv(()=>{t.g=null,t.i&&(t.i=!1,wS(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var wv=class extends fi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wS(this)}N(){super.N(),this.g&&(j.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function wc(t){fi.call(this),this.h=t,this.g={}}nt(wc,fi);var JT=[];function IS(t,e,n,r){Array.isArray(n)||(n&&(JT[0]=n.toString()),n=JT);for(var i=0;i<n.length;i++){var o=fS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function ES(t){Rv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Pv(e)},t),t.g={}}wc.prototype.N=function(){wc.$.N.call(this),ES(this)};wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function uh(){this.g=!0}uh.prototype.Ea=function(){this.g=!1};function c$(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+u+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function u$(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function As(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+d$(t,n)+(r?" "+r:"")})}function l$(t,e){t.info(function(){return"TIMEOUT: "+e})}uh.prototype.info=function(){};function d$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Fv(n)}catch{return e}}var ho={},ZT=null;function lh(){return ZT=ZT||new tt}ho.Ta="serverreachability";function DS(t){gt.call(this,ho.Ta,t)}nt(DS,gt);function Ic(t){let e=lh();ht(e,new DS(e))}ho.STAT_EVENT="statevent";function bS(t,e){gt.call(this,ho.STAT_EVENT,t),this.stat=e}nt(bS,gt);function Ct(t){let e=lh();ht(e,new bS(e,t))}ho.Ua="timingevent";function CS(t,e){gt.call(this,ho.Ua,t),this.size=e}nt(CS,gt);function Tc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return j.setTimeout(function(){t()},e)}var dh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},TS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jv(){}jv.prototype.h=null;function XT(t){return t.h||(t.h=t.i())}function SS(){}var Sc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bv(){gt.call(this,"d")}nt(Bv,gt);function $v(){gt.call(this,"c")}nt($v,gt);var Iv;function hh(){}nt(hh,jv);hh.prototype.g=function(){return new XMLHttpRequest};hh.prototype.i=function(){return{}};Iv=new hh;function Ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new wc(this),this.P=h$,t=hv?125:void 0,this.V=new ch(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new AS}function AS(){this.i=null,this.g="",this.h=!1}var h$=45e3,MS={},Ev={};b=Ac.prototype;b.setTimeout=function(t){this.P=t};function Dv(t,e,n){t.L=1,t.A=ph(Pr(e)),t.u=n,t.S=!0,xS(t,null)}function xS(t,e){t.G=Date.now(),Mc(t),t.B=Pr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),LS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new AS,t.g=oA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new wv(mt(t.Pa,t,t.g),t.O)),IS(t.U,t.g,"readystatechange",t.nb),e=t.I?dS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ic(),c$(t.j,t.v,t.B,t.m,t.W,t.u)}b.nb=function(t){t=t.target;let e=this.M;e&&rr(t)==3?e.l():this.Pa(t)};b.Pa=function(t){try{if(t==this.g)e:{let l=rr(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||hv||this.g&&(this.h.h||this.g.ja()||rS(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Ic(3):Ic(2)),fh(this);var n=this.g.da();this.ca=n;t:if(RS(this)){var r=rS(this.g);t="";var i=r.length,o=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){co(this),mc(this);var s="";break t}this.h.i=new j.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,u$(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gc(a)){var u=a;break t}}u=null}if(n=u)As(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bv(this,n);else{this.i=!1,this.s=3,Ct(12),co(this),mc(this);break e}}this.S?(NS(this,l,s),hv&&this.i&&l==3&&(IS(this.U,this.V,"tick",this.mb),this.V.start())):(As(this.j,this.m,s,null),bv(this,s)),l==4&&co(this),this.i&&!this.J&&(l==4?tA(this.l,this):(this.i=!1,Mc(this)))}else P$(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),co(this),mc(this)}}}catch{}finally{}};function RS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function NS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=f$(t,n),i==Ev){e==4&&(t.s=4,Ct(14),r=!1),As(t.j,t.m,null,"[Incomplete Response]");break}else if(i==MS){t.s=4,Ct(15),As(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else As(t.j,t.m,i,null),bv(t,i);RS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ct(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kv(e),e.M=!0,Ct(11))):(As(t.j,t.m,n,"[Invalid Chunked Response]"),co(t),mc(t))}b.mb=function(){if(this.g){var t=rr(this.g),e=this.g.ja();this.o<e.length&&(fh(this),NS(this,t,e),this.i&&t!=4&&Mc(this))}};function f$(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ev:(n=Number(e.substring(n,r)),isNaN(n)?MS:(r+=1,r+n>e.length?Ev:(e=e.slice(r,r+n),t.o=r+n,e)))}b.cancel=function(){this.J=!0,co(this)};function Mc(t){t.Y=Date.now()+t.P,PS(t,t.P)}function PS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Tc(mt(t.lb,t),e)}function fh(t){t.C&&(j.clearTimeout(t.C),t.C=null)}b.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(l$(this.j,this.B),this.L!=2&&(Ic(),Ct(17)),co(this),this.s=2,mc(this)):PS(this,this.Y-t)};function mc(t){t.l.H==0||t.J||tA(t.l,t)}function co(t){fh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Lv(t.V),ES(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function bv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Cv(n.i,t))){if(!t.K&&Cv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)eh(n),yh(n);else break e;Wv(n),Ct(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Tc(mt(n.ib,n),6e3));if(1>=BS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else uo(n,11)}else if((t.K||n.g==t)&&eh(n),!gc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Hv(o,o.h),o.h=null))}if(r.F){let E=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Ae(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=iA(r,r.J?r.pa:null,r.Y),s.K){$S(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(fh(a),Mc(a)),r.g=s}else XS(r);0<n.j.length&&vh(n)}else u[0]!="stop"&&u[0]!="close"||uo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?uo(n,7):zv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ic(4)}catch{}}function p$(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ih(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function m$(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ih(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function kS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ih(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=m$(t),r=p$(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var OS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function lo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof lo){this.h=t.h,Zd(this,t.j),this.s=t.s,this.g=t.g,Xd(this,t.m),this.l=t.l;var e=t.i,n=new Ec;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),eS(this,n),this.o=t.o}else t&&(e=String(t).match(OS))?(this.h=!1,Zd(this,e[1]||"",!0),this.s=fc(e[2]||""),this.g=fc(e[3]||"",!0),Xd(this,e[4]),this.l=fc(e[5]||"",!0),eS(this,e[6]||"",!0),this.o=fc(e[7]||"")):(this.h=!1,this.i=new Ec(null,this.h))}lo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(pc(e,tS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(pc(e,tS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(pc(n,n.charAt(0)=="/"?_$:v$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",pc(n,I$)),t.join("")};function Pr(t){return new lo(t)}function Zd(t,e,n){t.j=n?fc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function eS(t,e,n){e instanceof Ec?(t.i=e,E$(t.i,t.h)):(n||(e=pc(e,w$)),t.i=new Ec(e,t.h))}function Ae(t,e,n){t.i.set(e,n)}function ph(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,y$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function y$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var tS=/[#\/\?@]/g,v$=/[#\?:]/g,_$=/[#\?]/g,w$=/[#\?@]/g,I$=/#/g;function Ec(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function pi(t){t.g||(t.g=new Map,t.h=0,t.i&&g$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}b=Ec.prototype;b.add=function(t,e){pi(this),this.i=null,t=Rs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function FS(t,e){pi(t),e=Rs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function VS(t,e){return pi(t),e=Rs(t,e),t.g.has(e)}b.forEach=function(t,e){pi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};b.ta=function(){pi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};b.Z=function(t){pi(this);let e=[];if(typeof t=="string")VS(this,t)&&(e=e.concat(this.g.get(Rs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};b.set=function(t,e){return pi(this),this.i=null,t=Rs(this,t),VS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};b.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function LS(t,e,n){FS(t,e),0<n.length&&(t.i=null,t.g.set(Rs(t,e),Mv(n)),t.h+=n.length)}b.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Rs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function E$(t,e){e&&!t.j&&(pi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(FS(this,r),LS(this,i,n))},t)),t.j=e}var D$=class{constructor(t,e){this.g=t,this.map=e}};function US(t){this.l=t||b$,j.PerformanceNavigationTiming?(t=j.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(j.g&&j.g.Ka&&j.g.Ka()&&j.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var b$=10;function jS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BS(t){return t.h?1:t.g?t.g.size:0}function Cv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hv(t,e){t.g?t.g.add(e):t.h=e}function $S(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}US.prototype.cancel=function(){if(this.i=HS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function HS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Mv(t.i)}var C$=class{stringify(t){return j.JSON.stringify(t,void 0)}parse(t){return j.JSON.parse(t,void 0)}};function T$(){this.g=new C$}function S$(t,e,n){let r=n||"";try{kS(t,function(i,o){let s=i;bc(i)&&(s=Fv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function A$(t,e){let n=new uh;if(j.Image){let r=new Image;r.onload=Gd(Yd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gd(Yd,n,r,"TestLoadImage: error",!1,e),r.onabort=Gd(Yd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gd(Yd,n,r,"TestLoadImage: timeout",!1,e),j.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xc(t){this.l=t.ec||null,this.j=t.ob||!1}nt(xc,jv);xc.prototype.g=function(){return new mh(this.l,this.j)};xc.prototype.i=function(t){return function(){return t}}({});function mh(t,e){tt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nt(mh,tt);var qv=0;b=mh.prototype;b.open=function(t,e){if(this.readyState!=qv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Dc(this)};b.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||j).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};b.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rc(this)),this.readyState=qv};b.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Dc(this)),this.g&&(this.readyState=3,Dc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof j.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function qS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}b.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rc(this):Dc(this),this.readyState==3&&qS(this)}};b.Za=function(t){this.g&&(this.response=this.responseText=t,Rc(this))};b.Ya=function(t){this.g&&(this.response=t,Rc(this))};b.ka=function(){this.g&&Rc(this)};function Rc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Dc(t)}b.setRequestHeader=function(t,e){this.v.append(t,e)};b.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};b.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Dc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(mh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var M$=j.JSON.parse;function Fe(t){tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GS,this.L=this.M=!1}nt(Fe,tt);var GS="",x$=/^https?$/i,R$=["POST","PUT"];b=Fe.prototype;b.Oa=function(t){this.M=t};b.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Iv.g(),this.C=this.u?XT(this.u):XT(Iv),this.g.onreadystatechange=mt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){nS(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=j.FormData&&t instanceof j.FormData,!(0<=aS(R$,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KS(this),0<this.B&&((this.L=N$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mt(this.ua,this)):this.A=Uv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){nS(this,o)}};function N$(t){return xs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}b.ua=function(){typeof Av<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ht(this,"timeout"),this.abort(8))};function nS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zS(t),gh(t)}function zS(t){t.F||(t.F=!0,ht(t,"complete"),ht(t,"error"))}b.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ht(this,"complete"),ht(this,"abort"),gh(this))};b.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gh(this,!0)),Fe.$.N.call(this)};b.La=function(){this.s||(this.G||this.v||this.l?WS(this):this.kb())};b.kb=function(){WS(this)};function WS(t){if(t.h&&typeof Av<"u"&&(!t.C[1]||rr(t)!=4||t.da()!=2)){if(t.v&&rr(t)==4)Uv(t.La,0,t);else if(ht(t,"readystatechange"),rr(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(OS)[1]||null;!i&&j.self&&j.self.location&&(i=j.self.location.protocol.slice(0,-1)),r=!x$.test(i?i.toLowerCase():"")}n=r}if(n)ht(t,"complete"),ht(t,"success");else{t.m=6;try{var o=2<rr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",zS(t)}}finally{gh(t)}}}}function gh(t,e){if(t.g){KS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function KS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(j.clearTimeout(t.A),t.A=null)}b.isActive=function(){return!!this.g};function rr(t){return t.g?t.g.readyState:0}b.da=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}};b.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};b.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),M$(e)}};function rS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case GS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function P$(t){let e={};t=(t.g&&2<=rr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(gc(t[r]))continue;var n=o$(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}t$(e,function(r){return r.join(", ")})}b.Ia=function(){return this.m};b.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function QS(t){let e="";return Rv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Gv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=QS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ae(t,e,n))}function dc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YS(t){this.Ga=0,this.j=[],this.l=new uh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dc("baseRetryDelayMs",5e3,t),this.hb=dc("retryDelaySeedMs",1e4,t),this.eb=dc("forwardChannelMaxRetries",2,t),this.xa=dc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new US(t&&t.concurrentRequestLimit),this.Ja=new T$,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}b=YS.prototype;b.ra=8;b.H=1;function zv(t){if(JS(t),t.H==3){var e=t.W++,n=Pr(t.I);if(Ae(n,"SID",t.K),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),Nc(t,n),e=new Ac(t,t.l,e),e.L=2,e.A=ph(Pr(n)),n=!1,j.navigator&&j.navigator.sendBeacon)try{n=j.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&j.Image&&(new Image().src=e.A,n=!0),n||(e.g=oA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Mc(e)}rA(t)}function yh(t){t.g&&(Kv(t),t.g.cancel(),t.g=null)}function JS(t){yh(t),t.u&&(j.clearTimeout(t.u),t.u=null),eh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&j.clearTimeout(t.m),t.m=null)}function vh(t){if(!jS(t.i)&&!t.m){t.m=!0;var e=t.Na;vc||_S(),_c||(vc(),_c=!0),Vv.add(e,t),t.C=0}}function k$(t,e){return BS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Tc(mt(t.Na,t,e),nA(t,t.C)),t.C++,!0)}b.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Ac(this,this.l,t),o=this.s;if(this.U&&(o?(o=dS(o),hS(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZS(this,i,e),n=Pr(this.I),Ae(n,"RID",t),Ae(n,"CVER",22),this.F&&Ae(n,"X-HTTP-Session-Id",this.F),Nc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(QS(o)))+"&"+e:this.o&&Gv(n,this.o,o)),Hv(this.i,i),this.bb&&Ae(n,"TYPE","init"),this.P?(Ae(n,"$req",e),Ae(n,"SID","null"),i.aa=!0,Dv(i,n,null)):Dv(i,n,e),this.H=2}}else this.H==3&&(t?iS(this,t):this.j.length==0||jS(this.i)||iS(this))};function iS(t,e){var n;e?n=e.m:n=t.W++;let r=Pr(t.I);Ae(r,"SID",t.K),Ae(r,"RID",n),Ae(r,"AID",t.V),Nc(t,r),t.o&&t.s&&Gv(r,t.o,t.s),n=new Ac(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ZS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hv(t.i,n),Dv(n,r,e)}function Nc(t,e){t.na&&Rv(t.na,function(n,r){Ae(e,r,n)}),t.h&&kS({},function(n,r){Ae(e,r,n)})}function ZS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?mt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{S$(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function XS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;vc||_S(),_c||(vc(),_c=!0),Vv.add(e,t),t.A=0}}function Wv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Tc(mt(t.Ma,t),nA(t,t.A)),t.A++,!0)}b.Ma=function(){if(this.u=null,eA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Tc(mt(this.jb,this),t)}};b.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ct(10),yh(this),eA(this))};function Kv(t){t.B!=null&&(j.clearTimeout(t.B),t.B=null)}function eA(t){t.g=new Ac(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Pr(t.wa);Ae(e,"RID","rpc"),Ae(e,"SID",t.K),Ae(e,"AID",t.V),Ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ae(e,"TO",t.qa),Ae(e,"TYPE","xmlhttp"),Nc(t,e),t.o&&t.s&&Gv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ph(Pr(e)),n.u=null,n.S=!0,xS(n,t)}b.ib=function(){this.v!=null&&(this.v=null,yh(this),Wv(this),Ct(19))};function eh(t){t.v!=null&&(j.clearTimeout(t.v),t.v=null)}function tA(t,e){var n=null;if(t.g==e){eh(t),Kv(t),t.g=null;var r=2}else if(Cv(t.i,e))n=e.F,$S(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=lh(),ht(r,new CS(r,n)),vh(t)}else XS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&k$(t,e)||r==2&&Wv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:uo(t,5);break;case 4:uo(t,10);break;case 3:uo(t,6);break;default:uo(t,2)}}}function nA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function uo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=mt(t.pb,t);n||(n=new lo("//www.google.com/images/cleardot.gif"),j.location&&j.location.protocol=="http"||Zd(n,"https"),ph(n)),A$(n.toString(),r)}else Ct(2);t.H=0,t.h&&t.h.za(e),rA(t),JS(t)}b.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ct(2)):(this.l.info("Failed to ping google.com"),Ct(1))};function rA(t){if(t.H=0,t.ma=[],t.h){let e=HS(t.i);(e.length!=0||t.j.length!=0)&&(QT(t.ma,e),QT(t.ma,t.j),t.i.i.length=0,Mv(t.j),t.j.length=0),t.h.ya()}}function iA(t,e,n){var r=n instanceof lo?Pr(n):new lo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Xd(r,r.m);else{var i=j.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new lo(null);r&&Zd(o,r),e&&(o.g=e),i&&Xd(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ae(r,n,e),Ae(r,"VER",t.ra),Nc(t,r),r}function oA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Fe(new xc({ob:n})):new Fe(t.va),e.Oa(t.J),e}b.isActive=function(){return!!this.h&&this.h.isActive(this)};function sA(){}b=sA.prototype;b.Ba=function(){};b.Aa=function(){};b.za=function(){};b.ya=function(){};b.isActive=function(){return!0};b.Va=function(){};function th(){if(xs&&!(10<=Number(JB)))throw Error("Environmental error: no available transport.")}th.prototype.g=function(t,e){return new Kt(t,e)};function Kt(t,e){tt.call(this),this.g=new YS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!gc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ns(this)}nt(Kt,tt);Kt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ct(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iA(t,null,t.Y),vh(t)};Kt.prototype.close=function(){zv(this.g)};Kt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Fv(t),t=n);e.j.push(new D$(e.fb++,t)),e.H==3&&vh(e)};Kt.prototype.N=function(){this.g.h=null,delete this.j,zv(this.g),delete this.g,Kt.$.N.call(this)};function aA(t){Bv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}nt(aA,Bv);function cA(){$v.call(this),this.status=1}nt(cA,$v);function Ns(t){this.g=t}nt(Ns,sA);Ns.prototype.Ba=function(){ht(this.g,"a")};Ns.prototype.Aa=function(t){ht(this.g,new aA(t))};Ns.prototype.za=function(t){ht(this.g,new cA)};Ns.prototype.ya=function(){ht(this.g,"b")};function O$(){this.blockSize=-1}function kn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}nt(kn,O$);kn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}kn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)dv(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){dv(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){dv(this,r),i=0;break}}this.h=i,this.i+=e};kn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ge(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var F$={};function Qv(t){return-128<=t&&128>t?KB(t,function(e){return new ge([e|0],0>e?-1:0)}):new ge([t|0],0>t?-1:0)}function ir(t){if(isNaN(t)||!isFinite(t))return Ms;if(0>t)return dt(ir(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Tv;return new ge(e,0)}function uA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dt(uA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ir(Math.pow(e,8)),r=Ms,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ir(Math.pow(e,o)),r=r.R(o).add(ir(s))):(r=r.R(n),r=r.add(ir(s)))}return r}var Tv=4294967296,Ms=Qv(0),Sv=Qv(1),oS=Qv(16777216);b=ge.prototype;b.ea=function(){if(fn(this))return-dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Tv+r)*e,e*=Tv}return t};b.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Nr(this))return"0";if(fn(this))return"-"+dt(this).toString(t);for(var e=ir(Math.pow(t,6)),n=this,r="";;){var i=rh(n,e).g;n=nh(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Nr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};b.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Nr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function fn(t){return t.h==-1}b.X=function(t){return t=nh(this,t),fn(t)?-1:Nr(t)?0:1};function dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ge(n,~t.h).add(Sv)}b.abs=function(){return fn(this)?dt(this):this};b.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ge(n,n[n.length-1]&-2147483648?-1:0)};function nh(t,e){return t.add(dt(e))}b.R=function(t){if(Nr(this)||Nr(t))return Ms;if(fn(this))return fn(t)?dt(this).R(dt(t)):dt(dt(this).R(t));if(fn(t))return dt(this.R(dt(t)));if(0>this.X(oS)&&0>t.X(oS))return ir(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Jd(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Jd(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Jd(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Jd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ge(n,0)};function Jd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function hc(t,e){this.g=t,this.h=e}function rh(t,e){if(Nr(e))throw Error("division by zero");if(Nr(t))return new hc(Ms,Ms);if(fn(t))return e=rh(dt(t),e),new hc(dt(e.g),dt(e.h));if(fn(e))return e=rh(t,dt(e)),new hc(dt(e.g),e.h);if(30<t.g.length){if(fn(t)||fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Sv,r=e;0>=r.X(t);)n=sS(n),r=sS(r);var i=Ss(n,1),o=Ss(r,1);for(r=Ss(r,2),n=Ss(n,2);!Nr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ss(r,1),n=Ss(n,1)}return e=nh(t,i.R(e)),new hc(i,e)}for(i=Ms;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=ir(n),s=o.R(e);fn(s)||0<s.X(t);)n-=r,o=ir(n),s=o.R(e);Nr(o)&&(o=Sv),i=i.add(o),t=nh(t,s)}return new hc(i,t)}b.gb=function(t){return rh(this,t).h};b.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ge(n,this.h&t.h)};b.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ge(n,this.h|t.h)};b.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ge(n,this.h^t.h)};function sS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ge(n,t.h)}function Ss(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ge(i,t.h)}th.prototype.createWebChannel=th.prototype.g;Kt.prototype.send=Kt.prototype.u;Kt.prototype.open=Kt.prototype.m;Kt.prototype.close=Kt.prototype.close;dh.NO_ERROR=0;dh.TIMEOUT=8;dh.HTTP_ERROR=6;TS.COMPLETE="complete";SS.EventType=Sc;Sc.OPEN="a";Sc.CLOSE="b";Sc.ERROR="c";Sc.MESSAGE="d";tt.prototype.listen=tt.prototype.O;Fe.prototype.listenOnce=Fe.prototype.P;Fe.prototype.getLastError=Fe.prototype.Sa;Fe.prototype.getLastErrorCode=Fe.prototype.Ia;Fe.prototype.getStatus=Fe.prototype.da;Fe.prototype.getResponseJson=Fe.prototype.Wa;Fe.prototype.getResponseText=Fe.prototype.ja;Fe.prototype.send=Fe.prototype.ha;Fe.prototype.setWithCredentials=Fe.prototype.Oa;kn.prototype.digest=kn.prototype.l;kn.prototype.reset=kn.prototype.reset;kn.prototype.update=kn.prototype.j;ge.prototype.add=ge.prototype.add;ge.prototype.multiply=ge.prototype.R;ge.prototype.modulo=ge.prototype.gb;ge.prototype.compare=ge.prototype.X;ge.prototype.toNumber=ge.prototype.ea;ge.prototype.toString=ge.prototype.toString;ge.prototype.getBits=ge.prototype.D;ge.fromNumber=ir;ge.fromString=uA;var lA=On.createWebChannelTransport=function(){return new th},dA=On.getStatEventTarget=function(){return lh()},_h=On.ErrorCode=dh,hA=On.EventType=TS,fA=On.Event=ho,Yv=On.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},PK=On.FetchXmlHttpFactory=xc,Pc=On.WebChannel=SS,pA=On.XhrIo=Fe,mA=On.Md5=kn,fo=On.Integer=ge;var gA="@firebase/firestore";var rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");var Zs="10.11.0";var _o=new ni("@firebase/firestore");function kc(){return _o.logLevel}function C(t,...e){if(_o.logLevel<=ee.DEBUG){let n=e.map(Fw);_o.debug(`Firestore (${Zs}): ${t}`,...n)}}function lr(t,...e){if(_o.logLevel<=ee.ERROR){let n=e.map(Fw);_o.error(`Firestore (${Zs}): ${t}`,...n)}}function Us(t,...e){if(_o.logLevel<=ee.WARN){let n=e.map(Fw);_o.warn(`Firestore (${Zs}): ${t}`,...n)}}function Fw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function U(t="Unexpected state"){let e=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: `+t;throw lr(e),new Error(e)}function Te(t,e){t||U()}function $(t,e){return t}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=class extends Gt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var bh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},t_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}},n_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},r_=class{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new bh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new rt(e)}},i_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},o_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},s_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},a_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,C("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new s_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function V$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ch=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=V$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function le(t,e){return t<e?-1:t>e?1:0}function js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var me=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var q=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new me(0,0))}static max(){return new t(new me(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Th=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(),r===void 0?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},xe=class t extends Th{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new S(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},L$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=class t extends Th{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return L$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new S(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new S(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new S(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new S(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var k=class t{constructor(e){this.path=e}static fromPath(e){return new t(xe.fromString(e))}static fromName(e){return new t(xe.fromString(e).popFirst(5))}static empty(){return new t(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new xe(e.slice()))}};var c_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};c_.UNKNOWN_ID=-1;function U$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(r===1e9?new me(n+1,0):new me(n,r));return new wo(i,k.empty(),e)}function j$(t){return new wo(t.readTime,t.key,-1)}var wo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(q.min(),k.empty(),-1)}static max(){return new t(q.max(),k.empty(),-1)}};function B$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=k.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}var $$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",u_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function tu(t){return f(this,null,function*(){if(t.code!==_.FAILED_PRECONDITION||t.message!==$$)throw t;C("LocalStore","Unexpectedly lost primary lease")})}var I=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var l_=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new mn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new vo(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Vw(r.target.error);this.V.reject(new vo(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new vo(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(C("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new h_(n)}},Sh=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Oe())===12.2&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return C("SimpleDb","Removing database:",e),po(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!id())return!1;if(t.C())return!0;let e=Oe(),n=t.S(e),r=0<n&&n<10,i=t.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return f(this,null,function*(){return this.db||(C("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new vo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new S(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new S(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new vo(e,s))},i.onupgradeneeded=o=>{C("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{C("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return f(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=l_.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),I.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&s<3;if(C("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},d_=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return po(this.k.delete())}},vo=class extends S{constructor(e,n){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function nu(t){return t.name==="IndexedDbTransactionError"}var h_=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(C("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(C("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),po(r)}add(e){return C("SimpleDb","ADD",this.store.name,e,e),po(this.store.add(e))}get(e){return po(this.store.get(e)).next(n=>(n===void 0&&(n=null),C("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return C("SimpleDb","DELETE",this.store.name,e),po(this.store.delete(e))}count(){return C("SimpleDb","COUNT",this.store.name),po(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new I((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.G(o,(a,c)=>{s.push(c)}).next(()=>s)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new I((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){C("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new I((r,i)=>{n.onerror=o=>{let s=Vw(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){let r=[];return new I((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new d_(a),u=n(a.primaryKey,a.value,c);if(u instanceof I){let l=u.catch(d=>(c.done(),I.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>I.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function po(t){return new I((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Vw(r.target.error);n(i)}})}var yA=!1;function Vw(t){let e=Sh.S(Oe());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new S("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yA||(yA=!0,setTimeout(()=>{throw r},0)),r}}return t}var QA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function rf(t){return t==null}function jc(t){return t===0&&1/t==-1/0}function H$(t){return typeof t=="number"&&Number.isInteger(t)&&!jc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var q$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],HK=[...q$,"documentOverlays"],G$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],z$=G$,qK=[...z$,"indexConfiguration","indexState","indexEntries"];function vA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Le=class t{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fs(this.root,e,this.comparator,!0)}},Fs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();let e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}};sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(e,n,r,i,o){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var vt=class t{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ah(this.data.getIterator())}getIteratorFrom(e){return new Ah(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ah=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class t{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new t([])}unionWith(e){let n=new vt(Yt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Mh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Mh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var W$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(Te(!!t),typeof t=="string"){let e=0,n=W$.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gi(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}function Lw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uw(t){let e=t.mapValue.fields.__previous_value__;return Lw(e)?Uw(e):e}function Bc(t){let e=kr(t.mapValue.fields.__local_write_time__.timestampValue);return new me(e.seconds,e.nanos)}var f_=class{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},xh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var wh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lw(t)?4:JA(t)?9007199254740991:10:U()}function dr(t,e){if(t===e)return!0;let n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bc(t).isEqual(Bc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=kr(i.timestampValue),a=kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return gi(i.bytesValue).isEqual(gi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?jc(s)===jc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return js(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(vA(s)!==vA(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!dr(s[c],a[c])))return!1;return!0}(t,e);default:return U()}}function $c(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function Bs(t,e){if(t===e)return 0;let n=Io(t),r=Io(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ve(o.integerValue||o.doubleValue),c=Ve(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return _A(t.timestampValue,e.timestampValue);case 4:return _A(Bc(t),Bc(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(o,s){let a=gi(o),c=gi(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=le(a[u],c[u]);if(l!==0)return l}return le(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=le(Ve(o.latitude),Ve(s.latitude));return a!==0?a:le(Ve(o.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Bs(a[u],c[u]);if(l)return l}return le(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===wh.mapValue&&s===wh.mapValue)return 0;if(o===wh.mapValue)return 1;if(s===wh.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=le(c[d],l[d]);if(h!==0)return h;let p=Bs(a[c[d]],u[l[d]]);if(p!==0)return p}return le(c.length,l.length)}(t.mapValue,e.mapValue);default:throw U()}}function _A(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);let n=kr(t),r=kr(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function $s(t){return p_(t)}function p_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return k.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=p_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${p_(n.fields[s])}`;return i+"}"}(t.mapValue):U()}function wA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function m_(t){return!!t&&"integerValue"in t}function jw(t){return!!t&&"arrayValue"in t}function IA(t){return!!t&&"nullValue"in t}function EA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eh(t){return!!t&&"mapValue"in t}function Fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Qt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Fc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Eh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){So(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Fc(this.value))}};function ZA(t){let e=[];return So(t.fields,(n,r)=>{let i=new Yt([n]);if(Eh(r)){let o=ZA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new pn(e)}var Fn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,q.min(),q.min(),q.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,q.min(),q.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,q.min(),q.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hs=class{constructor(e,n){this.position=e,this.inclusive=n}};function DA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=k.comparator(k.fromName(s.referenceValue),n.key):r=Bs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}var qs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function K$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Rh=class{},We=class t extends Rh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new y_(e,n,r):n==="array-contains"?new w_(e,r):n==="in"?new I_(e,r):n==="not-in"?new E_(e,r):n==="array-contains-any"?new D_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new v_(e,r):new __(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bs(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Vn=class t extends Rh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return XA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function XA(t){return t.op==="and"}function eM(t){return Q$(t)&&XA(t)}function Q$(t){for(let e of t.filters)if(e instanceof Vn)return!1;return!0}function g_(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+$s(t.value);if(eM(t))return t.filters.map(e=>g_(e)).join(",");{let e=t.filters.map(n=>g_(n)).join(",");return`${t.op}(${e})`}}function tM(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&dr(r.value,i.value)}(t,e):t instanceof Vn?function(r,i){return i instanceof Vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&tM(s,i.filters[a]),!0):!1}(t,e):void U()}function nM(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(t):t instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(nM).join(" ,")+"}"}(t):"Filter"}var y_=class extends We{constructor(e,n,r){super(e,n,r),this.key=k.fromName(r.referenceValue)}matches(e){let n=k.comparator(e.key,this.key);return this.matchesComparison(n)}},v_=class extends We{constructor(e,n){super(e,"in",n),this.keys=rM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},__=class extends We{constructor(e,n){super(e,"not-in",n),this.keys=rM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function rM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>k.fromName(r.referenceValue))}var w_=class extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return jw(n)&&$c(n.arrayValue,this.value)}},I_=class extends We{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&$c(this.value.arrayValue,n)}},E_=class extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!$c(this.value.arrayValue,n)}},D_=class extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!jw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$c(this.value.arrayValue,r))}};var b_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function CA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new b_(t,e,n,r,i,o,s)}function Bw(t){let e=$(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>g_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$s(r)).join(",")),e.ce=n}return e.ce}function $w(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bA(t.startAt,e.startAt)&&bA(t.endAt,e.endAt)}function C_(t){return k.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Eo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function Y$(t,e,n,r,i,o,s,a){return new Eo(t,e,n,r,i,o,s,a)}function of(t){return new Eo(t)}function TA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iM(t){return t.collectionGroup!==null}function Vc(t){let e=$(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new vt(Yt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new qs(o,r))}),n.has(Yt.keyField().canonicalString())||e.le.push(new qs(Yt.keyField(),r))}return e.le}function ar(t){let e=$(t);return e.he||(e.he=J$(e,Vc(t))),e.he}function J$(t,e){if(t.limitType==="F")return CA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new qs(i.field,o)});let n=t.endAt?new Hs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hs(t.startAt.position,t.startAt.inclusive):null;return CA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function T_(t,e){let n=t.filters.concat([e]);return new Eo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function S_(t,e,n){return new Eo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sf(t,e){return $w(ar(t),ar(e))&&t.limitType===e.limitType}function oM(t){return`${Bw(ar(t))}|lt:${t.limitType}`}function Ps(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nM(i)).join(", ")}]`),rf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$s(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$s(i)).join(",")),`Target(${r})`}(ar(t))}; limitType=${t.limitType})`}function af(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):k.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Vc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=DA(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Vc(r),i)||r.endAt&&!function(s,a,c){let u=DA(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Vc(r),i))}(t,e)}function Z$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sM(t){return(e,n)=>{let r=!1;for(let i of Vc(t)){let o=X$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function X$(t,e,n){let r=t.field.isKeyField()?k.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Bs(c,u):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}var yi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return YA(this.inner)}size(){return this.innerSize}};var eH=new Le(k.comparator);function Or(){return eH}var aM=new Le(k.comparator);function Oc(...t){let e=aM;for(let n of t)e=e.insert(n.key,n);return e}function cM(t){let e=aM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mo(){return Lc()}function uM(){return Lc()}function Lc(){return new yi(t=>t.toString(),(t,e)=>t.isEqual(e))}var tH=new Le(k.comparator),nH=new vt(k.comparator);function te(...t){let e=nH;for(let n of t)e=e.add(n);return e}var rH=new vt(le);function iH(){return rH}function lM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}function dM(t){return{integerValue:""+t}}function oH(t,e){return H$(e)?dM(e):lM(t,e)}var Gs=class{constructor(){this._=void 0}};function sH(t,e,n){return t instanceof zs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Lw(o)&&(o=Uw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Do?fM(t,e):t instanceof bo?pM(t,e):function(i,o){let s=hM(i,o),a=SA(s)+SA(i.Ie);return m_(s)&&m_(i.Ie)?dM(a):lM(i.serializer,a)}(t,e)}function aH(t,e,n){return t instanceof Do?fM(t,e):t instanceof bo?pM(t,e):n}function hM(t,e){return t instanceof Ws?function(r){return m_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var zs=class extends Gs{},Do=class extends Gs{constructor(e){super(),this.elements=e}};function fM(t,e){let n=mM(e);for(let r of t.elements)n.some(i=>dr(i,r))||n.push(r);return{arrayValue:{values:n}}}var bo=class extends Gs{constructor(e){super(),this.elements=e}};function pM(t,e){let n=mM(e);for(let r of t.elements)n=n.filter(i=>!dr(i,r));return{arrayValue:{values:n}}}var Ws=class extends Gs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function SA(t){return Ve(t.integerValue||t.doubleValue)}function mM(t){return jw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Do&&i instanceof Do||r instanceof bo&&i instanceof bo?js(r.elements,i.elements,dr):r instanceof Ws&&i instanceof Ws?dr(r.Ie,i.Ie):r instanceof zs&&i instanceof zs}(t.transform,e.transform)}var A_=class{constructor(e,n){this.version=e,this.transformResults=n}},cr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ks=class{};function gM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hc(t.key,cr.none()):new Co(t.key,t.data,cr.none());{let n=t.data,r=Qt.empty(),i=new vt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new hr(t.key,r,new pn(i.toArray()),cr.none())}}function uH(t,e,n){t instanceof Co?function(i,o,s){let a=i.value.clone(),c=MA(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hr?function(i,o,s){if(!Dh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=MA(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(yM(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Uc(t,e,n,r){return t instanceof Co?function(o,s,a,c){if(!Dh(o.precondition,s))return a;let u=o.value.clone(),l=xA(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof hr?function(o,s,a,c){if(!Dh(o.precondition,s))return a;let u=xA(o.fieldTransforms,c,s),l=s.data;return l.setAll(yM(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Dh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function lH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=hM(r.transform,i||null);o!=null&&(n===null&&(n=Qt.empty()),n.set(r.field,o))}return n||null}function AA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&js(r,i,(o,s)=>cH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Co=class extends Ks{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},hr=class extends Ks{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function yM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function MA(t,e,n){let r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,aH(s,a,n[i]))}return r}function xA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,sH(o,s,e))}return r}var Hc=class extends Ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},M_=class extends Ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var x_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&uH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Uc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=uM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=gM(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(n,r)=>AA(n,r))&&js(this.baseMutations,e.baseMutations,(n,r)=>AA(n,r))}},R_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return tH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var N_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var P_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ge,oe;function dH(t){switch(t){default:return U();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function vM(t){if(t===void 0)return lr("GRPC error has no .code"),_.UNKNOWN;switch(t){case Ge.OK:return _.OK;case Ge.CANCELLED:return _.CANCELLED;case Ge.UNKNOWN:return _.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return _.INTERNAL;case Ge.UNAVAILABLE:return _.UNAVAILABLE;case Ge.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Ge.NOT_FOUND:return _.NOT_FOUND;case Ge.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Ge.ABORTED:return _.ABORTED;case Ge.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Ge.DATA_LOSS:return _.DATA_LOSS;default:return U()}}(oe=Ge||(Ge={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";var RA=null;function hH(){return new TextEncoder}var fH=new fo([4294967295,4294967295],0);function NA(t){let e=hH().encode(t),n=new mA;return n.update(e),new Uint8Array(n.digest())}function PA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fo([n,r],0),new fo([i,o],0)]}var k_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new go(`Invalid padding: ${n}`);if(r<0)throw new go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new go(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=fo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(fo.fromNumber(r)));return i.compare(fH)===1&&(i=new fo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=NA(e),[r,i]=PA(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=NA(e),[r,i]=PA(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},go=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Nh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(q.min(),i,new Le(le),Or(),te())}},qc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,te(),te(),te())}};var Vs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Ph=class{constructor(e,n){this.targetId=e,this.fe=n}},kh=class{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Oh=class{constructor(){this.ge=0,this.pe=OA(),this.ye=Tt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=te(),n=te(),r=te();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new qc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=OA()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Te(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},O_=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Or(),this.Qe=kA(),this.Ke=new Le(le)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(C_(o))if(r===0){let s=new k(o.path);this.We(n,s,Fn.newNoDocument(s,q.min()))}else Te(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}RA?.tt(function(l,d,h,p,v){var E,D,x,ne,J,we;let it={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},de=d.unchangedNames;return de&&(it.bloomFilter={applied:v===0,hashCount:(E=de?.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(ne=(x=(D=de?.bits)===null||D===void 0?void 0:D.bitmap)===null||x===void 0?void 0:x.length)!==null&&ne!==void 0?ne:0,padding:(we=(J=de?.bits)===null||J===void 0?void 0:J.padding)!==null&&we!==void 0?we:0,mightContain:ft=>{var Un;return(Un=p?.mightContain(ft))!==null&&Un!==void 0&&Un}}),it}(s,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=gi(r).toUint8Array()}catch(c){if(c instanceof Mh)return Us("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new k_(s,i,o)}catch(c){return Us(c instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&C_(a.target)){let c=new k(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,Fn.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=te();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new Nh(e,n,this.Ke,this.qe,r);return this.qe=Or(),this.Qe=kA(),this.Ke=new Le(le),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Oh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new vt(le),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||C("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Oh),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function kA(){return new Le(k.comparator)}function OA(){return new Le(k.comparator)}var pH={asc:"ASCENDING",desc:"DESCENDING"},mH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gH={and:"AND",or:"OR"},F_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function V_(t,e){return t.useProto3Json||rf(e)?e:{value:e}}function Fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _M(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yH(t,e){return Fh(t,e.toTimestamp())}function ur(t){return Te(!!t),q.fromTimestamp(function(n){let r=kr(n);return new me(r.seconds,r.nanos)}(t))}function Hw(t,e){return L_(t,e).canonicalString()}function L_(t,e){let n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wM(t){let e=xe.fromString(t);return Te(CM(e)),e}function U_(t,e){return Hw(t.databaseId,e.path)}function Jv(t,e){let n=wM(e);if(n.get(1)!==t.databaseId.projectId)throw new S(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new k(EM(n))}function IM(t,e){return Hw(t.databaseId,e)}function vH(t){let e=wM(t);return e.length===4?xe.emptyPath():EM(e)}function j_(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EM(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function FA(t,e,n){return{name:U_(t,e),fields:n.value.mapValue.fields}}function _H(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:U()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,l){return u.useProto3Json?(Te(l===void 0||typeof l=="string"),Tt.fromBase64String(l||"")):(Te(l===void 0||l instanceof Buffer||l instanceof Uint8Array),Tt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let l=u.code===void 0?_.UNKNOWN:vM(u.code);return new S(l,u.message||"")}(s);n=new kh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Jv(t,r.document.name),o=ur(r.document.updateTime),s=r.document.createTime?ur(r.document.createTime):q.min(),a=new Qt({mapValue:{fields:r.document.fields}}),c=Fn.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Vs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Jv(t,r.document),o=r.readTime?ur(r.readTime):q.min(),s=Fn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Vs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Jv(t,r.document),o=r.removedTargetIds||[];n=new Vs([],o,i,null)}else{if(!("filter"in e))return U();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new P_(i,o),a=r.targetId;n=new Ph(a,s)}}return n}function wH(t,e){let n;if(e instanceof Co)n={update:FA(t,e.key,e.value)};else if(e instanceof Hc)n={delete:U_(t,e.key)};else if(e instanceof hr)n={update:FA(t,e.key,e.data),updateMask:MH(e.fieldMask)};else{if(!(e instanceof M_))return U();n={verify:U_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Do)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ws)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw U()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:yH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:U()}(t,e.precondition)),n}function IH(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ur(i.updateTime):ur(o);return s.isEqual(q.min())&&(s=ur(o)),new A_(s,i.transformResults||[])}(n,e))):[]}function EH(t,e){return{documents:[IM(t,e.path)]}}function DH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IM(t,i);let o=function(u){if(u.length!==0)return bM(Vn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:ks(h.field),direction:TH(h.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=V_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function bH(t){let e=vH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){let h=DM(d);return h instanceof Vn&&eM(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(v){return new qs(Os(v.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,rf(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new Hs(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new Hs(p,h)}(n.endAt)),Y$(e,i,s,o,a,"F",c,u)}function CH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Os(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Os(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Os(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Os(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):t.fieldFilter!==void 0?function(n){return We.create(Os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(r=>DM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U()}}(n.compositeFilter.op))}(t):U()}function TH(t){return pH[t]}function SH(t){return mH[t]}function AH(t){return gH[t]}function ks(t){return{fieldPath:t.canonicalString()}}function Os(t){return Yt.fromServerFormat(t.fieldPath)}function bM(t){return t instanceof We?function(n){if(n.op==="=="){if(EA(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NAN"}};if(IA(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EA(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NAN"}};if(IA(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(n.field),op:SH(n.op),value:n.value}}}(t):t instanceof Vn?function(n){let r=n.getFilters().map(i=>bM(i));return r.length===1?r[0]:{compositeFilter:{op:AH(n.op),filters:r}}}(t):U()}function MH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Gc=class t{constructor(e,n,r,i,o=q.min(),s=q.min(),a=Tt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var B_=class{constructor(e){this.ct=e}};function xH(t){let e=bH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?S_(e,e.limit,"L"):e}var Vh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),jc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=kr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(gi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?JA(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):U()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),k.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Vh.bt=new Vh;var $_=class{constructor(){this._n=new H_}addToCollectionParentIndex(e,n){return this._n.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(wo.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}},H_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(xe.comparator)).toArray()}};var zK=new Uint8Array(0);var or=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(41943040,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);var zc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var q_=class{constructor(){this.changes=new yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var G_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var z_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Uc(r.mutation,i,pn.empty(),me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){let i=mo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Oc();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Or(),s=Lc(),a=function(){return Lc()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof hr)?o=o.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),Uc(l.mutation,u,l.mutation.getFieldMask(),me.now())):s.set(u.key,pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new G_(l,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Lc(),i=new Le((s,a)=>s-a),o=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||pn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||te()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=uM();l.forEach(h=>{if(!o.has(h)){let p=gM(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return I.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return k.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):I.resolve(mo()),a=-1,c=o;return s.next(u=>I.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,te())).next(l=>({batchId:a,changes:cM(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new k(n)).next(r=>{let i=Oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Oc();return this.indexManager.getCollectionParents(e,o).next(a=>I.forEach(a,c=>{let u=function(d,h){return new Eo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,Fn.newInvalidDocument(l)))});let a=Oc();return s.forEach((c,u)=>{let l=o.get(c);l!==void 0&&Uc(l.mutation,u,pn.empty(),me.now()),af(n,u)&&(a=a.insert(c,u))}),a})}};var W_=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return I.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(n)),I.resolve()}getNamedQuery(e,n){return I.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:xH(i.bundledQuery),readTime:ur(i.readTime)}}(n)),I.resolve()}};var K_=class{constructor(){this.overlays=new Le(k.comparator),this.hr=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){let r=mo();return I.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),I.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){let i=mo(),o=n.length+1,s=new k(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Le((u,l)=>u-l),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);l===null&&(l=mo(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=mo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return I.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new N_(n,r));let o=this.hr.get(n);o===void 0&&(o=te(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var Wc=class{constructor(){this.Pr=new vt(ze.Ir),this.Tr=new vt(ze.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new ze(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ze(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new k(new xe([])),r=new ze(n,e),i=new ze(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new k(new xe([])),r=new ze(n,e),i=new ze(n,e+1),o=te();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ze(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ze=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return k.comparator(e.key,n.key)||le(e.pr,n.pr)}static Er(e,n){return le(e.pr,n.pr)||k.comparator(e.key,n.key)}};var Q_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new vt(ze.Ir)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new x_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new ze(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(s)}lookupMutationBatch(e,n){return I.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return I.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),I.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(le);return n.forEach(i=>{let o=new ze(i,0),s=new ze(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),I.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;k.isDocumentKey(o)||(o=o.child(""));let s=new ze(new k(o),0),a=new vt(le);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},s),I.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return I.forEach(n.mutations,i=>{let o=new ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new ze(n,0),i=this.wr.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Y_=class{constructor(e){this.vr=e,this.docs=function(){return new Le(k.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=Or();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fn.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Or(),s=n.path,a=new k(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||B$(j$(l),r)<=0||(i.has(l.key)||af(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return I.resolve(o)}getAllFromCollectionGroup(e,n,r,i){U()}Fr(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new J_(this)}getSize(e){return I.resolve(this.size)}},J_=class extends q_{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Z_=class{constructor(e){this.persistence=e,this.Mr=new yi(n=>Bw(n),$w),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Wc,this.targetCount=0,this.Lr=zc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),I.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new zc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.qn(n),I.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(o).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),I.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),I.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Nr.containsKey(n))}};var X_=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new QA(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Z_(this),this.indexManager=new $_,this.remoteDocumentCache=function(i){return new Y_(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new B_(n),this.$r=new W_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Q_(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);let i=new ew(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return I.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},ew=class extends u_{constructor(e){super(),this.currentSequenceNumber=e}},tw=class t{constructor(e){this.persistence=e,this.zr=new Wc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw U()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),I.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Jr,r=>{let i=k.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,q.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return I.or([()=>I.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var nw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=te(),i=te();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var rw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var iw=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Zb()?8:Sh.v(Oe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new rw;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(kc()<=ee.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",Ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),I.resolve()):(kc()<=ee.DEBUG&&C("QueryEngine","Query:",Ps(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(kc()<=ee.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",Ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):I.resolve())}ji(e,n){if(TA(n))return I.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=S_(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=te(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,s,c.readTime)?this.ji(e,S_(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return TA(n)||i.isEqual(q.min())?I.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?I.resolve(null):(kc()<=ee.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ps(n)),this.es(e,s,n,U$(i,-1)).next(a=>a))})}Zi(e,n){let r=new vt(sM(e));return n.forEach((i,o)=>{af(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return kc()<=ee.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",Ps(n)),this.zi.getDocumentsMatchingQuery(e,n,wo.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var ow=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Le(le),this.rs=new yi(o=>Bw(o),$w),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function RH(t,e,n,r){return new ow(t,e,n,r)}function TM(t,e){return f(this,null,function*(){let n=$(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=te();for(let u of i){s.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of o){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})})}function NH(t,e){let n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=I.resolve();return h.forEach(v=>{p=p.next(()=>l.getEntry(c,v)).next(E=>{let D=u.docVersions.get(v);Te(D!==null),E.version.compareTo(D)<0&&(d.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),l.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SM(t){let e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function PH(t,e){let n=$(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,l.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Tt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),function(E,D,x){return E.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,l)&&a.push(n.Qr.updateTargetData(o,p))});let c=Or(),u=te();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(kH(o,s,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(q.min())){let l=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.ns=i,o))}function kH(t,e,n){let r=te(),i=te();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Or();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:s,ls:i}})}function OH(t,e){let n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FH(t,e){let n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,I.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Gc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function sw(t,e,n){return f(this,null,function*(){let r=$(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!nu(s))throw s;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function VA(t,e,n){let r=$(t),i=q.min(),o=te();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,l){let d=$(c),h=d.rs.get(l);return h!==void 0?I.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,s,ar(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:q.min(),n?o:te())).next(a=>(VH(r,Z$(e),a),{documents:a,hs:o})))}function VH(t,e,n){let r=t.ss.get(e)||q.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}var Lh=class{constructor(){this.activeTargetIds=iH()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var aw=class{constructor(){this.no=new Lh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Lh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var cw=class{io(e){}shutdown(){}};var Uh=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ih=null;function Zv(){return Ih===null?Ih=function(){return 268435456+Math.round(2147483648*Math.random())}():Ih++,"0x"+Ih.toString(16)}var LH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var uw=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var yt="WebChannelConnection",lw=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){let a=Zv(),c=this.bo(n,r.toUriEncodedString());C("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,c,u,i).then(l=>(C("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Us("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){let i=LH[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let o=Zv();return new Promise((s,a)=>{let c=new pA;c.setWithCredentials(!0),c.listenOnce(hA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case _h.NO_ERROR:let l=c.getResponseJson();C(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case _h.TIMEOUT:C(yt,`RPC '${e}' ${o} timed out`),a(new S(_.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:let d=c.getStatus();if(C(yt,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let v=function(D){let x=D.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(x)>=0?x:_.UNKNOWN}(p.status);a(new S(v,p.message))}else a(new S(_.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new S(_.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{C(yt,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);C(yt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Zv(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lA(),a=dA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");C(yt,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=s.createWebChannel(l,c),h=!1,p=!1,v=new uw({lo:D=>{p?C(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(h||(C(yt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(yt,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},ho:()=>d.close()}),E=(D,x,ne)=>{D.listen(x,J=>{try{ne(J)}catch(we){setTimeout(()=>{throw we},0)}})};return E(d,Pc.EventType.OPEN,()=>{p||C(yt,`RPC '${e}' stream ${i} transport opened.`)}),E(d,Pc.EventType.CLOSE,()=>{p||(p=!0,C(yt,`RPC '${e}' stream ${i} transport closed`),v.Vo())}),E(d,Pc.EventType.ERROR,D=>{p||(p=!0,Us(yt,`RPC '${e}' stream ${i} transport errored:`,D),v.Vo(new S(_.UNAVAILABLE,"The operation could not be completed")))}),E(d,Pc.EventType.MESSAGE,D=>{var x;if(!p){let ne=D.data[0];Te(!!ne);let J=ne,we=J.error||((x=J[0])===null||x===void 0?void 0:x.error);if(we){C(yt,`RPC '${e}' stream ${i} received error:`,we);let it=we.status,de=function(wi){let Ro=Ge[wi];if(Ro!==void 0)return vM(Ro)}(it),ft=we.message;de===void 0&&(de=_.INTERNAL,ft="Unknown error status: "+it+" with message "+we.message),p=!0,v.Vo(new S(de,ft)),d.close()}else C(yt,`RPC '${e}' stream ${i} received:`,ne),v.mo(ne)}}),E(a,fA.STAT_EVENT,D=>{D.stat===Yv.PROXY?C(yt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Yv.NOPROXY&&C(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ro()},0),v}};function Xv(){return typeof document<"u"?document:null}function cf(t){return new F_(t,!0)}var jh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Bh=class{constructor(e,n,r,i,o,s,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new jh(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return f(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return f(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return f(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new S(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>f(this,null,function*(){this.state=0,this.start()}))}__(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},dw=class extends Bh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=_H(this.serializer,e),r=function(o){if(!("targetChange"in o))return q.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?ur(s.readTime):q.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=j_(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=C_(c)?{documents:EH(o,c)}:{query:DH(o,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=_M(o,s.resumeToken);let u=V_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(q.min())>0){a.readTime=Fh(o,s.snapshotVersion.toTimestamp());let u=V_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=CH(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=j_(this.serializer),n.removeTarget=e,this.t_(n)}},hw=class extends Bh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=IH(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.T_(r,n)}return Te(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=j_(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>wH(this.serializer,r))};this.t_(n)}};var fw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new S(_.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,L_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new S(_.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,L_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(_.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var pw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(lr(n),this.g_=!1):C("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var mw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(()=>f(this,null,function*(){Ao(this)&&(C("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=$(c);u.v_.add(4),yield ru(u),u.x_.set("Unknown"),u.v_.delete(4),yield uf(u)})}(this))}))}),this.x_=new pw(r,i)}};function uf(t){return f(this,null,function*(){if(Ao(t))for(let e of t.F_)yield e(!0)})}function ru(t){return f(this,null,function*(){for(let e of t.F_)yield e(!1)})}function AM(t,e){let n=$(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Ww(n)?zw(n):Xs(n).Jo()&&Gw(n,e))}function qw(t,e){let n=$(t),r=Xs(n);n.C_.delete(e),r.Jo()&&MM(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ao(n)&&n.x_.set("Unknown"))}function Gw(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(t).c_(e)}function MM(t,e){t.O_.Oe(e),Xs(t).l_(e)}function zw(t){t.O_=new O_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xs(t).start(),t.x_.p_()}function Ww(t){return Ao(t)&&!Xs(t).Ho()&&t.C_.size>0}function Ao(t){return $(t).v_.size===0}function xM(t){t.O_=void 0}function UH(t){return f(this,null,function*(){t.C_.forEach((e,n)=>{Gw(t,e)})})}function jH(t,e){return f(this,null,function*(){xM(t),Ww(t)?(t.x_.S_(e),zw(t)):t.x_.set("Unknown")})}function BH(t,e,n){return f(this,null,function*(){if(t.x_.set("Online"),e instanceof kh&&e.state===2&&e.cause)try{yield function(i,o){return f(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $h(t,r)}else if(e instanceof Vs?t.O_.$e(e):e instanceof Ph?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(q.min()))try{let r=yield SM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=o.C_.get(u);l&&o.C_.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let l=o.C_.get(c);if(!l)return;o.C_.set(c,l.withResumeToken(Tt.EMPTY_BYTE_STRING,l.snapshotVersion)),MM(o,c);let d=new Gc(l.target,c,u,l.sequenceNumber);Gw(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield $h(t,r)}})}function $h(t,e,n){return f(this,null,function*(){if(!nu(e))throw e;t.v_.add(1),yield ru(t),t.x_.set("Offline"),n||(n=()=>SM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield uf(t)}))})}function RM(t,e){return e().catch(n=>$h(t,n,e))}function lf(t){return f(this,null,function*(){let e=$(t),n=vi(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;$H(e);)try{let i=yield OH(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,HH(e,i)}catch(i){yield $h(e,i)}NM(e)&&PM(e)})}function $H(t){return Ao(t)&&t.D_.length<10}function HH(t,e){t.D_.push(e);let n=vi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function NM(t){return Ao(t)&&!vi(t).Ho()&&t.D_.length>0}function PM(t){vi(t).start()}function qH(t){return f(this,null,function*(){vi(t).d_()})}function GH(t){return f(this,null,function*(){let e=vi(t);for(let n of t.D_)e.I_(n.mutations)})}function zH(t,e,n){return f(this,null,function*(){let r=t.D_.shift(),i=R_.from(r,e,n);yield RM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield lf(t)})}function WH(t,e){return f(this,null,function*(){e&&vi(t).P_&&(yield function(r,i){return f(this,null,function*(){if(function(s){return dH(s)&&s!==_.ABORTED}(i.code)){let o=r.D_.shift();vi(r).Zo(),yield RM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield lf(r)}})}(t,e)),NM(t)&&PM(t)})}function LA(t,e){return f(this,null,function*(){let n=$(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");let r=Ao(n);n.v_.add(3),yield ru(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield uf(n)})}function KH(t,e){return f(this,null,function*(){let n=$(t);e?(n.v_.delete(2),yield uf(n)):e||(n.v_.add(2),yield ru(n),n.x_.set("Unknown"))})}function Xs(t){return t.N_||(t.N_=function(n,r,i){let o=$(n);return o.R_(),new dw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:UH.bind(null,t),To:jH.bind(null,t),u_:BH.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.N_.Zo(),Ww(t)?zw(t):t.x_.set("Unknown")):(yield t.N_.stop(),xM(t))}))),t.N_}function vi(t){return t.L_||(t.L_=function(n,r,i){let o=$(n);return o.R_(),new hw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:qH.bind(null,t),To:WH.bind(null,t),E_:GH.bind(null,t),T_:zH.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.L_.Zo(),yield lf(t)):(yield t.L_.stop(),t.D_.length>0&&(C("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var gw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new S(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Kw(t,e){if(lr("AsyncQueue",`${e}: ${t}`),nu(t))return new S(_.UNAVAILABLE,`${e}: ${t}`);throw t}var Hh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||k.comparator(n.key,r.key):(n,r)=>k.comparator(n.key,r.key),this.keyedMap=Oc(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var qh=class{constructor(){this.B_=new Le(k.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):U():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Qs=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Hh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var yw=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},vw=class{constructor(){this.queries=new yi(e=>oM(e),sf),this.onlineState="Unknown",this.W_=new Set}};function Qw(t,e){return f(this,null,function*(){let n=$(t),r=3,i=e.query,o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new yw,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Kw(s,`Initialization of query '${Ps(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&Jw(n)})}function Yw(t,e){return f(this,null,function*(){let n=$(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function QH(t,e){let n=$(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&Jw(n)}function YH(t,e,n){let r=$(t),i=r.queries.get(e);if(i)for(let o of i.Q_)o.onError(n);r.queries.delete(e)}function Jw(t){t.W_.forEach(e=>{e.next()})}var _w,UA;(UA=_w||(_w={})).j_="default",UA.Cache="cache";var Kc=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Qs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==_w.Cache}};var Gh=class{constructor(e){this.key=e}},zh=class{constructor(e){this.key=e}},ww=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=te(),this.mutatedKeys=te(),this.ha=sM(e),this.Pa=new Hh(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new qh,i=n?n.Pa:this.Pa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),p=af(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),D=!1;h&&p?h.data.isEqual(p.data)?v!==E&&(r.track({type:3,doc:p}),D=!0):this.da(h,p)||(r.track({type:2,doc:p}),D=!0,(c&&this.ha(p,c)>0||u&&this.ha(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),D=!0):h&&!p&&(r.track({type:1,doc:h}),D=!0,(c||u)&&(a=!0)),D&&(p?(s=s.add(p),o=E?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((l,d)=>function(p,v){let E=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return E(p)-E(v)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,u=c!==this.ca;return this.ca=c,s.length!==0||u?{snapshot:new Qs(this.query,e.Pa,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new qh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=te(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new zh(r))}),this.la.forEach(r=>{e.has(r)||n.push(new Gh(r))}),n}fa(e){this.ua=e.hs,this.la=te();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Qs.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},Iw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Ew=class{constructor(e){this.key=e,this.pa=!1}},Dw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new yi(a=>oM(a),sf),this.Sa=new Map,this.ba=new Set,this.Da=new Le(k.comparator),this.Ca=new Map,this.va=new Wc,this.Fa={},this.Ma=new Map,this.xa=zc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function JH(t,e,n=!0){return f(this,null,function*(){let r=UM(t),i,o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield kM(r,e,n,!0),i})}function ZH(t,e){return f(this,null,function*(){let n=UM(t);yield kM(n,e,!0,!1)})}function kM(t,e,n,r){return f(this,null,function*(){let i=yield FH(t.localStore,ar(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield XH(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&AM(t.remoteStore,i),a})}function XH(t,e,n,r,i){return f(this,null,function*(){t.Na=(d,h,p)=>function(E,D,x,ne){return f(this,null,function*(){let J=D.view.Ta(x);J.Xi&&(J=yield VA(E.localStore,D.query,!1).then(({documents:ft})=>D.view.Ta(ft,J)));let we=ne&&ne.targetChanges.get(D.targetId),it=ne&&ne.targetMismatches.get(D.targetId)!=null,de=D.view.applyChanges(J,E.isPrimaryClient,we,it);return BA(E,D.targetId,de.Va),de.snapshot})}(t,d,h,p);let o=yield VA(t.localStore,e,!0),s=new ww(e,o.hs),a=s.Ta(o.documents),c=qc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);BA(t,n,u.Va);let l=new Iw(e,n,s);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot})}function e4(t,e,n){return f(this,null,function*(){let r=$(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!sf(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qw(r.remoteStore,i.targetId),bw(r,i.targetId)}).catch(tu))):(bw(r,i.targetId),yield sw(r.localStore,i.targetId,!0))})}function t4(t,e){return f(this,null,function*(){let n=$(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qw(n.remoteStore,r.targetId))})}function n4(t,e,n){return f(this,null,function*(){let r=u4(t);try{let i=yield function(s,a){let c=$(s),u=me.now(),l=a.reduce((p,v)=>p.add(v.key),te()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Or(),E=te();return c.os.getEntries(p,l).next(D=>{v=D,v.forEach((x,ne)=>{ne.isValidDocument()||(E=E.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,v)).next(D=>{d=D;let x=[];for(let ne of a){let J=lH(ne,d.get(ne.key).overlayedDocument);J!=null&&x.push(new hr(ne.key,J,ZA(J.value.mapValue),cr.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,x,a)}).next(D=>{h=D;let x=D.applyToLocalDocumentSet(d,E);return c.documentOverlayCache.saveOverlays(p,D.batchId,x)})}).then(()=>({batchId:h.batchId,changes:cM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Fa[s.currentUser.toKey()];u||(u=new Le(le)),u=u.insert(a,c),s.Fa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield iu(r,i.changes),yield lf(r.remoteStore)}catch(i){let o=Kw(i,"Failed to persist write");n.reject(o)}})}function OM(t,e){return f(this,null,function*(){let n=$(t);try{let r=yield PH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Ca.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?Te(s.pa):i.removedDocuments.size>0&&(Te(s.pa),s.pa=!1))}),yield iu(n,r,e)}catch(r){yield tu(r)}})}function jA(t,e,n){let r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=$(s);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(u=!0)}),u&&Jw(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function r4(t,e,n){return f(this,null,function*(){let r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),o=i&&i.key;if(o){let s=new Le(k.comparator);s=s.insert(o,Fn.newNoDocument(o,q.min()));let a=te().add(o),c=new Nh(q.min(),new Map,new Le(le),s,a);yield OM(r,c),r.Da=r.Da.remove(o),r.Ca.delete(e),Zw(r)}else yield sw(r.localStore,e,!1).then(()=>bw(r,e,n)).catch(tu)})}function i4(t,e){return f(this,null,function*(){let n=$(t),r=e.batch.batchId;try{let i=yield NH(n.localStore,e);VM(n,r,null),FM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield iu(n,i)}catch(i){yield tu(i)}})}function o4(t,e,n){return f(this,null,function*(){let r=$(t);try{let i=yield function(s,a){let c=$(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Te(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);VM(r,e,n),FM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield iu(r,i)}catch(i){yield tu(i)}})}function FM(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function VM(t,e,n){let r=$(t),i=r.Fa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function bw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||LM(t,r)})}function LM(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(qw(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Zw(t))}function BA(t,e,n){for(let r of n)r instanceof Gh?(t.va.addReference(r.key,e),s4(t,r)):r instanceof zh?(C("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||LM(t,r.key)):U()}function s4(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(C("SyncEngine","New document in limbo: "+n),t.ba.add(r),Zw(t))}function Zw(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new k(xe.fromString(e)),r=t.xa.next();t.Ca.set(r,new Ew(n)),t.Da=t.Da.insert(n,r),AM(t.remoteStore,new Gc(ar(of(n.path)),r,"TargetPurposeLimboResolution",QA._e))}}function iu(t,e,n){return f(this,null,function*(){let r=$(t),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{s.push(r.Na(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=nw.Ki(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.ya.u_(i),yield function(c,u){return f(this,null,function*(){let l=$(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(u,h=>I.forEach(h.qi,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>I.forEach(h.Qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!nu(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ns.get(h),v=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(v);l.ns=l.ns.insert(h,E)}}})}(r.localStore,o))})}function a4(t,e){return f(this,null,function*(){let n=$(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());let r=yield TM(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(c=>{c.reject(new S(_.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield iu(n,r.us)}})}function c4(t,e){let n=$(t),r=n.Ca.get(e);if(r&&r.pa)return te().add(r.key);{let i=te(),o=n.Sa.get(e);if(!o)return i;for(let s of o){let a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function UM(t){let e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r4.bind(null,e),e.ya.u_=QH.bind(null,e.eventManager),e.ya.La=YH.bind(null,e.eventManager),e}function u4(t){let e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o4.bind(null,e),e}var Wh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return RH(this.persistence,new iw,e.initialUser,this.serializer)}createPersistence(e){return new X_(tw.Hr,this.serializer)}createSharedClientState(e){return new aw}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Cw=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a4.bind(null,this.syncEngine),yield KH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new vw}()}createDatastore(e){let n=cf(e.databaseInfo.databaseId),r=function(o){return new lw(o)}(e.databaseInfo);return function(o,s,a,c){return new fw(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new mw(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jA(this.syncEngine,n,0),function(){return Uh.D()?new Uh:new cw}())}createSyncEngine(e,n){return function(i,o,s,a,c,u,l){let d=new Dw(i,o,s,a,c,u);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=$(r);C("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield ru(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Qc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Tw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=Ch.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>f(this,null,function*(){C("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Kw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function e_(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield TM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function $A(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield d4(t);C("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>LA(e.remoteStore,i)),t._onlineComponents=e})}function l4(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function d4(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield e_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!l4(n))throw n;Us("Error using user provided cache. Falling back to memory cache: "+n),yield e_(t,new Wh)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield e_(t,new Wh);return t._offlineComponents})}function jM(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield $A(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield $A(t,new Cw))),t._onlineComponents})}function h4(t){return jM(t).then(e=>e.syncEngine)}function Kh(t){return f(this,null,function*(){let e=yield jM(t),n=e.eventManager;return n.onListen=JH.bind(null,e.syncEngine),n.onUnlisten=e4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t4.bind(null,e.syncEngine),n})}function f4(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return function(o,s,a,c,u){let l=new Qc({next:h=>{s.enqueueAndForget(()=>Yw(o,d));let p=h.docs.has(a);!p&&h.fromCache?u.reject(new S(_.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new S(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Kc(of(a.path),l,{includeMetadataChanges:!0,ta:!0});return Qw(o,d)}(yield Kh(t),t.asyncQueue,e,n,r)})),r.promise}function p4(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return function(o,s,a,c,u){let l=new Qc({next:h=>{s.enqueueAndForget(()=>Yw(o,d)),h.fromCache&&c.source==="server"?u.reject(new S(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Kc(a,l,{includeMetadataChanges:!0,ta:!0});return Qw(o,d)}(yield Kh(t),t.asyncQueue,e,n,r)})),r.promise}function BM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var HA=new Map;function $M(t,e,n){if(!n)throw new S(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m4(t,e,n,r){if(e===!0&&r===!0)throw new S(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qA(t){if(!k.isDocumentKey(t))throw new S(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GA(t){if(k.isDocumentKey(t))throw new S(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U()}function Ot(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=df(t);throw new S(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Qh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new S(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new S(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new S(_.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new S(_.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new S(_.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ys=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new S(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t_;switch(r.type){case"firstParty":return new o_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new S(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=HA.get(n);r&&(C("ComponentProvider","Removing Datastore"),HA.delete(n),r.terminate())}(this),Promise.resolve()}};function g4(t,e,n,r={}){var i;let o=(t=Ot(t,Ys))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=rt.MOCK_USER;else{a=Wb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new rt(u)}t._authCredentials=new n_(new bh(a,c))}}var To=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},_t=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},mi=class t extends To{constructor(e,n,r){super(e,n,of(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new k(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function fr(t,e,...n){if(t=Ze(t),$M("collection","path",e),t instanceof Ys){let r=xe.fromString(e,...n);return GA(r),new mi(t,null,r)}{if(!(t instanceof _t||t instanceof mi))throw new S(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return GA(r),new mi(t.firestore,null,r)}}function Jt(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=Ch.newId()),$M("doc","path",e),t instanceof Ys){let r=xe.fromString(e,...n);return qA(r),new _t(t,null,new k(r))}{if(!(t instanceof _t||t instanceof mi))throw new S(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return qA(r),new _t(t.firestore,t instanceof mi?t.converter:null,new k(r))}}var Sw=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new jh(this,"async_queue_retry"),this.cu=()=>{let n=Xv();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Xv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Xv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new mn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return f(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!nu(e))throw e;C("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw lr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=gw.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&U()}verifyOperationInProgress(){}Tu(){return f(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};function zA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Ln=class extends Ys{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Sw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HM(this),this._firestoreClient.terminate()}};function gn(t,e){let n=typeof t=="object"?t:_s(),r=typeof t=="string"?t:e||"(default)",i=Ka(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=zb("firestore");o&&g4(i,...o)}return i}function hf(t){return t._firestoreClient||HM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function HM(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,u,l){return new f_(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,BM(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Tw(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Yc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Tt.fromBase64String(e))}catch(n){throw new S(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Js=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new S(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Jc=class{constructor(e){this._methodName=e}};var Zc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}};var y4=/^__.*__$/,Aw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Co(e,this.data,n,this.fieldTransforms)}},Yh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function qM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}var Mw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Zh(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(qM(this.Vu)&&y4.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},xw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cf(e)}Cu(e,n,r,i=!1){return new Mw({Vu:e,methodName:n,Du:r,path:Yt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ff(t){let e=t._freezeSettings(),n=cf(t._databaseId);return new xw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GM(t,e,n,r,i,o={}){let s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);Xw("Data must be an object, but it was:",s,r);let a=zM(r,s),c,u;if(o.merge)c=new pn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let d of o.mergeFields){let h=Rw(e,d,n);if(!s.contains(h))throw new S(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);KM(l,h)||l.push(h)}c=new pn(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new Aw(new Qt(a),c,u)}var Jh=class t extends Jc{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function v4(t,e,n,r){let i=t.Cu(1,e,n);Xw("Data must be an object, but it was:",i,r);let o=[],s=Qt.empty();So(r,(c,u)=>{let l=eI(e,c,n);u=Ze(u);let d=i.yu(l);if(u instanceof Jh)o.push(l);else{let h=ou(u,d);h!=null&&(o.push(l),s.set(l,h))}});let a=new pn(o);return new Yh(s,a,i.fieldTransforms)}function _4(t,e,n,r,i,o){let s=t.Cu(1,e,n),a=[Rw(e,r,n)],c=[i];if(o.length%2!=0)throw new S(_.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Rw(e,o[h])),c.push(o[h+1]);let u=[],l=Qt.empty();for(let h=a.length-1;h>=0;--h)if(!KM(u,a[h])){let p=a[h],v=c[h];v=Ze(v);let E=s.yu(p);if(v instanceof Jh)u.push(p);else{let D=ou(v,E);D!=null&&(u.push(p),l.set(p,D))}}let d=new pn(u);return new Yh(l,d,s.fieldTransforms)}function w4(t,e,n,r=!1){return ou(n,t.Cu(r?4:3,e))}function ou(t,e){if(WM(t=Ze(t)))return Xw("Unsupported field value:",e,t),zM(t,e);if(t instanceof Jc)return function(r,i){if(!qM(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=ou(a,i.wu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=me.fromDate(r);return{timestampValue:Fh(i.serializer,o)}}if(r instanceof me){let o=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fh(i.serializer,o)}}if(r instanceof Zc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yc)return{bytesValue:_M(i.serializer,r._byteString)};if(r instanceof _t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Hw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${df(r)}`)}(t,e)}function zM(t,e){let n={};return YA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(r,i)=>{let o=ou(i,e.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function WM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof me||t instanceof Zc||t instanceof Yc||t instanceof _t||t instanceof Jc)}function Xw(t,e,n){if(!WM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=df(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Rw(t,e,n){if((e=Ze(e))instanceof Js)return e._internalPath;if(typeof e=="string")return eI(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,n)}var I4=new RegExp("[~\\*/\\[\\]]");function eI(t,e,n){if(e.search(I4)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Js(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new S(_.INVALID_ARGUMENT,a+t+c)}function KM(t,e){return t.some(n=>n.isEqual(e))}var Xh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(tI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Nw=class extends Xh{data(){return super.data()}};function tI(t,e){return typeof e=="string"?eI(t,e):e instanceof Js?e._internalPath:e._delegate._internalPath}function QM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new S(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xc=class{},Pw=class extends Xc{};function _i(t,e,...n){let r=[];e instanceof Xc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof kw).length,a=o.filter(c=>c instanceof ef).length;if(s>1||s>0&&a>0)throw new S(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ef=class t extends Pw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return YM(e._query,n),new To(e.firestore,e.converter,T_(e._query,n))}_parse(e){let n=ff(e.firestore);return function(o,s,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new S(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){KA(d,l);let p=[];for(let v of d)p.push(WA(c,o,v));h={arrayValue:{values:p}}}else h=WA(c,o,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||KA(d,l),h=w4(a,s,d,l==="in"||l==="not-in");return We.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Fr(t,e,n){let r=e,i=tI("where",t);return ef._create(i,r,n)}var kw=class t extends Xc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)YM(s,c),s=T_(s,c)}(e._query,n),new To(e.firestore,e.converter,T_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function WA(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new S(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iM(e)&&n.indexOf("/")!==-1)throw new S(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(xe.fromString(n));if(!k.isDocumentKey(r))throw new S(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wA(t,new k(r))}if(n instanceof _t)return wA(t,n._key);throw new S(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function KA(t,e){if(!Array.isArray(t)||t.length===0)throw new S(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YM(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new S(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new S(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Ow=class{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return So(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Zc(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Uw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){let n=kr(e);return new me(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=xe.fromString(e);Te(CM(r));let i=new xh(r.get(1),r.get(3)),o=new k(r.popFirst(5));return i.isEqual(n)||lr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function JM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var yo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},tf=class extends Xh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(tI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ls=class extends tf{data(e={}){return super.data(e)}},nf=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ls(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:E4(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function E4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}function nI(t){t=Ot(t,_t);let e=Ot(t.firestore,Ln);return f4(hf(e),t._key).then(n=>ex(e,t,n))}var eu=class extends Ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}};function pf(t){t=Ot(t,To);let e=Ot(t.firestore,Ln),n=hf(e),r=new eu(e);return QM(t._query),p4(n,t._query).then(i=>new nf(e,r,t,i))}function ea(t,e,n){t=Ot(t,_t);let r=Ot(t.firestore,Ln),i=JM(t.converter,e,n);return mf(r,[GM(ff(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cr.none())])}function ZM(t,e,n,...r){t=Ot(t,_t);let i=Ot(t.firestore,Ln),o=ff(i),s;return s=typeof(e=Ze(e))=="string"||e instanceof Js?_4(o,"updateDoc",t._key,e,n,r):v4(o,"updateDoc",t._key,e),mf(i,[s.toMutation(t._key,cr.exists(!0))])}function rI(t){return mf(Ot(t.firestore,Ln),[new Hc(t._key,cr.none())])}function XM(t,e){let n=Ot(t.firestore,Ln),r=Jt(t),i=JM(t.converter,e);return mf(n,[GM(ff(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function ta(t,...e){var n,r,i;t=Ze(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||zA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(zA(e[s])){let d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof _t)u=Ot(t.firestore,Ln),l=of(t._key.path),c={next:d=>{e[s]&&e[s](ex(u,t,d))},error:e[s+1],complete:e[s+2]};else{let d=Ot(t,To);u=Ot(d.firestore,Ln),l=d._query;let h=new eu(u);c={next:p=>{e[s]&&e[s](new nf(u,h,d,p))},error:e[s+1],complete:e[s+2]},QM(t._query)}return function(h,p,v,E){let D=new Qc(E),x=new Kc(p,D,v);return h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return Qw(yield Kh(h),x)})),()=>{D.Qa(),h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return Yw(yield Kh(h),x)}))}}(hf(u),l,a,c)}function mf(t,e){return function(r,i){let o=new mn;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return n4(yield h4(r),i,o)})),o.promise}(hf(t),e)}function ex(t,e,n){let r=n.docs.get(e._key),i=new eu(t);return new tf(t,i,e._key,r,new yo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Zs=i})(oi),ii(new ln("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ln(new r_(r.getProvider("auth-internal")),new a_(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new S(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(u.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),lt(gA,"4.6.0",e),lt(gA,"4.6.0","esm2017")})();var yn=class{constructor(e,n,r,i,o,s,a,c,u,l,d,h){this.id=e,this.date=n,this.name=r,this.number=i,this.email=o,this.booking_type=s,this.start_time=a,this.end_time=c,this.total_amount=u,this.amount_received=l,this.balance=d,this.comments=h}toDictionary(){return{id:this.id,date:this.date,name:this.name,number:this.number,email:this.email,booking_type:this.booking_type,start_time:this.start_time,end_time:this.end_time,total_amount:this.total_amount,amount_received:this.amount_received,balance:this.balance,comments:this.comments}}};var gf=(()=>{let e=class e{constructor(){this.startTimes=["---","9:00 am","9:30 am","10:00 am","10:30 am","11:00 am","11:30 am","12:00 pm","12:30 pm","1:00 pm","1:30 pm","2:00 pm","2:30 pm","3:00 pm","3:30 pm","4:00 pm","4:30 pm","5:00 pm","5:30 pm","6:00 pm","6:30 pm","7:00 pm","7:30 pm","8:00 pm","8:30 pm","9:00 pm","9:30 pm"],this.formFields=["---","date","name","number","email","booking_type","start_time","end_time","total_amount","amount_received","balance","comments"]}getStartTimes(){return this.startTimes}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xe=(()=>{let e=class e{convertTimestampToDateStr(r){return r.toDate().toISOString().split("T")[0]}createNewBooking(){return new yn("",me.now(),"",0,"","","","",0,0,0,"")}bookingDictToModel(r){return new yn(r.id,r.date,r.name,r.number,r.email,r.booking_type,r.start_time,r.end_time,r.total_amount,r.amount_received,r.balance,r.comments)}getBookingData(r){let o=new yn("",r.date,r.name,r.number,r.email,r.booking_type,r.start_time,r.end_time,r.total_amount,r.amount_received,r.balance,r.comments).toDictionary();return o.date=this.htmlDateToTimestamp(o.date),o}getBookingForm(){return this.bookingForm}openPageExcelUpload(){this.currentPage=""}setCurrentPage(r){r==="previous"?(this.currentPage=this.lastPage,this.lastPage="home"):this.currentPage=r}htmlDateToTimestamp(r){let i=new Date(r),o=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,1,0);return me.fromDate(o)}calculateDurationHours(r,i){let o=new gf().startTimes,s=o.indexOf(r.toLowerCase()),a=o.indexOf(i.toLowerCase());return s===-1||a===-1?0:(a-s)*.5}updateBooking(r,i){let o=i.find(s=>s.id===r);this.bookingForm.patchValue({id:o.id,date:this.formatDate(o.date),name:o.name,number:o.number,email:o.email,booking_type:o.booking_type,start_time:o.start_time?.toLowerCase()??null,end_time:o.end_time?.toLowerCase()??null,total_amount:o.total_amount,amount_received:o.amount_received,balance:o.balance,comments:o.comments})}formatDate(r){let i=r.toDate(),o=""+(i.getMonth()+1),s=""+i.getDate(),a=i.getFullYear();return o.length<2&&(o="0"+o),s.length<2&&(s="0"+s),[a,o,s].join("-")}constructor(){this.currentPage="home",this.lastPage="home",this.showBookingsForYear=new Date().getFullYear(),this.showBookingsForMonth=new Date().getMonth()+1,this.tournamentModalTitle="",this.tournamentModalType="",this.tournamentModalValue="",this.tournamentId="",this.pages={home:"home","excel-match":"excel-match","excel-form":"excel-form","all-booking":"all-booking","add-booking":"add-booking"},this.bookingForm=new et({id:new pe(""),date:new pe("",Pn.required),name:new pe("",Pn.required),number:new pe(""),email:new pe(""),booking_type:new pe(""),start_time:new pe(""),end_time:new pe(""),total_amount:new pe(0),amount_received:new pe(0),balance:new pe(0),comments:new pe("")}),this.firstExcelData=[],this.fullExcelData=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function D4(t,e){if(t&1){let n=Rt();g(0,"tr")(1,"th",4),y(2),jt(3,"date"),O(4,"br"),y(5),jt(6,"date"),m(),g(7,"td"),y(8),O(9,"br"),y(10),O(11,"br"),y(12),m(),g(13,"td"),y(14),O(15,"br"),y(16),O(17,"br"),y(18),m(),g(19,"td")(20,"button",5),R("click",function(){let i=Re(n).$implicit,o=De();return Ne(o.updateBooking(i.id))}),y(21,"Update"),m()()()}if(t&2){let n=e.$implicit,r=De();A(2),Dt(" ",Bt(3,8,n.date.toDate(),"dd-MM-yyyy"),""),A(3),Dt(" ",Bt(6,11,n.date.toDate(),"EEEE")," "),A(3),ye(n.name),A(2),ye(n.number),A(2),ye(n.booking_type),A(2),ye(n.start_time),A(2),ye(n.end_time),A(2),Dt("",r.getDurhour(n.start_time,n.end_time)," hr")}}var tx=(()=>{let e=class e{constructor(r){this.sharedService=r,this.db=gn(),this.bookings=[],this.router=w(Je)}ngOnInit(){this.get2daysBooking()}getDurhour(r,i){return r!=null&&i!=null?this.sharedService.calculateDurationHours(r,i):"x"}updateBooking(r){this.sharedService.updateBooking(r,this.bookings),this.router.navigateByUrl("/booking-form")}get2daysBooking(){return f(this,null,function*(){console.log("get2daysBooking()");let r=new Date().setHours(0,0,0,0),i=new Date(r);console.log(i);let o=_i(fr(this.db,"bookings"),Fr("date",">=",me.fromDate(i))),s=yield pf(o);this.bookings=[],s.forEach(a=>{console.log(a.id," => ",a.data());let c=a.data(),u=new yn(a.id,c.date,c.name,c.number,c.email,c.booking_type,c.start_time,c.end_time,c.total_amount,c.amount_received,c.balance,c.comments);this.bookings.push(u)})})}};e.\u0275fac=function(i){return new(i||e)(M(Xe))},e.\u0275cmp=Ee({type:e,selectors:[["app-bookings"]],standalone:!0,features:[be],decls:16,vars:1,consts:[[1,"container"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","button",1,"btn","btn-primary","mx-1",3,"click"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"h3"),y(2," Today & Later "),m()(),g(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),y(7,"Date"),m(),g(8,"th",2),y(9,"Booked by"),m(),g(10,"th",2),y(11,"Slot"),m(),g(12,"th",2),y(13,"Action"),m()()(),g(14,"tbody"),Pe(15,D4,22,14,"tr",3),m()()),i&2&&(A(15),G("ngForOf",o.bookings))},dependencies:[ct,cn,Qn]});let t=e;return t})();var Mo=class{constructor(e,n,r,i,o,s,a,c,u,l,d){this.id=e,this.date=n,this.sport=r,this.isLive=i,this.isCompleted=o,this.bannerLastDate=s,this.bannerDesc=a,this.bannerTitle=c,this.formHeading=u,this.formDesc=l,this.formTerms=d}},nx={toFirestore(t){let e={id:t.id,date:t.date,sport:t.sport,isLive:t.isLive,isCompleted:t.isCompleted,bannerLastDate:t.bannerLastDate,bannerDesc:t.bannerDesc,bannerTitle:t.bannerTitle,formHeading:t.formHeading,formDesc:t.formDesc,formTerms:t.formTerms};return Object.keys(e).forEach(n=>{e[n]===void 0&&delete e[n]}),e},fromFirestore(t,e){let n=t.data(e);return new Mo(n.id,n.date,n.sport,n.isLive,n.isCompleted,n.bannerLastDate,n.bannerDesc,n.bannerTitle,n.formHeading,n.formDesc,n.formTerms)}};var xo=class{constructor(e,n){this.bannerTitle=e,this.bannerDesc=n}};var vn=(()=>{let e=class e{constructor(){this.db=gn()}addData(r,i){return f(this,null,function*(){try{let o=yield XM(fr(this.db,i),r);yield ea(o,he(T({},r),{id:o.id}))}catch(o){console.error("Error writing document: ",o),alert("Error writing document: "+o)}})}addTournament(r){console.log(r),this.addData(T({},r),"tournament")}deleteTournament(r){return f(this,null,function*(){try{console.log("Deleting doc id",r),yield rI(Jt(this.db,"tournament",r))}catch(i){console.error("Error deleting document: ",i),alert("Error deleting document: "+i)}})}updateTournament(r,i){return f(this,null,function*(){console.log("firestore service: updating tournament"),console.log(r);let o=Jt(this.db,"tournament",i).withConverter(nx);yield ea(o,r)})}patchTournament(r,i){return f(this,null,function*(){let o=Jt(this.db,"tournament",i);yield ZM(o,r),console.log("firestore service : patchTournament completed")})}addBooking(r){console.log(r),this.addData(r,"bookings")}updateBooking(r,i){return f(this,null,function*(){let o=T({},r);yield ea(Jt(this.db,"bookings",i),o)})}deleteBooking(r){return f(this,null,function*(){yield rI(Jt(this.db,"bookings",r))})}getDefaultTour(){return f(this,null,function*(){let r=Jt(this.db,"tournament","default"),i=yield nI(r);return i.exists()?new xo(i.data().bannerTitle,i.data().bannerDesc):new xo("x","x")})}setDefaultTour(r){return f(this,null,function*(){let i=Jt(this.db,"tournament","default");yield ea(i,T({},r)),console.log("Setting default successfull")})}getDefaultTourForm(){return f(this,null,function*(){let r=Jt(this.db,"tournament","defaultForm"),i=yield nI(r);return i.exists()?i.data():{}})}setDefaultTourForm(r){return f(this,null,function*(){let i=Jt(this.db,"tournament","defaultForm");yield ea(i,r),console.log("Setting defaultForm successfull")})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function b4(t,e){t&1&&(g(0,"button",31),y(1,` Upload Excel
`),m())}function C4(t,e){if(t&1){let n=Rt();g(0,"div",32)(1,"button",33),R("click",function(){Re(n);let i=De();return Ne(i.goBack())}),y(2," Close "),m(),g(3,"button",34),R("click",function(){Re(n);let i=De();return Ne(i.onDelete())}),y(4," Delete Booking "),m()()}}function T4(t,e){if(t&1&&(g(0,"option",35),y(1),m()),t&2){let n=e.$implicit;Dr("value",n),A(),ye(n)}}function S4(t,e){if(t&1&&(g(0,"option",35),y(1),m()),t&2){let n=e.$implicit;Dr("value",n),A(),ye(n)}}var rx=(()=>{let e=class e{constructor(r){this.location=r,this.startTimes=[],this.bookingForm=new et({}),this.constantsService=w(gf),this.sharedService=w(Xe),this.firestoreService=w(vn),this.startTimes=this.constantsService.getStartTimes(),this.bookingForm=this.sharedService.getBookingForm(),console.log(this.bookingForm.value)}goBack(){this.location.back()}onSubmit(){console.warn(this.bookingForm.value),this.bookingData=this.bookingForm.value;let r=this.sharedService.getBookingData(this.bookingData);this.bookingData.id!==null&&this.bookingData.id!==""?(console.log("updateData()"),this.firestoreService.updateBooking(r,this.bookingData.id),this.location.back(),this.bookingForm.reset()):(console.log("addData()"),this.firestoreService.addBooking(r),alert("Booking added!"),this.bookingForm.reset())}onDelete(){console.log("onDelete()"),confirm("Are you sure you want to delete this booking?")&&(this.bookingData=this.bookingForm.value,this.firestoreService.deleteBooking(this.bookingData.id),console.log("Delete Successful"),this.location.back())}};e.\u0275fac=function(i){return new(i||e)(M(zi))},e.\u0275cmp=Ee({type:e,selectors:[["app-bookingform"]],standalone:!0,features:[be],decls:55,vars:8,consts:[["routerLink","/excel-form","type","button","class","btn btn-primary mx-1",4,"ngIf"],["class","d-flex flex-row-reverse",4,"ngIf"],[1,"container"],[1,"row",3,"ngSubmit","formGroup"],["id","id","hidden","","formControlName","id"],[1,"col-12","col-lg-6"],["for","date",1,"form-label","mt-4"],["id","date","type","date","placeholder","Enter Date","formControlName","date",1,"form-control"],["for","name",1,"form-label","mt-4"],["id","name","type","text","placeholder","Enter Name","formControlName","name",1,"form-control"],["for","number",1,"form-label","mt-4"],["id","number","type","tel","placeholder","Enter Mobile","formControlName","number",1,"form-control"],["for","email",1,"form-label","mt-4"],["id","email","type","email","placeholder","Enter Email","formControlName","email",1,"form-control"],["for","booking_type",1,"form-label","mt-4"],["id","booking_type","type","text","placeholder","Enter Booking Type","formControlName","booking_type",1,"form-control"],[1,"col-6","col-lg-6"],["for","start_time",1,"form-label","mt-4"],["id","start_time","formControlName","start_time",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","end_time",1,"form-label","mt-4"],["id","end_time","formControlName","end_time",1,"form-select"],["for","total_amount",1,"form-label","mt-4"],["id","total_amount","type","number","placeholder","Enter Total Amount","formControlName","total_amount",1,"form-control"],["for","amount_received",1,"form-label","mt-4"],["id","amount_received","type","number","placeholder","Enter Amount Received","formControlName","amount_received",1,"form-control"],["for","balance",1,"form-label","mt-4"],["id","balance","type","number","formControlName","balance",1,"form-control",3,"readOnly","value"],["for","comments",1,"form-label","mt-4"],["id","comments","type","text","placeholder","Enter Comments","formControlName","comments",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["routerLink","/excel-form","type","button",1,"btn","btn-primary","mx-1"],[1,"d-flex","flex-row-reverse"],["type","button",1,"btn","btn-primary","mx-1","float-end",3,"click"],["type","button",1,"btn","btn-danger","mx-1","float-end",3,"click"],[3,"value"]],template:function(i,o){if(i&1&&(Pe(0,b4,2,0,"button",0)(1,C4,5,0,"div",1),g(2,"div",2)(3,"form",3),R("ngSubmit",function(){return o.onSubmit()}),O(4,"input",4),g(5,"div",5)(6,"label",6),y(7,"Date: "),m(),O(8,"input",7),m(),g(9,"div",5)(10,"label",8),y(11,"Name: "),m(),O(12,"input",9),m(),g(13,"div",5)(14,"label",10),y(15,"Mobile No.: "),m(),O(16,"input",11),m(),g(17,"div",5)(18,"label",12),y(19,"Email: "),m(),O(20,"input",13),m(),g(21,"div",5)(22,"label",14),y(23,"Booking Type: "),m(),O(24,"input",15),m(),g(25,"div",16)(26,"label",17),y(27,"Start Time"),m(),g(28,"select",18),Pe(29,T4,2,2,"option",19),m()(),g(30,"div",16)(31,"label",20),y(32,"End Time"),m(),g(33,"select",21),Pe(34,S4,2,2,"option",19),m()(),g(35,"div",5)(36,"label",22),y(37,"Total Amount: "),m(),O(38,"input",23),m(),g(39,"div",5)(40,"label",24),y(41,"Amount Received: "),m(),O(42,"input",25),m(),g(43,"div",5)(44,"label",26),y(45,"Balance: "),m(),O(46,"input",27),m(),g(47,"div",5)(48,"label",28),y(49,"Comments: "),m(),O(50,"input",29),m(),g(51,"p"),y(52,"Complete the form to enable button."),m(),g(53,"button",30),y(54," Submit "),m()()()),i&2){let s,a;G("ngIf",((s=o.bookingForm.get("id"))==null?null:s.value)===""||!((s=o.bookingForm.get("id"))!=null&&s.value)),A(),G("ngIf",((a=o.bookingForm.get("id"))==null?null:a.value)!==""&&((a=o.bookingForm.get("id"))==null?null:a.value)),A(2),G("formGroup",o.bookingForm),A(26),G("ngForOf",o.startTimes),A(5),G("ngForOf",o.startTimes),A(12),G("readOnly",!0)("value",o.bookingForm.get("total_amount").value-o.bookingForm.get("amount_received").value),A(7),G("disabled",!o.bookingForm.valid)}},dependencies:[hn,kt,Cs,Ts,dn,iv,hi,Nt,Pt,zt,Wt,ct,cn,as,gs]});let t=e;return t})();function A4(t,e){if(t&1&&(g(0,"option",11),y(1),m()),t&2){let n=e.$implicit;G("value",n),A(),ye(n)}}function M4(t,e){if(t&1&&(g(0,"option",11),y(1),m()),t&2){let n=e.$implicit;G("value",n),A(),ye(n)}}function x4(t,e){if(t&1){let n=Rt();g(0,"tr")(1,"th",12),y(2),jt(3,"date"),O(4,"br"),y(5),jt(6,"date"),m(),g(7,"td"),y(8),O(9,"br"),y(10),O(11,"br"),y(12),m(),g(13,"td"),y(14),O(15,"br"),y(16),O(17,"br"),y(18),m(),g(19,"td")(20,"button",13),R("click",function(){let i=Re(n).$implicit,o=De();return Ne(o.updateBooking(i.id))}),y(21,"Update"),m()()()}if(t&2){let n=e.$implicit,r=De();A(2),Dt(" ",Bt(3,8,n.date.toDate(),"dd-MM-yyyy"),""),A(3),Dt(" ",Bt(6,11,n.date.toDate(),"EEEE")," "),A(3),ye(n.name),A(2),ye(n.number),A(2),ye(n.booking_type),A(2),ye(n.start_time),A(2),ye(n.end_time),A(2),Dt("",r.getDurhour(n.start_time,n.end_time)," hr")}}var ix=(()=>{let e=class e{constructor(r){this.sharedService=r,this.bookings=[],this.router=w(Je),this.years=[],this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.bookMonthYear=new et({year:new pe(this.sharedService.showBookingsForYear),month:new pe(this.getMonthName(this.sharedService.showBookingsForMonth))})}ngOnInit(){return f(this,null,function*(){this.bookMonthYear.get("year")?.valueChanges.subscribe(o=>{console.log("Year changed:",o),this.sharedService.showBookingsForYear=o,console.log("updating year"),this.bookings=[],this.getAllBooking()}),this.bookMonthYear.get("month")?.valueChanges.subscribe(o=>{console.log("Month changed:",o),console.log("updating month"," - current :",this.sharedService.showBookingsForMonth,"new :",o),this.sharedService.showBookingsForMonth=this.getMonthNumber(o),this.bookings=[],this.getAllBooking()}),yield this.getAllBooking();let r=new Date().getFullYear(),i=2021;this.years=Array.from({length:r-i+1},(o,s)=>i+s)})}getMonthNumber(r){return this.months.indexOf(r)+1}getMonthName(r){return this.months[r-1]}getAllBooking(){return f(this,null,function*(){let r=gn(),i=this.sharedService.showBookingsForYear,o=this.sharedService.showBookingsForMonth,s=new Date(i,o-1,1),a=new Date(i,o,0);console.log("getAllBooking()",s,a);let c=_i(fr(r,"bookings"),Fr("date",">=",me.fromDate(s)),Fr("date","<=",me.fromDate(a))),u=yield pf(c);console.log("Number of querySnapshot is",u.size),u.forEach(l=>{let d=l.data(),h=new yn(l.id,d.date,d.name,d.number,d.email,d.booking_type,d.start_time,d.end_time,d.total_amount,d.amount_received,d.balance,d.comments);this.bookings.push(h)})})}updateBooking(r){this.sharedService.updateBooking(r,this.bookings),this.router.navigateByUrl("/booking-form")}getDurhour(r,i){return r!=null&&i!=null?this.sharedService.calculateDurationHours(r,i):"x"}};e.\u0275fac=function(i){return new(i||e)(M(Xe))},e.\u0275cmp=Ee({type:e,selectors:[["app-allbookings"]],standalone:!0,features:[be],decls:26,vars:4,consts:[[1,"container"],[3,"formGroup"],[1,"row"],[1,"col-6","col-lg-6"],["for","year",1,"form-label","mt-4"],["id","year","formControlName","year",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["id","year","formControlName","month",1,"form-select"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[3,"value"],["scope","row"],["type","button",1,"btn","btn-primary","mx-1",3,"click"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),y(5,"Year: "),m(),g(6,"select",5),Pe(7,A4,2,2,"option",6),m()(),g(8,"div",3)(9,"label",4),y(10,"Month: "),m(),g(11,"select",7),Pe(12,M4,2,2,"option",6),m()()()()(),g(13,"table",8)(14,"thead")(15,"tr")(16,"th",9),y(17,"Date"),m(),g(18,"th",9),y(19,"Booked by"),m(),g(20,"th",9),y(21,"Slot"),m(),g(22,"th",9),y(23,"Action"),m()()(),g(24,"tbody"),Pe(25,x4,22,14,"tr",10),m()()),i&2&&(A(),G("formGroup",o.bookMonthYear),A(6),G("ngForOf",o.years),A(5),G("ngForOf",o.months),A(13),G("ngForOf",o.bookings))},dependencies:[ct,cn,Qn,hn,kt,Cs,Ts,hi,Nt,Pt,zt,Wt]});let t=e;return t})();var ox=(()=>{let e=class e{constructor(r){this.sharedService=r,this.router=w(Je),this.excelForm=new et({excel_data:new pe("")})}onSubmitExcel(){console.warn(this.excelForm.value.excel_data);let r=this.excelForm.value.excel_data?.split(`
`)||[],i=[];r.forEach(o=>{let s=o.split("	");i.push(s)}),console.log("Excel lines:",i.length),this.sharedService.fullExcelData=i,this.sharedService.firstExcelData=i[0],this.router.navigateByUrl("/excel-match")}};e.\u0275fac=function(i){return new(i||e)(M(Xe))},e.\u0275cmp=Ee({type:e,selectors:[["app-excel-form"]],standalone:!0,features:[be],decls:14,vars:2,consts:[[1,"container"],[1,"row",3,"ngSubmit","formGroup"],["for","excel_data",1,"form-label","mt-4"],["id","excel_data","cols","30","rows","10","placeholder","Paste Excel Data","formControlName","excel_data",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"form",1),R("ngSubmit",function(){return o.onSubmitExcel()}),g(2,"label",2),y(3,"Excel Data: "),m(),O(4,"textarea",3),g(5,"button",4),y(6," Submit "),m()()(),g(7,"div",0)(8,"p"),y(9,"Note:"),m(),g(10,"p"),y(11,"Pasted data is split by newline (for Rows) and then split by tab (for Columns)."),m(),g(12,"p"),y(13,"Tested on google sheets"),m()()),i&2&&(A(),G("formGroup",o.excelForm),A(4),G("disabled",!o.excelForm.valid))},dependencies:[hn,kt,dn,Nt,Pt,zt,Wt]});let t=e;return t})();function R4(t,e){if(t&1&&(g(0,"option",10),y(1),m()),t&2){let n=e.$implicit,r=e.first;G("selected",r),A(),ye(n)}}function N4(t,e){if(t&1){let n=Rt();g(0,"div",4),y(1),m(),g(2,"div",5)(3,"select",6),Bm("ngModelChange",function(i){let o=Re(n).index,s=De();return xD(s.selectedFields[o],i)||(s.selectedFields[o]=i),Ne(i)}),Pe(4,R4,2,2,"option",7),m()(),g(5,"div",5)(6,"fieldset",8),O(7,"input",9),m()()}if(t&2){let n=e.$implicit,r=e.index,i=De();A(),Um(" Row",r+1," (",i.getAlphabet(r+1),") "),A(2),$i("id","row",r,""),$i("name","select",r,""),jm("ngModel",i.selectedFields[r]),A(),G("ngForOf",i.formFields),A(3),Dr("placeholder",n)}}var sx=(()=>{let e=class e{constructor(r){this.sharedService=r,this.formFields=[],this.selectedFields=[],this.firestoreService=w(vn),this.router=w(Je),this.firstExcelData=this.sharedService.firstExcelData;let i=new yn("",me.now(),"",new Number,"","","","",new Number,new Number,new Number,""),o=Object.keys(i).slice(1);o.unshift("---"),this.formFields=o}ngOnInit(){this.sharedService.firstExcelData.forEach((r,i)=>{this.selectedFields[i]=this.formFields[0]})}onSubmit(){console.log("Selected Fields:",this.selectedFields),this.sharedService.fullExcelData.forEach(r=>{let i={};this.formFields.slice(1).forEach((s,a)=>{let c=this.selectedFields.indexOf(s);c!==-1?i[s]=r[c]:i[s]=""}),console.log(i);let o=this.sharedService.getBookingData(i);this.firestoreService.addBooking(o)}),this.sharedService.fullExcelData=[],this.sharedService.firstExcelData=[],this.router.navigateByUrl("/")}getAlphabet(r){return String.fromCharCode(65+r-1)}};e.\u0275fac=function(i){return new(i||e)(M(Xe))},e.\u0275cmp=Ee({type:e,selectors:[["app-excel-match"]],standalone:!0,features:[be],decls:5,vars:1,consts:[[1,"container"],[1,"row",3,"ngSubmit"],["ngFor","",3,"ngForOf"],["type","submit",1,"btn","btn-primary"],[1,"col-2"],[1,"col-5"],[1,"form-select",3,"ngModelChange","id","name","ngModel"],[3,"selected",4,"ngFor","ngForOf"],["disabled",""],["id","disabledInput","type","text","disabled","",1,"form-control",3,"placeholder"],[3,"selected"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"form",1),R("ngSubmit",function(){return o.onSubmit()}),Pe(2,N4,8,9,"ng-template",2),g(3,"button",3),y(4,"Submit"),m()()()),i&2&&(A(2),G("ngForOf",o.firstExcelData))},dependencies:[ct,cn,WT,kt,Cs,Ts,hi,Nt,Pt,rv,nv]});let t=e;return t})();function P4(t,e){if(t&1){let n=Rt();g(0,"tr")(1,"td"),y(2),jt(3,"date"),m(),g(4,"td"),y(5),m(),g(6,"td")(7,"input",19),R("change",function(i){let o=Re(n).$implicit,s=De();return Ne(s.updateIsLive(o.id,i))}),m()(),g(8,"td")(9,"button",20),R("click",function(){let i=Re(n).$implicit,o=De();return Ne(o.editTour(i.id))}),y(10,"Edit"),m(),g(11,"button",21),R("click",function(){let i=Re(n).$implicit,o=De();return Ne(o.deleteTour(i.id))}),y(12,"Delete"),m(),g(13,"button",22),R("click",function(){let i=Re(n).$implicit,o=De();return Ne(o.complete(i.id))}),y(14,"Completed"),m()()()}if(t&2){let n=e.$implicit;A(2),ye(Bt(3,3,n.date.toDate(),"dd-MM-yyyy")),A(3),ye(n.sport),A(2),G("checked",n.isLive)}}var ax=(()=>{let e=class e{constructor(){this.sharedService=w(Xe),this.firestoreService=w(vn),this.router=w(Je),this.tournaments=[],this.createTourForm=new et({date:new pe("",Pn.required),sport:new pe("cricket",Pn.required)})}ngOnInit(){this.getAllTournament()}ngOnDestroy(){this.unsubscribe&&(console.log("unsubscribing tournament"),this.unsubscribe())}create(){return f(this,null,function*(){console.log(this.createTourForm.value);let r=yield this.firestoreService.getDefaultTour(),i=new Date(this.createTourForm.value.date),o=new Date(i);o.setDate(i.getDate()-1),this.firestoreService.addTournament(new Mo("",me.fromDate(i),this.createTourForm.value.sport,!1,!1,me.fromDate(o),r.bannerDesc,r.bannerTitle,"","",""))})}deleteTour(r){window.confirm("Are you sure to Delete this tournament?")&&this.firestoreService.deleteTournament(r)}editTour(r){this.sharedService.tournamentId=r,this.router.navigateByUrl("/edit-tournament")}complete(r){let i=this.tournaments.find(o=>o.id===r);i.isCompleted=!0,this.firestoreService.updateTournament(i,r)}getAllTournament(){return f(this,null,function*(){let r=gn(),i=_i(fr(r,"tournament"),Fr("isCompleted","==",!1));this.unsubscribe=ta(i,o=>{this.tournaments=[],new Date().setHours(0,0,0,0),console.log("getAllTournament()"),o.forEach(a=>{let c=a.data();this.tournaments.push({id:a.id,date:c.date,sport:c.sport,isLive:c.isLive,isCompleted:c.isCompleted,bannerLastDate:c.bannerLastDate,bannerDesc:c.bannerDesc,bannerTitle:c.bannerTitle,formHeading:c.formHeading,formDesc:c.formDesc,formTerms:c.formTerms})}),console.log(this.tournaments)})})}updateIsLive(r,i){let o=this.tournaments.find(u=>u.id===r),s=i.target.checked,a=s?"Do you want to mark this event live?":"Do you want to mark this event not live?";window.confirm(a)?(console.log("updateIsLive",r),o.isLive=s,this.firestoreService.updateTournament(o,r)):i.target.checked=!s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-tournament"]],standalone:!0,features:[be],decls:41,vars:3,consts:[[1,"container","my-3",3,"ngSubmit","formGroup"],[1,"card","p-3"],[1,"row"],[1,"col-md-4"],[1,"form-label"],["type","date","formControlName","date",1,"form-control"],[1,"form-check"],["id","formCheck-1","type","radio","value","cricket","formControlName","sport",1,"form-check-input"],["for","formCheck-1",1,"form-check-label"],["id","formCheck-2","type","radio","value","football","formControlName","sport",1,"form-check-input"],["for","formCheck-2",1,"form-check-label"],[1,"col-md-4","d-xl-flex","justify-content-xl-center","align-items-xl-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"container"],[1,"d-flex","justify-content-between"],["routerLink","/old-tournaments",1,"btn","btn-primary"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["type","checkbox",3,"change","checked"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(i,o){i&1&&(g(0,"form",0),R("ngSubmit",function(){return o.create()}),g(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),y(5,"Date"),m(),O(6,"input",5),m(),g(7,"div",3)(8,"label",4),y(9,"Sport"),m(),g(10,"div",6),O(11,"input",7),g(12,"label",8),y(13,"Cricket"),m()(),g(14,"div",6),O(15,"input",9),g(16,"label",10),y(17,"Football"),m()()(),g(18,"div",11)(19,"button",12),y(20,"Create"),m()()()()(),g(21,"div",13)(22,"div",14)(23,"h3"),y(24,"Upcoming Tournaments"),m(),g(25,"button",15),y(26,"View Completed"),m()(),g(27,"div",16)(28,"table",17)(29,"thead")(30,"tr")(31,"th"),y(32,"Date"),m(),g(33,"th"),y(34,"Sport"),m(),g(35,"th"),y(36,"Live"),m(),g(37,"th"),y(38,"Action"),m()()(),g(39,"tbody"),Pe(40,P4,15,6,"tr",18),m()()()()),i&2&&(G("formGroup",o.createTourForm),A(19),G("disabled",!o.createTourForm.valid),A(21),G("ngForOf",o.tournaments))},dependencies:[hn,kt,dn,ov,Nt,Pt,zt,Wt,ct,cn,Qn,gs]});let t=e;return t})();function k4(t,e){if(t&1){let n=Rt();g(0,"tr")(1,"td"),y(2),jt(3,"date"),m(),g(4,"td"),y(5),m(),g(6,"td")(7,"button",6),R("click",function(){let i=Re(n).$implicit,o=De();return Ne(o.editTour(i.id))}),y(8,"Edit"),m(),g(9,"button",7),R("click",function(){let i=Re(n).$implicit,o=De();return Ne(o.deleteTour(i.id))}),y(10,"Delete"),m(),g(11,"button",8),R("click",function(){let i=Re(n).$implicit,o=De();return Ne(o.incomplete(i.id))}),y(12,"Incomplete"),m()()()}if(t&2){let n=e.$implicit;A(2),ye(Bt(3,2,n.date.toDate(),"dd-MM-yyyy")),A(3),ye(n.sport)}}var cx=(()=>{let e=class e{constructor(){this.tournaments=[],this.firestoreService=w(vn)}ngOnInit(){this.getAllTournament()}ngOnDestroy(){this.unsubscribe&&(console.log("unsubscribing tournament"),this.unsubscribe())}getAllTournament(){return f(this,null,function*(){let r=gn(),i=_i(fr(r,"tournament"),Fr("isCompleted","==",!0));this.unsubscribe=ta(i,o=>{this.tournaments=[],new Date().setHours(0,0,0,0),console.log("getAllTournament()"),o.forEach(a=>{let c=a.data();this.tournaments.push({id:a.id,date:c.date,sport:c.sport,isLive:c.isLive,isCompleted:c.isCompleted,bannerLastDate:c.bannerLastDate,bannerDesc:c.bannerDesc,bannerTitle:c.bannerTitle,formHeading:c.formHeading,formDesc:c.formDesc,formTerms:c.formTerms})})})})}editTour(r){}deleteTour(r){window.confirm("Are you sure to Delete this tournament?")&&this.firestoreService.deleteTournament(r)}incomplete(r){let i=this.tournaments.find(o=>o.id===r);i.isCompleted=!1,this.firestoreService.updateTournament(i,r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-old-tournaments"]],standalone:!0,features:[be],decls:18,vars:1,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["routerLink","/old-tournaments",1,"btn","btn-primary"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"div",1)(2,"h3"),y(3,"Upcoming Tournaments"),m(),g(4,"button",2),y(5,"View Completed"),m()(),g(6,"div",3)(7,"table",4)(8,"thead")(9,"tr")(10,"th"),y(11,"Date"),m(),g(12,"th"),y(13,"Sport"),m(),g(14,"th"),y(15,"Action"),m()()(),g(16,"tbody"),Pe(17,k4,13,5,"tr",5),m()()()()),i&2&&(A(17),G("ngForOf",o.tournaments))},dependencies:[ct,cn,Qn]});let t=e;return t})();var ux=(()=>{let e=class e{constructor(){this.firestoreService=w(vn),this.tourForm=new et({heading:new pe(""),description:new pe(""),terms:new pe("")})}ngOnChanges(r){this.tournament&&(console.log("change detected: ",this.tournament),this.tourForm.patchValue({heading:this.tournament.formHeading,description:this.tournament.formDesc,terms:this.tournament.formTerms}))}onSubmit(){let r=this.tourForm.value,i={};r.heading!==void 0&&(i.formHeading=r.heading),r.description!==void 0&&(i.formDesc=r.description),r.terms!==void 0&&(i.formTerms=r.terms),console.log(i),this.firestoreService.patchTournament(i,this.tournament.id),alert("Successfully updated")}updateDefaults(){if(confirm("This will override previous defaults, continue?")){let r=this.tourForm.value,i={};r.heading!==void 0&&(i.formHeading=r.heading),r.description!==void 0&&(i.formDesc=r.description),r.terms!==void 0&&(i.formTerms=r.terms),this.firestoreService.setDefaultTourForm(i),alert("Setting defaults successful")}}applyDefaults(){return f(this,null,function*(){let r=yield this.firestoreService.getDefaultTourForm();this.tourForm.patchValue({heading:r.formHeading,description:r.formDesc,terms:r.formTerms})})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-edit-tournament-form"]],inputs:{tournament:"tournament"},standalone:!0,features:[nn,be],decls:31,vars:1,consts:[[1,"container"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"btn","btn-outline-danger","btn-sm","me-2",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"card-body"],[1,"row",3,"ngSubmit","formGroup"],[1,"col-12"],["for","heading",1,"form-label","mt-4"],["id","heading","type","text","placeholder","Enter Heading","formControlName","heading",1,"form-control"],["for","description",1,"form-label","mt-4"],["id","description","type","text","placeholder","Enter description","formControlName","description",1,"form-control"],[1,"mt-4"],[1,""],["for","terms",1,"form-label","mt-4"],["id","terms","type","text","placeholder","Enter terms","formControlName","terms","rows","10",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-2"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),y(4,"Tournament Form Content"),m(),g(5,"div")(6,"button",3),R("click",function(){return o.updateDefaults()}),y(7,"Save as Default"),m(),g(8,"button",4),R("click",function(){return o.applyDefaults()}),y(9,"Apply Default"),m()()(),g(10,"div",5)(11,"form",6),R("ngSubmit",function(){return o.onSubmit()}),g(12,"div",7)(13,"label",8),y(14,"Heading: "),m(),O(15,"input",9),m(),g(16,"div",7)(17,"label",10),y(18,"Description: "),m(),O(19,"input",11),m(),g(20,"div",7)(21,"p",12),y(22,"Players:"),m(),g(23,"p",13),y(24,"[10 players name and number]"),m()(),g(25,"div",7)(26,"label",14),y(27,"Terms: "),m(),O(28,"textarea",15),m(),g(29,"button",16),y(30," Submit "),m()()()()()),i&2&&(A(11),G("formGroup",o.tourForm))},dependencies:[hn,kt,dn,Nt,Pt,zt,Wt]});let t=e;return t})();var O4=["modal"];function F4(t,e){if(t&1){let n=Rt();g(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h5",18),y(5),m(),g(6,"button",19),R("click",function(){Re(n);let i=De();return Ne(i.closeModal())}),O(7,"span",20),m()(),g(8,"div",21),O(9,"input",22,0),m(),g(11,"div",23)(12,"button",24),R("click",function(){Re(n);let i=MD(10),o=De();return o.closeModal(),Ne(o.onSubmit(o.tournamentModalKey,i.value))}),y(13," Save changes "),m(),g(14,"button",25),R("click",function(){Re(n);let i=De();return Ne(i.closeModal())}),y(15," Close "),m()()()()()}if(t&2){let n=De();A(5),ye(n.tournamentModalTitle),A(4),Dr("type",n.tournamentModalType=="date"?"date":"text"),$i("placeholder","Enter ",n.tournamentModalTitle,""),Dr("value",n.tournamentModalValue)}}var lx=(()=>{let e=class e{constructor(){this.sharedService=w(Xe),this.firestoreService=w(vn),this.isVisible=!1,this.tourId="",this.tournamentModalTitle="",this.tournamentModalType="",this.tournamentModalValue="",this.tournamentModalKey=""}openModal(){this.isVisible=!0,console.log()}closeModal(){this.isVisible=!1}ngOnInit(){this.tourId=this.sharedService.tournamentId,this.getDefaultTour(),this.listenData()}ngOnDestroy(){this.unsubscribe&&(console.log("unsubscribing edit"),this.unsubscribe())}getDefaultTour(){return f(this,null,function*(){this.defaultTournament=yield this.firestoreService.getDefaultTour()})}listenData(){let r=gn(),i=Jt(r,"tournament/"+this.tourId);this.unsubscribe=ta(i,o=>{if(o.exists()){let s=o.data();this.tournament=new Mo(s.id,s.date,s.sport,s.isLive,s.isCompleted,s.bannerLastDate,s.bannerDesc,s.bannerTitle,s.formHeading,s.formDesc,s.formTerms),console.log("Document data:",this.tournament)}else console.log("No such document!")})}setTourModal(r,i,o,s){this.tournamentModalTitle=r,this.tournamentModalType=i,this.tournamentModalValue=o,this.tournamentModalKey=s}editHeading(){this.setTourModal("Title","text",this.tournament.bannerTitle,"bannerTitle")}editDate(){this.setTourModal("Date","date",this.sharedService.convertTimestampToDateStr(this.tournament.date),"date")}editDesc(){this.setTourModal("Description","text",this.tournament.bannerDesc,"bannerDesc")}editLastDate(){this.setTourModal("Last Date","date",this.sharedService.convertTimestampToDateStr(this.tournament.bannerLastDate),"bannerLastDate")}onSubmit(r,i){console.log("Submitted value:",i);let o=T({},this.tournament);o[r]=i,this.firestoreService.updateTournament(o,this.tourId)}updateDefaults(){confirm("This will over ride previous defaults, continue?")&&(this.firestoreService.setDefaultTour(new xo(this.tournament.bannerTitle,this.tournament.bannerDesc)),this.defaultTournament.bannerTitle=this.tournament.bannerTitle,this.defaultTournament.bannerDesc=this.tournament.bannerDesc,alert("Setting defaults successfull"))}applyDefaults(){let r=T({},this.tournament);r.bannerTitle=this.defaultTournament.bannerTitle,r.bannerDesc=this.defaultTournament.bannerDesc,this.firestoreService.updateTournament(r,this.tourId)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-edit-tournament"]],viewQuery:function(i,o){if(i&1&&AD(O4,5),i&2){let s;Vm(s=Lm())&&(o.modal=s.first)}},standalone:!0,features:[be],decls:33,vars:12,consts:[["inputField",""],[1,"container"],[1,"card","my-3"],[1,"card-header","d-flex","justify-content-between"],[1,"btn","btn-outline-danger","btn-sm","me-2",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"card-body"],[1,"card-title"],[1,"btn","btn-outline-warning","btn-sm",3,"click"],[1,"text-muted","card-subtitle","mb-2"],[1,"card-text"],["type","button","routerLink","/tourn-form","disabled","",1,"btn","btn-primary"],[3,"tournament"],["class","modal d-block",4,"ngIf"],[1,"modal","d-block"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","text",1,"form-control",3,"type","placeholder","value"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(g(0,"div",1)(1,"div",2)(2,"div",3)(3,"div"),y(4,"Sample"),m(),g(5,"div")(6,"button",4),R("click",function(){return o.updateDefaults()}),y(7,"Save as Default"),m(),g(8,"button",5),R("click",function(){return o.applyDefaults()}),y(9,"Apply Default"),m()()(),g(10,"div",6)(11,"h4",7),y(12),g(13,"button",8),R("click",function(){return o.editHeading(),o.openModal()}),y(14," Edit "),m()(),g(15,"h6",9),y(16),jt(17,"date"),g(18,"button",8),R("click",function(){return o.editDate(),o.openModal()}),y(19," Edit "),m()(),g(20,"p",10),y(21),g(22,"button",8),R("click",function(){return o.editDesc(),o.openModal()}),y(23," Edit "),m()(),g(24,"p",10),y(25),jt(26,"date"),g(27,"button",8),R("click",function(){return o.editLastDate(),o.openModal()}),y(28," Edit "),m()(),g(29,"button",11),y(30," Create Team "),m()()()(),O(31,"app-edit-tournament-form",12),Pe(32,F4,16,5,"div",13)),i&2&&(A(12),Dt(" ",o.tournament==null?null:o.tournament.bannerTitle," "),A(4),Dt(" ",Bt(17,6,o.tournament==null?null:o.tournament.date.toDate(),"dd-MM-yyyy")," "),A(5),Dt(" ",o.tournament==null?null:o.tournament.bannerDesc," "),A(4),Dt(" Last date to apply: ",Bt(26,9,o.tournament==null?null:o.tournament.bannerLastDate.toDate(),"dd-MM-yyyy")," "),A(6),G("tournament",o.tournament),A(),G("ngIf",o.isVisible))},dependencies:[ct,as,Qn,ux]});let t=e;return t})();var dx=[{path:"",component:tx,title:"Bookings"},{path:"login",component:KT,title:"Login"},{path:"booking-form",component:rx,title:"Booking Form"},{path:"all-bookings",component:ix,title:"All Bookings"},{path:"excel-form",component:ox,title:"Excel Form"},{path:"excel-match",component:sx,title:"Excel Match"},{path:"tournament",component:ax,title:"Tournament"},{path:"old-tournaments",component:cx,title:"Old Tournament"},{path:"edit-tournament",component:lx,title:"Edit Tournament"},{path:"**",redirectTo:""}];var V4={apiKey:"AIzaSyCP29nVcnjbsOXNeSXVZgRlVjhCJNCcYgY",authDomain:"essos-13593.firebaseapp.com",projectId:"essos-13593",storageBucket:"essos-13593.appspot.com",messagingSenderId:"234509148552",appId:"1:234509148552:web:19e5316606e6a5eaeb1a3d"},hx={providers:[$b(dx),rm([yC(()=>vC(V4)),fT(()=>pT())])]};var fx=(()=>{let e=class e{constructor(){this.firebaseAuth=w(Nn),this.router=w(Je),this.sharedService=w(Xe)}logout(){console.log("Logging out"),this.firebaseAuth.signOut()}addBooking(){this.sharedService.bookingForm.reset(),this.router.navigateByUrl("/booking-form")}collapseNavbar(){let r=document.getElementById("navbarColor02");r.classList.contains("show")&&r.classList.remove("show")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-navbar"]],standalone:!0,features:[be],decls:25,vars:0,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarColor02","aria-controls","navbarColor02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-5","mb-lg-0"],[1,"nav-item"],["routerLink","/",1,"nav-link",3,"click"],[1,"visually-hidden"],["routerLink","/all-bookings",1,"nav-link",3,"click"],[1,"btn","btn-secondary",3,"click"],["routerLink","/tournament",1,"btn","btn-secondary",3,"click"],[1,"d-flex"],[1,"btn","btn-success","my-2","my-sm-0",3,"click"]],template:function(i,o){i&1&&(g(0,"nav",0)(1,"div",1)(2,"a",2),R("click",function(){return o.collapseNavbar()}),y(3,"ESSOS"),m(),g(4,"button",3),O(5,"span",4),m(),g(6,"div",5)(7,"ul",6)(8,"li",7)(9,"button",8),R("click",function(){return o.collapseNavbar()}),y(10,"Home "),g(11,"span",9),y(12,"(current)"),m()()(),g(13,"li",7)(14,"button",10),R("click",function(){return o.collapseNavbar()}),y(15,"All Bookings"),m()(),g(16,"li",7)(17,"button",11),R("click",function(){return o.addBooking(),o.collapseNavbar()}),y(18,"Add Booking"),m()(),g(19,"li",7)(20,"button",12),R("click",function(){return o.collapseNavbar()}),y(21,"Tournaments"),m()()(),g(22,"div",13)(23,"button",14),R("click",function(){return o.logout()}),y(24,"Logout"),m()()()()())},dependencies:[gs]});let t=e;return t})();function L4(t,e){t&1&&O(0,"app-navbar")}var px=(()=>{let e=class e{constructor(){this.title="angular-essos",this.isLoggedin=null,this.firebaseAuth=w(Nn),this.sharedService=w(Xe),this.router=w(Je)}ngOnInit(){this.checkLoginStatus()}checkLoginStatus(){this.firebaseAuth.onAuthStateChanged(r=>{r?(console.log("checkLoginStatus: redirecting to home"),this.router.navigateByUrl("/edit-tournament"),this.isLoggedin=!0):(console.log("checkLoginStatus: redirecting to login."),this.router.navigateByUrl("/login"),this.isLoggedin=!1)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-root"]],standalone:!0,features:[be],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(i,o){i&1&&(Pe(0,L4,1,0,"app-navbar",0),O(1,"router-outlet")),i&2&&G("ngIf",o.isLoggedin)},dependencies:[Lg,ct,as,fx]});let t=e;return t})();ab(px,hx).catch(t=>console.error(t));
